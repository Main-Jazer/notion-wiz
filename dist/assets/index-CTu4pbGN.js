import{a as Zt,i as Ke,n as Oe,r as Ir,t as me}from"./rolldown-runtime-Dq6TatWD.js";import{$ as Br,A as zr,B as Ar,C as Bt,D as Mr,E as Lr,F as tt,G as nt,H as Nt,I as Ze,J as Er,K as Dr,L as Pr,M as Yt,N as Qt,O as Or,P as Xt,Q as Wr,R as xe,S as Kt,T as Rr,U as Hr,V as yt,W as Ee,X as Gr,Y as rt,Z as Vt,_ as $t,a as Tt,at as qr,b as er,c as ze,ct as Ur,d as Jr,et as tr,f as Zr,g as Yr,h as st,i as Qr,it as Xr,j as Kr,k as Vr,l as zt,lt as $r,m as eo,n as lt,nt as ye,o as rr,ot as to,p as we,q as At,r as fe,rt as ro,s as oo,st as Ft,t as ao,tt as or,u as Ae,ut as so,v as ar,w as no,x as Pe,y as sr,z as nr}from"./vendor-CUq-3k3-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const l of d)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(d){const l={};return d.integrity&&(l.integrity=d.integrity),d.referrerPolicy&&(l.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?l.credentials="include":d.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(d){if(d.ep)return;d.ep=!0;const l=t(d);fetch(d.href,l)}})();var lo=$r(),f=Zt(so(),1),ot=function(e,o){return e<o?-1:e>o?1:0},Mt=function(e){return e.reduce(function(o,t){return o+t},0)},io=(function(){function e(t){this.colors=t}var o=e.prototype;return o.palette=function(){return this.colors},o.map=function(t){return t},e})(),co=(function(){function e(l,s,h){return(l<<10)+(s<<5)+h}function o(l){var s=[],h=!1;function c(){s.sort(l),h=!0}return{push:function(m){s.push(m),h=!1},peek:function(m){return h||c(),m===void 0&&(m=s.length-1),s[m]},pop:function(){return h||c(),s.pop()},size:function(){return s.length},map:function(m){return s.map(m)},debug:function(){return h||c(),s}}}function t(l,s,h,c,m,p,u){var x=this;x.r1=l,x.r2=s,x.g1=h,x.g2=c,x.b1=m,x.b2=p,x.histo=u}function n(){this.vboxes=new o(function(l,s){return ot(l.vbox.count()*l.vbox.volume(),s.vbox.count()*s.vbox.volume())})}function d(l,s){if(s.count()){var h=s.r2-s.r1+1,c=s.g2-s.g1+1,m=Math.max.apply(null,[h,c,s.b2-s.b1+1]);if(s.count()==1)return[s.copy()];var p,u,x,k,j=0,T=[],_=[];if(m==h)for(p=s.r1;p<=s.r2;p++){for(k=0,u=s.g1;u<=s.g2;u++)for(x=s.b1;x<=s.b2;x++)k+=l[e(p,u,x)]||0;T[p]=j+=k}else if(m==c)for(p=s.g1;p<=s.g2;p++){for(k=0,u=s.r1;u<=s.r2;u++)for(x=s.b1;x<=s.b2;x++)k+=l[e(u,p,x)]||0;T[p]=j+=k}else for(p=s.b1;p<=s.b2;p++){for(k=0,u=s.r1;u<=s.r2;u++)for(x=s.g1;x<=s.g2;x++)k+=l[e(u,x,p)]||0;T[p]=j+=k}return T.forEach(function(v,g){_[g]=j-v}),(function(v){var g,y,B,C,R,D=v+"1",Y=v+"2",U=0;for(p=s[D];p<=s[Y];p++)if(T[p]>j/2){for(B=s.copy(),C=s.copy(),R=(g=p-s[D])<=(y=s[Y]-p)?Math.min(s[Y]-1,~~(p+y/2)):Math.max(s[D],~~(p-1-g/2));!T[R];)R++;for(U=_[R];!U&&T[R-1];)U=_[--R];return B[Y]=R,C[D]=B[Y]+1,[B,C]}})(m==h?"r":m==c?"g":"b")}}return t.prototype={volume:function(l){var s=this;return s._volume&&!l||(s._volume=(s.r2-s.r1+1)*(s.g2-s.g1+1)*(s.b2-s.b1+1)),s._volume},count:function(l){var s=this,h=s.histo;if(!s._count_set||l){var c,m,p,u=0;for(c=s.r1;c<=s.r2;c++)for(m=s.g1;m<=s.g2;m++)for(p=s.b1;p<=s.b2;p++)u+=h[e(c,m,p)]||0;s._count=u,s._count_set=!0}return s._count},copy:function(){var l=this;return new t(l.r1,l.r2,l.g1,l.g2,l.b1,l.b2,l.histo)},avg:function(l){var s=this,h=s.histo;if(!s._avg||l){var c,m,p,u,x=0,k=0,j=0,T=0;if(s.r1===s.r2&&s.g1===s.g2&&s.b1===s.b2)s._avg=[s.r1<<3,s.g1<<3,s.b1<<3];else{for(m=s.r1;m<=s.r2;m++)for(p=s.g1;p<=s.g2;p++)for(u=s.b1;u<=s.b2;u++)x+=c=h[e(m,p,u)]||0,k+=c*(m+.5)*8,j+=c*(p+.5)*8,T+=c*(u+.5)*8;s._avg=x?[~~(k/x),~~(j/x),~~(T/x)]:[~~(8*(s.r1+s.r2+1)/2),~~(8*(s.g1+s.g2+1)/2),~~(8*(s.b1+s.b2+1)/2)]}}return s._avg},contains:function(l){var s=this,h=l[0]>>3;return gval=l[1]>>3,bval=l[2]>>3,h>=s.r1&&h<=s.r2&&gval>=s.g1&&gval<=s.g2&&bval>=s.b1&&bval<=s.b2}},n.prototype={push:function(l){this.vboxes.push({vbox:l,color:l.avg()})},palette:function(){return this.vboxes.map(function(l){return l.color})},size:function(){return this.vboxes.size()},map:function(l){for(var s=this.vboxes,h=0;h<s.size();h++)if(s.peek(h).vbox.contains(l))return s.peek(h).color;return this.nearest(l)},nearest:function(l){for(var s,h,c,m=this.vboxes,p=0;p<m.size();p++)((h=Math.sqrt(Math.pow(l[0]-m.peek(p).color[0],2)+Math.pow(l[1]-m.peek(p).color[1],2)+Math.pow(l[2]-m.peek(p).color[2],2)))<s||s===void 0)&&(s=h,c=m.peek(p).color);return c},forcebw:function(){var l=this.vboxes;l.sort(function(m,p){return ot(Mt(m.color),Mt(p.color))});var s=l[0].color;s[0]<5&&s[1]<5&&s[2]<5&&(l[0].color=[0,0,0]);var h=l.length-1,c=l[h].color;c[0]>251&&c[1]>251&&c[2]>251&&(l[h].color=[255,255,255])}},{quantize:function(l,s){if(!Number.isInteger(s)||s<1||s>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!l.length||s<2||s>256||!l.length||s<2||s>256)return!1;for(var h=[],c=new Set,m=0;m<l.length;m++){var p=l[m],u=p.join(",");c.has(u)||(c.add(u),h.push(p))}if(h.length<=s)return new io(h);var x=(function(g){var y,B=new Array(32768);return g.forEach(function(C){y=e(C[0]>>3,C[1]>>3,C[2]>>3),B[y]=(B[y]||0)+1}),B})(l);x.forEach(function(){});var k=(function(g,y){var B,C,R,D=1e6,Y=0,U=1e6,ie=0,H=1e6,F=0;return g.forEach(function(te){(B=te[0]>>3)<D?D=B:B>Y&&(Y=B),(C=te[1]>>3)<U?U=C:C>ie&&(ie=C),(R=te[2]>>3)<H?H=R:R>F&&(F=R)}),new t(D,Y,U,ie,H,F,y)})(l,x),j=new o(function(g,y){return ot(g.count(),y.count())});function T(g,y){for(var B,C=g.size(),R=0;R<1e3;){if(C>=y||R++>1e3)return;if((B=g.pop()).count()){var D=d(x,B),Y=D[0],U=D[1];if(!Y)return;g.push(Y),U&&(g.push(U),C++)}else g.push(B),R++}}j.push(k),T(j,.75*s);for(var _=new o(function(g,y){return ot(g.count()*g.volume(),y.count()*y.volume())});j.size();)_.push(j.pop());T(_,s);for(var v=new n;_.size();)v.push(_.pop());return v}}})().quantize,lr=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};lr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Le=function(){};Le.prototype.getColor=function(e,o){return o===void 0&&(o=10),this.getPalette(e,5,o)[0]},Le.prototype.getPalette=function(e,o,t){var n=(function(s){var h=s.colorCount,c=s.quality;if(h!==void 0&&Number.isInteger(h)){if(h===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");h=Math.max(h,2),h=Math.min(h,20)}else h=10;return(c===void 0||!Number.isInteger(c)||c<1)&&(c=10),{colorCount:h,quality:c}})({colorCount:o,quality:t}),d=new lr(e),l=co((function(s,h,c){for(var m,p,u,x,k,j=s,T=[],_=0;_<h;_+=c)p=j[0+(m=4*_)],u=j[m+1],x=j[m+2],((k=j[m+3])===void 0||k>=125)&&(p>250&&u>250&&x>250||T.push([p,u,x]));return T})(d.getImageData().data,d.width*d.height,n.quality),n.colorCount);return l?l.palette():null},Le.prototype.getColorFromUrl=function(e,o,t){var n=this,d=document.createElement("img");d.addEventListener("load",function(){o(n.getPalette(d,5,t)[0],e)}),d.src=e},Le.prototype.getImageData=function(e,o){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){if(this.status==200){var n=new Uint8Array(this.response);i=n.length;for(var d=new Array(i),l=0;l<n.length;l++)d[l]=String.fromCharCode(n[l]);var s=d.join("");o("data:image/png;base64,"+window.btoa(s))}},t.send()},Le.prototype.getColorAsync=function(e,o,t){var n=this;this.getImageData(e,function(d){var l=document.createElement("img");l.addEventListener("load",function(){o(n.getPalette(l,5,t)[0],this)}),l.src=d})};var ne={electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ir={deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},Ye={heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},vt='"Montserrat", system-ui, sans-serif',Qe={h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},be={letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)"},it={gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)"},cr={minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}};const Me={colors:ne,ui:ir,fonts:Ye,fontFamily:vt,sizes:Qe,glowBlur:be.glowBlur,glowBlurSubtle:be.glowBlurSubtle,glow:be.glow,glowStrong:be.glowStrong,gradient:it.gradient,borderGradient:it.borderGradient,logo:cr},O={id:"jazer-neon",name:"JaZeR Neon",colors:ne,ui:ir,fonts:Ye,fontFamily:vt,sizes:Qe,effects:be,gradients:it,logo:cr,fontLinks:`
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
  `,cssVariables:`:root {
    --jazer-electric-purple: ${ne.electricPurple};
    --jazer-cosmic-blue: ${ne.cosmicBlue};
    --jazer-neon-pink: ${ne.neonPink};
    --jazer-sunburst-gold: ${ne.sunburstGold};
    --jazer-aether-teal: ${ne.aetherTeal};
    --jazer-ultraviolet: ${ne.ultraviolet};
    --jazer-night-black: ${ne.nightBlack};
    --jazer-stardust-white: ${ne.stardustWhite};
    --jazer-graphite: ${ne.graphite};
    --jazer-soft-slate: ${ne.softSlate};
    
    --jazer-glow-blur: ${be.glowBlur};
    --jazer-glow-purple: ${be.glow};
  }`,extraCSS:`
  body {
    background-color: ${ne.nightBlack};
    color: ${ne.stardustWhite};
    font-family: ${vt};
  }

  .neon-text { 
    font-family: "${Ye.heading}", system-ui, sans-serif; 
    color: ${ne.stardustWhite}; 
    text-shadow: ${be.glow}; 
    letter-spacing: ${be.letterSpacing}; 
  }
  .neon-gradient-text { 
    font-family: "${Ye.heading}", system-ui, sans-serif; 
    background: ${it.gradient}; 
    -webkit-background-clip: text; 
    background-clip: text; 
    color: transparent; 
    text-shadow: ${be.glow}; 
    letter-spacing: ${be.letterSpacing}; 
  }
  h1, h2, h3 { letter-spacing: ${be.letterSpacing}; font-family: "${Ye.heading}", system-ui, sans-serif; } 
  h1 { font-size: ${Qe.h1}; }
  h2 { font-size: ${Qe.h2}; color: ${ne.electricPurple}; }
  h3 { font-size: ${Qe.h3}; color: ${ne.cosmicBlue}; } 
  
  button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${ne.cosmicBlue}; outline-offset: 2px; }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 10px; }
  ::-webkit-scrollbar-track { background: ${ne.nightBlack}; }
  ::-webkit-scrollbar-thumb { background: ${ne.graphite}; border-radius: 5px; border: 1px solid ${ne.nightBlack}; }
  ::-webkit-scrollbar-thumb:hover { background: ${ne.softSlate}; }
  
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes roulette { 
    0% { transform: translateY(-20px); opacity: 0; } 
    100% { transform: translateY(0); opacity: 1; } 
  }
  `},uo={id:"counter",label:"Counter",description:"Track habits and count things",defaultConfig:{counterTitle:"Counter",preferredIcons:"plusMinus",counterSize:"medium",centerText:!0,textShadows:!1,transparentBg:!1,backgroundColor:O.colors.stardustWhite,hideResetButton:!1,step:1,minValue:null,maxValue:null,resetValue:0,textColorLight:O.colors.nightBlack,textColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"counterTitle",label:"Counter Title",type:"text",section:"settings"},{name:"preferredIcons",label:"Preferred Icons",type:"select",section:"settings",options:[{label:"Plus and Minus",value:"plusMinus"},{label:"Arrows",value:"arrows"}]},{name:"counterSize",label:"Counter Size",type:"select",section:"settings",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"centerText",label:"Center Text",type:"boolean",section:"style"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"style"},{name:"transparentBg",label:"Use Transparent Background",type:"boolean",section:"style"},{name:"backgroundColor",label:"Background Color",type:"color",section:"style"},{name:"hideResetButton",label:"Hide Reset Button",type:"boolean",section:"behavior"},{name:"step",label:"Step",type:"number",section:"behavior"},{name:"minValue",label:"Min Value",type:"number",section:"behavior"},{name:"maxValue",label:"Max Value",type:"number",section:"behavior"},{name:"resetValue",label:"Reset Value",type:"number",section:"behavior"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var r=ao(),dr=(0,f.createContext)();const po=({children:e})=>{const[o,t]=(0,f.useState)(O),[n,d]=(0,f.useState)(!1),[l,s]=(0,f.useState)("jazer-neon");(0,f.useEffect)(()=>{if(typeof window<"u"){const x=window.matchMedia("(prefers-color-scheme: dark)");d(x.matches);const k=j=>d(j.matches);return x.addEventListener("change",k),()=>x.removeEventListener("change",k)}},[]);const h=(0,f.useCallback)((x,k="custom")=>{t(x),s(k)},[]),c=(0,f.useCallback)(()=>{t(O),s("jazer-neon")},[]),m=(0,f.useCallback)((x,k=O.colors.stardustWhite)=>o?.colors?.[x]||k,[o]),p=(0,f.useMemo)(()=>({...o,isDark:n,activeBrandId:l,isJazerNeon:l==="jazer-neon"}),[o,n,l]),u=(0,f.useMemo)(()=>({theme:p,setTheme:h,resetToJazerNeon:c,getColor:m,activeBrandId:l,baseTheme:O}),[p,h,c,m,l]);return(0,r.jsx)(dr.Provider,{value:u,children:e})},Ve=()=>{const e=(0,f.useContext)(dr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},mo=({config:e,onCustomizeRequest:o})=>{const{getColor:t}=Ve(),[n,d]=(0,f.useState)(e.resetValue||0),[l,s]=(0,f.useState)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:e.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);(0,f.useEffect)(()=>{if(e.appearanceMode==="system"){const k=window.matchMedia("(prefers-color-scheme: dark)"),j=T=>s(T.matches);return k.addEventListener("change",j),()=>k.removeEventListener("change",j)}else e.appearanceMode==="dark"?s(!0):s(!1)},[e.appearanceMode]);const h={small:{container:"text-4xl p-4",button:"text-2xl px-3 py-1",title:"text-sm"},medium:{container:"text-6xl p-6",button:"text-3xl px-4 py-2",title:"text-base"},large:{container:"text-8xl p-8",button:"text-4xl px-5 py-2",title:"text-lg"},xlarge:{container:"text-9xl p-10",button:"text-5xl px-6 py-3",title:"text-xl"}},c=h[e.counterSize]||h.medium,m=l?e.textColorDark||t("stardustWhite"):e.textColorLight||t("graphite"),p=e.transparentBg?"transparent":e.backgroundColor||t("stardustWhite"),u={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"‚Üë",decrement:"‚Üì"}},x=u[e.preferredIcons]||u.plusMinus;return(0,r.jsxs)("div",{style:{backgroundColor:p,color:m,textAlign:e.centerText?"center":"left",textShadow:e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none",borderRadius:"8px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:e.centerText?"center":"flex-start"},className:`${c.container} relative`,children:[(0,r.jsx)("div",{className:`font-bold mb-4 ${c.title}`,children:e.counterTitle}),(0,r.jsx)("div",{className:"font-bold mb-6",children:n}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>d(k=>{const j=k-(e.step||1);return e.minValue!==null&&j<e.minValue?e.minValue:j}),className:`${c.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:l?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:m,border:`2px solid ${m}`},children:x.decrement}),(0,r.jsx)("button",{onClick:()=>d(k=>{const j=k+(e.step||1);return e.maxValue!==null&&j>e.maxValue?e.maxValue:j}),className:`${c.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:l?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:m,border:`2px solid ${m}`},children:x.increment}),!e.hideResetButton&&(0,r.jsx)("button",{onClick:()=>d(e.resetValue||0),className:`${c.button} rounded-lg hover:opacity-80 transition-opacity text-sm`,style:{backgroundColor:l?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:m,border:`1px solid ${m}`},children:"Reset"})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-xs font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>o?.("features"),children:"Customize"})]})};var Lt=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const ho=e=>{const o={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"‚Üë",decrement:"‚Üì"}},t=o[e.preferredIcons]||o.plusMinus;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${Lt(e.counterTitle)}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      background: ${e.transparentBg?"transparent":e.backgroundColor};
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .counter-container {
      text-align: ${e.centerText?"center":"left"};
      color: ${e.textColorLight};
      padding: ${e.counterSize==="small"?"1rem":e.counterSize==="large"?"2rem":e.counterSize==="xlarge"?"2.5rem":"1.5rem"};
    }
    .counter-title {
      font-size: ${e.counterSize==="small"?"0.875rem":e.counterSize==="large"?"1.125rem":e.counterSize==="xlarge"?"1.25rem":"1rem"};
      font-weight: bold;
      margin-bottom: 1rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-value {
      font-size: ${e.counterSize==="small"?"2.25rem":e.counterSize==="large"?"6rem":e.counterSize==="xlarge"?"8rem":"3.75rem"};
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-buttons {
      display: flex;
      gap: 1rem;
      justify-content: ${e.centerText?"center":"flex-start"};
    }
    button {
      font-size: ${e.counterSize==="small"?"1.5rem":e.counterSize==="large"?"2.25rem":e.counterSize==="xlarge"?"3rem":"1.875rem"};
      padding: ${e.counterSize==="small"?"0.25rem 0.75rem":e.counterSize==="large"?"0.5rem 1.25rem":e.counterSize==="xlarge"?"0.75rem 1.5rem":"0.5rem 1rem"};
      border-radius: 0.5rem;
      border: 2px solid currentColor;
      background: rgba(0,0,0,0.1);
      cursor: pointer;
      transition: opacity 0.2s;
    }
    button:hover { opacity: 0.8; }
    button.reset {
      font-size: 0.875rem;
      border-width: 1px;
      background: rgba(0,0,0,0.05);
    }
    @media (prefers-color-scheme: dark) {
      .counter-container { color: ${e.textColorDark}; }
      button { background: rgba(255,255,255,0.2); }
      button.reset { background: rgba(255,255,255,0.1); }
    }
  </style>
</head>
<body>
  <div class="counter-container">
    <div class="counter-title">${Lt(e.counterTitle)}</div>
    <div class="counter-value" id="count">0</div>
    <div class="counter-buttons">
      <button onclick="changeCount(-1)">${t.decrement}</button>
      <button onclick="changeCount(1)">${t.increment}</button>
      ${e.hideResetButton?"":'<button class="reset" onclick="resetCount()">Reset</button>'}
    </div>
  </div>
  <script>
    let count = parseInt(localStorage.getItem('counter_value') || '0');
    document.getElementById('count').textContent = count;
    
    function changeCount(delta) {
      count += delta;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
    
    function resetCount() {
      count = 0;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
  <\/script>
</body>
</html>`},go=()=>"",xo={id:"imageGallery",label:"Image Gallery",description:"Dynamic image gallery with advanced controls.",defaultConfig:{images:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e","https://images.unsplash.com/photo-1506744038136-462a42ee7a1b"],captions:[],minImagesRequired:1,sizingMode:"cover",animateGallerySpeedToggle:!1,scrollSpeed:"1s",dotsIndicator:!0,overlayArrows:!1,slideBackgroundColor:O.colors.stardustWhite,textColor:O.colors.nightBlack,dropShadows:!1,transparentBackground:!1,setBackgroundColor:!0,arrowColorLight:O.colors.graphite,arrowColorDark:O.colors.stardustWhite,dotsColorLight:O.colors.graphite,dotsColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"images",label:"Image URLs (one per line)",type:"textarea",section:"imageManagement"},{name:"captions",label:"Image Captions (one per line)",type:"textarea",section:"imageManagement"},{name:"sizingMode",label:"Image Sizing Mode",type:"select",section:"imageDisplay",options:[{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"Wrap Around Image Size",value:"wrap"}]},{name:"animateGallerySpeedToggle",label:"Animate Gallery Speed",type:"boolean",section:"animationControls"},{name:"scrollSpeed",label:"Scroll Speed",type:"select",section:"animationControls",options:[{label:"Very Slow (3s)",value:"3s"},{label:"Slow (2s)",value:"2s"},{label:"Regular (1s)",value:"1s"},{label:"Fast (0.5s)",value:"0.5s"},{label:"Very Fast (0.3s)",value:"0.3s"},{label:"Extremely Fast (0.2s)",value:"0.2s"},{label:"Warp Speed (0.1s)",value:"0.1s"}]},{name:"dotsIndicator",label:"Show Dots Indicator",type:"boolean",section:"navigation"},{name:"overlayArrows",label:"Show Overlay Arrows",type:"boolean",section:"navigation"},{name:"slideBackgroundColor",label:"Slide Background Color",type:"color",section:"style"},{name:"textColor",label:"Text Color",type:"color",section:"style"},{name:"dropShadows",label:"Drop Shadows",type:"boolean",section:"style"},{name:"transparentBackground",label:"Transparent Background",type:"boolean",section:"style"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"style"},{name:"arrowColorLight",label:"Arrow Color (Light Mode)",type:"color",section:"colors"},{name:"arrowColorDark",label:"Arrow Color (Dark Mode)",type:"color",section:"colors"},{name:"dotsColorLight",label:"Dots Color (Light Mode)",type:"color",section:"colors"},{name:"dotsColorDark",label:"Dots Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},bo=({config:e,onCustomizeRequest:o})=>{const t=(e.images||[]).filter(Boolean),[n,d]=(0,f.useState)(0),[l,s]=(0,f.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[h,c]=(0,f.useState)(!1),m=(0,f.useMemo)(()=>{const _=parseFloat(e.scrollSpeed);return(Number.isFinite(_)&&_>0?_:5)*1e3},[e.scrollSpeed]);(0,f.useEffect)(()=>{const _=window.matchMedia("(prefers-color-scheme: dark)"),v=g=>s(g.matches);return _.addEventListener("change",v),()=>_.removeEventListener("change",v)},[]);const p=(0,f.useMemo)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:l,[e.appearanceMode,l]);if((0,f.useEffect)(()=>{if(t.length===0){d(0);return}d(_=>Math.min(_,t.length-1))},[t.length]),(0,f.useEffect)(()=>{if(e.animateGallerySpeedToggle&&t.length>1){const v=setInterval(()=>{d(g=>(g+1)%t.length)},m);return()=>clearInterval(v)}},[e.animateGallerySpeedToggle,t.length,m]),t.length===0)return(0,r.jsx)("div",{className:"flex items-center justify-center h-full w-full text-neutral-500",children:"No images configured. Please add at least one image URL."});const u=()=>{c(!1),d(_=>(_+1)%t.length)},x=()=>{c(!1),d(_=>(_-1+t.length)%t.length)},k=t[n],j=p?e.arrowColorDark:e.arrowColorLight,T=p?e.dotsColorDark:e.dotsColorLight;return(0,r.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",style:{backgroundColor:e.transparentBackground?"transparent":e.slideBackgroundColor,boxShadow:e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none"},children:[h?(0,r.jsx)("div",{className:"flex items-center justify-center h-full w-full bg-neutral-200 text-neutral-500",children:"Error loading image."}):(0,r.jsx)("img",{src:k,alt:"Gallery Image",className:"max-w-full max-h-full transition-opacity duration-500",style:{objectFit:e.sizingMode==="wrap"?"unset":e.sizingMode,height:"100%"},onError:()=>c(!0),onLoad:()=>c(!1)}),e.overlayArrows&&t.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:j},children:"<"}),(0,r.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:j},children:">"})]}),e.dotsIndicator&&t.length>1&&(0,r.jsx)("div",{className:"absolute bottom-4 flex gap-2",children:t.map((_,v)=>(0,r.jsx)("span",{className:`block w-3 h-3 rounded-full ${v===n?"opacity-100":"opacity-50"}`,style:{backgroundColor:T,cursor:"pointer"},onClick:()=>d(v)},v))}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white",onClick:()=>o?.("imageManagement"),children:"Customize"})]})};var fo=e=>typeof e!="string"?e:e.replace(/[&<>'"]/,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const yo=e=>{const o=e.images.filter(Boolean);if(o.length===0)return`<div style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; color: ${O.colors.softSlate};">No images configured.</div>`;const t=e.appearanceMode==="dark"?e.arrowColorDark:e.arrowColorLight,n=e.appearanceMode==="dark"?e.dotsColorDark:e.dotsColorLight,d=e.transparentBackground?"transparent":e.slideBackgroundColor,l=e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none",s=parseFloat(e.scrollSpeed)*1e3;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Widget</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        .gallery-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: ${d};
            box-shadow: ${l};
            overflow: hidden;
        }
        .gallery-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: ${e.sizingMode==="wrap"?"unset":e.sizingMode};
            display: none; /* Controlled by JS */
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            height: 100%;
        }
        .gallery-image.active { display: block; opacity: 1; }
        .gallery-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: ${t};
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            border: none;
            z-index: 10;
        }
        .gallery-nav-arrow.left { left: 1rem; }
        .gallery-nav-arrow.right { right: 1rem; }
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .gallery-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: ${n};
            opacity: 0.5;
            cursor: pointer;
        }
        .gallery-dot.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="gallery-container">
        ${o.map((h,c)=>`<img src="${fo(h)}" class="gallery-image ${c===0?"active":""}" alt="Gallery Image ${c+1}">`).join("")}
        
        ${e.overlayArrows&&o.length>1?`
          <button class="gallery-nav-arrow left" onclick="prevImage()"></button>
          <button class="gallery-nav-arrow right" onclick="nextImage()">></button>
        `:""}

        ${e.dotsIndicator&&o.length>1?`
          <div class="gallery-dots">
            ${o.map((h,c)=>`<span class="gallery-dot ${c===0?"active":""}" onclick="goToImage(${c})"></span>`).join("")}
          </div>
        `:""}
    </div>
    <script>
        const images = ${JSON.stringify(o)};
        let currentIndex = 0;
        const galleryImages = document.querySelectorAll('.gallery-image');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        const animateGallery = ${e.animateGallerySpeedToggle};
        const scrollSpeed = ${s};
        let intervalId;

        function updateGallery() {
            galleryImages.forEach((img, idx) => {
                img.classList.toggle('active', idx === currentIndex);
            });
            galleryDots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === currentIndex);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updateGallery();
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateGallery();
        }

        function goToImage(index) {
            currentIndex = index;
            updateGallery();
        }

        if (animateGallery && images.length > 1) {
            intervalId = setInterval(nextImage, scrollSpeed);
        }

        // Initial display
        updateGallery();

        // Clear interval on window unload to prevent memory leaks (important for iframes)
        window.addEventListener('beforeunload', () => {
          if (intervalId) clearInterval(intervalId);
        });
    <\/script>
</body>
</html>`},vo=()=>"",wo={id:"quotes",label:"Quotes",description:"Dynamic quotes from Instagram with custom styling and typography.",defaultConfig:{instagramAccount:"positivemindsetdaily",quoteText:"Design is how it works.",author:"Steve Jobs",showRefreshIcon:!0,autoRefreshInterval:0,useQuoteAPI:!0,useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:"jazerNeonTheme.colors.stardustWhite",quoteTextFont:"body",attributionFont:"heading",textAlign:"center",textShadows:!1,textColorLight:"jazerNeonTheme.colors.nightBlack",textColorDark:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundLight:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundDark:"jazerNeonTheme.ui.deepSpace",refreshIconColor:"jazerNeonTheme.colors.electricPurple",authorColor:"jazerNeonTheme.colors.aetherTeal",appearanceMode:"system",gradientQuoteText:!1,gradientQuoteCardBorder:!1,glowQuoteCard:!1,glowRefreshIconHover:!1,useGradientRefreshIcon:!1,showHoverMenu:!0,showCustomizeButton:!0,fontSize:32,glowEffect:!1,gradientText:!1},fields:[{name:"instagramAccount",label:"Instagram Account",type:"text",section:"contentSource",placeholder:"positivemindsetdaily"},{name:"quoteText",label:"Quote Text",type:"textarea",section:"contentSource"},{name:"author",label:"Author",type:"text",section:"contentSource"},{name:"showRefreshIcon",label:"Show Refresh Icon",type:"boolean",section:"displayOptions"},{name:"useQuoteAPI",label:"Fetch Quotes from API",type:"boolean",section:"displayOptions"},{name:"autoRefreshInterval",label:"Auto-refresh Interval",type:"select",section:"displayOptions",options:[{label:"Disabled",value:0},{label:"1 Minute",value:1},{label:"5 Minutes",value:5},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"background"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"background"},{name:"backgroundColor",label:"Background Color",type:"color",section:"background"},{name:"quoteTextFont",label:"Quote Text Font",type:"select",section:"typography",options:[{label:"Default (Body)",value:"body"},{label:"Heading",value:"heading"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"attributionFont",label:"Attribution Font",type:"select",section:"typography",options:[{label:"Default (Heading)",value:"heading"},{label:"Body",value:"body"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"quoteBackgroundLight",label:"Quote Background (Light)",type:"color",section:"colors"},{name:"quoteBackgroundDark",label:"Quote Background (Dark)",type:"color",section:"colors"},{name:"refreshIconColor",label:"Refresh Icon Color",type:"color",section:"colors"},{name:"authorColor",label:"Author Color",type:"color",section:"colors"},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"do-nothing"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"gradientQuoteText",label:"Gradient Quote Text",type:"boolean",section:"effects"},{name:"gradientQuoteCardBorder",label:"Gradient Quote Card Border",type:"boolean",section:"effects"},{name:"glowQuoteCard",label:"Glow Effect on Quote Card",type:"boolean",section:"effects"},{name:"glowRefreshIconHover",label:"Glow on Refresh Icon Hover",type:"boolean",section:"effects"},{name:"useGradientRefreshIcon",label:"Use Gradient for Refresh Icon",type:"boolean",section:"effects"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},_o=({config:e,onCustomizeRequest:o})=>{const{theme:t}=Ve(),[n,d]=(0,f.useState)({text:e.quoteText,author:e.author}),[l,s]=(0,f.useState)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:e.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[h,c]=(0,f.useState)(!1),m=(0,f.useRef)(!0);(0,f.useEffect)(()=>()=>{m.current=!1},[]),(0,f.useEffect)(()=>{if(e.appearanceMode==="system"){const C=window.matchMedia("(prefers-color-scheme: dark)"),R=D=>s(D.matches);return C.addEventListener("change",R),()=>C.removeEventListener("change",R)}else e.appearanceMode==="dark"?s(!0):e.appearanceMode==="light"&&s(!1)},[e.appearanceMode]),(0,f.useEffect)(()=>{d({text:e.quoteText,author:e.author})},[e.quoteText,e.author]);const p=(0,f.useCallback)(async C=>{if(e.useQuoteAPI){c(!0);try{const R=await fetch("https://api.quotable.io/random",{signal:C});if(!R.ok)throw new Error("Failed to fetch quote");const D=await R.json();!C?.aborted&&m.current&&d({text:D.content,author:D.author})}catch(R){R.name}finally{!C?.aborted&&m.current&&c(!1)}}},[e.useQuoteAPI]);(0,f.useEffect)(()=>{if(!e.useQuoteAPI)return;const C=new AbortController;return p(C.signal),()=>C.abort()},[e.useQuoteAPI,p]),(0,f.useEffect)(()=>{if(!e.useQuoteAPI||e.autoRefreshInterval<=0)return;const C=setInterval(()=>{p()},e.autoRefreshInterval*60*1e3);return()=>clearInterval(C)},[e.autoRefreshInterval,e.useQuoteAPI,p]);const u=C=>({body:t.fonts.body,heading:t.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[C]||t.fonts.body,x=l?e.textColorDark:e.textColorLight,k=l?e.quoteBackgroundDark:e.quoteBackgroundLight,j=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:k,T=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",_={fontSize:`${e.fontSize}px`,fontFamily:u(e.quoteTextFont),fontStyle:"italic",lineHeight:"1.6",textShadow:T,...e.gradientQuoteText&&{background:t.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},v={fontFamily:u(e.attributionFont),color:e.authorColor,fontSize:"14px",fontWeight:"bold",opacity:.7,textTransform:"uppercase",letterSpacing:"2px",textShadow:T},g={background:j,color:(e.gradientQuoteText,x),textAlign:e.textAlign,padding:"48px",borderRadius:"16px",...e.gradientQuoteCardBorder&&{border:"2px solid transparent",backgroundImage:`${t.gradients.gradient}, ${j}`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},...e.glowQuoteCard&&{boxShadow:t.effects.glow}},y={marginTop:"16px",padding:"12px",borderRadius:"50%",backgroundColor:e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`,border:e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none",color:e.refreshIconColor,cursor:"pointer",transition:"all 0.3s ease",...e.useGradientRefreshIcon&&{background:t.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},B=e.glowRefreshIconHover?{filter:`drop-shadow(${t.effects.glow})`}:{};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 relative",style:{background:j,color:x},children:[h&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 backdrop-blur-sm z-10 rounded-lg",children:(0,r.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:t.fonts.heading},children:"Loading..."})}),(0,r.jsxs)("div",{style:g,className:"max-w-3xl w-full",children:[(0,r.jsxs)("p",{className:"mb-6",style:_,children:['"',n.text,'"']}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsxs)("span",{style:v,children:["‚Äî ",n.author]}),e.instagramAccount&&(0,r.jsxs)("a",{href:`https://www.instagram.com/${e.instagramAccount}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs opacity-50 hover:opacity-100 hover:underline transition-opacity",style:{color:x},children:[(0,r.jsx)(zr,{className:"w-3 h-3"}),"@",e.instagramAccount]})]}),e.showRefreshIcon&&(0,r.jsx)("button",{onClick:()=>p(),className:"mx-auto hover:scale-110 transition-transform",style:y,onMouseEnter:C=>{e.glowRefreshIconHover&&Object.assign(C.currentTarget.style,B)},onMouseLeave:C=>{e.glowRefreshIconHover&&(C.currentTarget.style.filter="none")},"aria-label":"Refresh Quote",disabled:h||!e.useQuoteAPI,children:(0,r.jsx)($t,{className:`w-5 h-5 ${h?"animate-spin":""}`})})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:t.colors.cosmicBlue,color:t.colors.stardustWhite,fontFamily:t.fonts.heading},onClick:()=>o?.("contentSource"),children:"Customize"})]})};var pe=O,Ue=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},Et=e=>({body:pe.fonts.body,heading:pe.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[e]||pe.fonts.body;const ko=e=>{const o=e.appearanceMode==="dark",t=o?e.textColorDark:e.textColorLight,n=o?e.quoteBackgroundDark:e.quoteBackgroundLight,d=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:n,l=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",s=`
    font-size: ${e.fontSize}px;
    font-family: ${Et(e.quoteTextFont)};
    font-style: italic;
    line-height: 1.6;
    text-shadow: ${l};
    ${e.gradientQuoteText?`
      background: ${pe.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:`color: ${t};`}
  `,h=`
    background: ${d};
    color: ${t};
    text-align: ${e.textAlign};
    padding: 48px;
    border-radius: 16px;
    max-width: 768px;
    width: 100%;
    ${e.gradientQuoteCardBorder?`
      border: 2px solid transparent;
      background-image: ${pe.gradients.gradient}, ${d};
      background-origin: border-box;
      background-clip: padding-box, border-box;
    `:""}
    ${e.glowQuoteCard?`box-shadow: ${pe.effects.glow};`:""}
  `,c=`
    margin-top: 16px;
    padding: 12px;
    border-radius: 50%;
    background-color: ${e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`};
    border: ${e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none"};
    color: ${e.refreshIconColor};
    cursor: pointer;
    transition: all 0.3s ease;
    ${e.useGradientRefreshIcon?`
      background: ${pe.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:""}
  `;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${Ue(e.author)} - Quote Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: ${d};
      font-family: ${pe.fonts.body};
      padding: 32px;
    }

    .quote-card {
      ${h}
    }

    .quote-text {
      ${s}
      margin-bottom: 24px;
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .author {
      font-family: ${Et(e.attributionFont)};
      color: ${e.authorColor};
      font-size: 14px;
      font-weight: bold;
      opacity: 0.7;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: ${l};
    }

    .instagram-link {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      opacity: 0.5;
      color: ${t};
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .instagram-link:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .refresh-button {
      ${c}
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .refresh-button:hover {
      transform: scale(1.1);
      ${e.glowRefreshIconHover?`filter: drop-shadow(${pe.effects.glow});`:""}
    }

    .refresh-button:active {
      transform: scale(0.95);
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      background-color: ${pe.colors.cosmicBlue};
      color: ${pe.colors.stardustWhite};
      font-family: ${pe.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 16px;
      z-index: 10;
    }

    .loading-text {
      font-size: 20px;
      font-weight: bold;
      font-family: ${pe.fonts.heading};
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body { background: ${e.quoteBackgroundDark}; }
        .quote-card { background: ${e.quoteBackgroundDark}; color: ${e.textColorDark}; }
        .instagram-link { color: ${e.textColorDark}; }
      `:""}
    }
  </style>
</head>
<body>
  <div class="quote-card" id="quote-card">
    <div id="loading" class="loading" style="display: none;">
      <span class="loading-text">Loading...</span>
    </div>

    <p class="quote-text" id="quote-text">
      "${Ue(e.quoteText)}"
    </p>

    <div class="attribution">
      <span class="author" id="author">
        ‚Äî ${Ue(e.author)}
      </span>

      ${e.instagramAccount?`
        <a href="https://www.instagram.com/${Ue(e.instagramAccount)}"
           target="_blank"
           rel="noopener noreferrer"
           class="instagram-link">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
          @${Ue(e.instagramAccount)}
        </a>
      `:""}
    </div>

    ${e.showRefreshIcon?`
      <button class="refresh-button" id="refresh-btn" onclick="fetchQuote()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.8L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.8L21 16"/><path d="M21 21v-5h-5"/></svg>
      </button>
    `:""}
  </div>

  ${e.showCustomizeButton?`
    <button class="customize-button">
      Customize
    </button>
  `:""}

  <script>
    ${ur(e)}
  <\/script>
</body>
</html>`},ur=()=>`
    const exampleQuotes = [
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
      { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
      { text: "Life is 10% what happens to you and 90% how you react to it.", author: "Charles R. Swindoll" },
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" }
    ];

    function fetchQuote() {
      const loading = document.getElementById('loading');
      const quoteText = document.getElementById('quote-text');
      const author = document.getElementById('author');

      loading.style.display = 'flex';

      setTimeout(() => {
        const randomQuote = exampleQuotes[Math.floor(Math.random() * exampleQuotes.length)];
        quoteText.textContent = '"' + randomQuote.text + '"';
        author.textContent = '‚Äî ' + randomQuote.author;
        loading.style.display = 'none';
      }, 500);
    }
  `,Co={id:"weather",label:"Weather",description:"Dynamic weather widget with forecast and customization.",sections:[{id:"locationSettings",label:"Location Settings",icon:"üìç",order:1},{id:"displayConfiguration",label:"Display Configuration",icon:"üìä",order:2},{id:"forecastOptions",label:"Forecast Options",icon:"üìÖ",order:3},{id:"layoutOptions",label:"Layout Options",icon:"üìê",order:4},{id:"appearance",label:"Appearance",icon:"üé®",order:5},{id:"typography",label:"Typography",icon:"üî§",order:6},{id:"background",label:"Background",icon:"üñºÔ∏è",order:7},{id:"theme",label:"Preset Themes",icon:"üé≠",order:8},{id:"effects",label:"Effects",icon:"‚ú®",order:9},{id:"features",label:"Additional Features",icon:"‚öôÔ∏è",order:10}],defaultConfig:{weatherLocation:"Austin, TX",useGeolocation:!0,preferredUnits:"imperial",numberOfDays:5,currentWeatherFields:["temperature","condition","humidity","wind"],dailyWeatherFields:["high","low","condition","precipitation"],hideTodayInForecast:!1,displayDates:!1,orientation:"auto",widgetSize:"medium",animateIcons:!0,greyscaleIcons:!1,textShadows:!1,fontScale:1,appearanceMode:"system",useTransparentBackground:!1,textColorLight:O.colors.graphite,textColorDark:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack,setBackgroundColor:!1,theme:{light:{textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},dark:{textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack}},textFontFamily:"default",googleFont:"none",textAlign:"center",backgroundTexture:"none",presetTheme:"none",glowEffect:!1,gradientText:!1,visuallyGroupForecast:!1,showHoverMenu:!0,showCustomizeButton:!0,timeFormat:"12h",showSevereAlerts:!0},validation:{weatherLocation:{required:!0,type:"string",minLength:2},currentWeatherFields:{required:!0,type:"array",minItems:1,maxItems:6},dailyWeatherFields:{required:!0,type:"array",minItems:1},numberOfDays:{type:"number",min:3,max:10},fontScale:{type:"number",min:.8,max:1.2,step:.1}},fields:[{name:"weatherLocation",label:"Weather Location",type:"text",section:"locationSettings",placeholder:"City, State or ZIP",helpText:"Uses free Open-Meteo API - no key required",required:!0},{name:"useGeolocation",label:"Auto-Detect Location",type:"boolean",section:"locationSettings",helpText:"Automatically detect user location (requires permission)"},{name:"preferredUnits",label:"Preferred Units",type:"select",section:"locationSettings",options:[{label:"Imperial (¬∞F, mph)",value:"imperial"},{label:"Metric (¬∞C, km/h)",value:"metric"}]},{name:"numberOfDays",label:"Number of Days",type:"select",section:"locationSettings",options:[{label:"3 Days",value:3},{label:"5 Days",value:5},{label:"7 Days",value:7},{label:"10 Days",value:10}]},{name:"currentWeatherFields",label:"Current Weather Fields",type:"multiselect",section:"displayConfiguration",helpText:"Select 1-6 fields to display",maxItems:6,options:[{label:"Temperature",value:"temperature"},{label:"Condition",value:"condition"},{label:"Humidity",value:"humidity"},{label:"Wind Speed",value:"wind"},{label:"Feels Like",value:"feelsLike"},{label:"UV Index",value:"uvIndex"},{label:"Cloud Cover",value:"cloudCover"},{label:"Pressure",value:"pressure"},{label:"Visibility",value:"visibility"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"dailyWeatherFields",label:"Daily Weather Fields",type:"multiselect",section:"displayConfiguration",options:[{label:"High Temp",value:"high"},{label:"Low Temp",value:"low"},{label:"Condition",value:"condition"},{label:"Precipitation",value:"precipitation"},{label:"Wind",value:"wind"},{label:"UV Index",value:"uvIndex"},{label:"Humidity",value:"humidity"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"hideTodayInForecast",label:"Hide Today in Forecast",type:"boolean",section:"forecastOptions",helpText:"Show forecast starting from tomorrow"},{name:"displayDates",label:"Display Dates",type:"boolean",section:"forecastOptions",helpText:"Show dates alongside day names"},{name:"orientation",label:"Orientation",type:"select",section:"layoutOptions",options:[{label:"Auto (Responsive)",value:"auto"},{label:"Horizontal",value:"horizontal"},{label:"Compact",value:"compact"},{label:"Wide",value:"wide"}]},{name:"widgetSize",label:"Widget Size",type:"select",section:"layoutOptions",helpText:"Control the overall dimensions of the widget",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}]},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",helpText:"Control light/dark mode behavior",options:[{label:"Use System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"appearance",helpText:"Override background colors with transparency"},{name:"theme.light.textColor",label:"Light Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.light.backgroundColor",label:"Light Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.textColor",label:"Dark Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.backgroundColor",label:"Dark Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"animateIcons",label:"Animate Weather Icons",type:"boolean",section:"appearance"},{name:"greyscaleIcons",label:"Greyscale Icons",type:"boolean",section:"appearance"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"appearance",helpText:"Add subtle shadows for better readability"},{name:"fontScale",label:"Font Scale",type:"range",section:"appearance",min:.8,max:1.2,step:.1},{name:"textFontFamily",label:"Base Font Style",type:"select",section:"typography",options:[{label:"Default (Sans-serif)",value:"default"},{label:"Serif",value:"serif"},{label:"Monospace",value:"mono"}]},{name:"googleFont",label:"Google Font Override",type:"select",section:"typography",helpText:"Apply a custom Google Font (overrides base font)",options:[{label:"None",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",helpText:"Add a subtle pattern overlay",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",helpText:"Quick-apply a pre-designed theme (overrides custom colors)",options:[{label:"None (Use Custom Settings)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects",helpText:"Add a subtle glow around elements"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects",helpText:"Apply color gradients to text"},{name:"visuallyGroupForecast",label:"Visually Group Forecast",type:"boolean",section:"features",helpText:"Add visual separation between forecast days"},{name:"timeFormat",label:"Time Format",type:"select",section:"features",options:[{label:"12-hour (AM/PM)",value:"12h"},{label:"24-hour",value:"24h"}]},{name:"showSevereAlerts",label:"Show Severe Weather Alerts",type:"boolean",section:"features",helpText:"Display warnings for severe weather conditions"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features",helpText:"Display interactive menu on hover"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features",helpText:"Show button to open customization panel"}]};var jo=me({"node_modules/prop-types/lib/ReactPropTypesSecret.js":((e,o)=>{var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=t})}),So=me({"node_modules/prop-types/factoryWithThrowingShims.js":((e,o)=>{var t=jo();function n(){}function d(){}d.resetWarningCache=n,o.exports=function(){function l(c,m,p,u,x,k){if(k!==t){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}l.isRequired=l;function s(){return l}var h={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:s,element:l,elementType:l,instanceOf:s,node:l,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:d,resetWarningCache:n};return h.PropTypes=h,h}})}),No=me({"node_modules/prop-types/index.js":((e,o)=>{o.exports=So()()})}),To,Fo,Io,Bo,It=Oe({"node_modules/flatbuffers/mjs/constants.js":(()=>{To=2,Fo=4,Io=4,Bo=4})}),ve,ct,dt,De,pr=Oe({"node_modules/flatbuffers/mjs/utils.js":(()=>{ve=new Int32Array(2),ct=new Float32Array(ve.buffer),dt=new Float64Array(ve.buffer),De=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1})}),ut,mr=Oe({"node_modules/flatbuffers/mjs/encoding.js":(()=>{(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(ut||(ut={}))})}),pt,hr=Oe({"node_modules/flatbuffers/mjs/byte-buffer.js":(()=>{It(),mr(),pr(),pt=class gr{constructor(o){this.bytes_=o,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(o){return new gr(new Uint8Array(o))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(o){this.position_=o}capacity(){return this.bytes_.length}readInt8(o){return this.readUint8(o)<<24>>24}readUint8(o){return this.bytes_[o]}readInt16(o){return this.readUint16(o)<<16>>16}readUint16(o){return this.bytes_[o]|this.bytes_[o+1]<<8}readInt32(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24}readUint32(o){return this.readInt32(o)>>>0}readInt64(o){return BigInt.asIntN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readUint64(o){return BigInt.asUintN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readFloat32(o){return ve[0]=this.readInt32(o),ct[0]}readFloat64(o){return ve[De?0:1]=this.readInt32(o),ve[De?1:0]=this.readInt32(o+4),dt[0]}writeInt8(o,t){this.bytes_[o]=t}writeUint8(o,t){this.bytes_[o]=t}writeInt16(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8}writeUint16(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8}writeInt32(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8,this.bytes_[o+2]=t>>16,this.bytes_[o+3]=t>>24}writeUint32(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8,this.bytes_[o+2]=t>>16,this.bytes_[o+3]=t>>24}writeInt64(o,t){this.writeInt32(o,Number(BigInt.asIntN(32,t))),this.writeInt32(o+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(o,t){this.writeUint32(o,Number(BigInt.asUintN(32,t))),this.writeUint32(o+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(o,t){ct[0]=t,this.writeInt32(o,ve[0])}writeFloat64(o,t){dt[0]=t,this.writeInt32(o,ve[De?0:1]),this.writeInt32(o+4,ve[De?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let o="";for(let t=0;t<4;t++)o+=String.fromCharCode(this.readInt8(this.position_+4+t));return o}__offset(o,t){const n=o-this.readInt32(o);return t<this.readInt16(n)?this.readInt16(n+t):0}__union(o,t){return o.bb_pos=t+this.readInt32(t),o.bb=this,o}__string(o,t){o+=this.readInt32(o);const n=this.readInt32(o);o+=4;const d=this.bytes_.subarray(o,o+n);return t===ut.UTF8_BYTES?d:this.text_decoder_.decode(d)}__union_with_string(o,t){return typeof o=="string"?this.__string(t):this.__union(o,t)}__indirect(o){return o+this.readInt32(o)}__vector(o){return o+this.readInt32(o)+4}__vector_len(o){return this.readInt32(o+this.readInt32(o))}__has_identifier(o){if(o.length!=4)throw new Error("FlatBuffers: file identifier must be length 4");for(let t=0;t<4;t++)if(o.charCodeAt(t)!=this.readInt8(this.position()+4+t))return!1;return!0}createScalarList(o,t){const n=[];for(let d=0;d<t;++d){const l=o(d);l!==null&&n.push(l)}return n}createObjList(o,t){const n=[];for(let d=0;d<t;++d){const l=o(d);l!==null&&n.push(l.unpack())}return n}}})}),xr,zo=Oe({"node_modules/flatbuffers/mjs/builder.js":(()=>{hr(),It(),xr=class br{constructor(o){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let t;o?t=o:t=1024,this.bb=pt.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(o){this.force_defaults=o}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(o,t){o>this.minalign&&(this.minalign=o);const n=~(this.bb.capacity()-this.space+t)+1&o-1;for(;this.space<n+o+t;){const d=this.bb.capacity();this.bb=br.growByteBuffer(this.bb),this.space+=this.bb.capacity()-d}this.pad(n)}pad(o){for(let t=0;t<o;t++)this.bb.writeInt8(--this.space,0)}writeInt8(o){this.bb.writeInt8(this.space-=1,o)}writeInt16(o){this.bb.writeInt16(this.space-=2,o)}writeInt32(o){this.bb.writeInt32(this.space-=4,o)}writeInt64(o){this.bb.writeInt64(this.space-=8,o)}writeFloat32(o){this.bb.writeFloat32(this.space-=4,o)}writeFloat64(o){this.bb.writeFloat64(this.space-=8,o)}addInt8(o){this.prep(1,0),this.writeInt8(o)}addInt16(o){this.prep(2,0),this.writeInt16(o)}addInt32(o){this.prep(4,0),this.writeInt32(o)}addInt64(o){this.prep(8,0),this.writeInt64(o)}addFloat32(o){this.prep(4,0),this.writeFloat32(o)}addFloat64(o){this.prep(8,0),this.writeFloat64(o)}addFieldInt8(o,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(o))}addFieldInt16(o,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(o))}addFieldInt32(o,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(o))}addFieldInt64(o,t,n){(this.force_defaults||t!==n)&&(this.addInt64(t),this.slot(o))}addFieldFloat32(o,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(o))}addFieldFloat64(o,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(o))}addFieldOffset(o,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(o))}addFieldStruct(o,t,n){t!=n&&(this.nested(t),this.slot(o))}nested(o){if(o!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(o){this.vtable!==null&&(this.vtable[o]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(o){const t=o.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=t<<1,d=pt.allocate(n);return d.setPosition(n-t),d.bytes().set(o.bytes(),n-t),d}addOffset(o){this.prep(4,0),this.writeInt32(this.offset()-o+4)}startObject(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(let t=0;t<o;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const o=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const n=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?o-this.vtable[t]:0);const d=2;this.addInt16(o-this.object_start);const l=(n+d)*2;this.addInt16(l);let s=0;const h=this.space;e:for(t=0;t<this.vtables.length;t++){const c=this.bb.capacity()-this.vtables[t];if(l==this.bb.readInt16(c)){for(let m=2;m<l;m+=2)if(this.bb.readInt16(h+m)!=this.bb.readInt16(c+m))continue e;s=this.vtables[t];break}}return s?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,s-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o}finish(o,t,n){const d=n?4:0;if(t){const l=t;if(this.prep(this.minalign,8+d),l.length!=4)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let s=3;s>=0;s--)this.writeInt8(l.charCodeAt(s))}this.prep(this.minalign,4+d),this.addOffset(o),d&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(o,t){this.finish(o,t,!0)}requiredField(o,t){const n=this.bb.capacity()-o,d=n-this.bb.readInt32(n);if(!(t<this.bb.readInt16(d)&&this.bb.readInt16(d+t)!=0))throw new TypeError("FlatBuffers: field "+t+" must be set")}startVector(o,t,n){this.notNested(),this.vector_num_elems=t,this.prep(4,o*t),this.prep(n,o*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(o){if(!o)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(o))return this.string_maps.get(o);const t=this.createString(o);return this.string_maps.set(o,t),t}createString(o){if(o==null)return 0;let t;return o instanceof Uint8Array?t=o:t=this.text_encoder.encode(o),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()}createByteVector(o){return o==null?0:(this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length),this.bb.bytes().set(o,this.space),this.endVector())}createObjectOffset(o){return o===null?0:typeof o=="string"?this.createString(o):o.pack(this)}createObjectOffsetList(o){const t=[];for(let n=0;n<o.length;++n){const d=o[n];if(d!==null)t.push(this.createObjectOffset(d));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(o,t){return t(this,o.length),this.createObjectOffsetList(o.slice().reverse()),this.endVector()}}})}),$e=Ir({Builder:()=>xr,ByteBuffer:()=>pt,Encoding:()=>ut,FILE_IDENTIFIER_LENGTH:()=>4,SIZEOF_INT:()=>4,SIZEOF_SHORT:()=>2,SIZE_PREFIX_LENGTH:()=>4,float32:()=>ct,float64:()=>dt,int32:()=>ve,isLittleEndian:()=>De}),et=Oe({"node_modules/flatbuffers/mjs/flatbuffers.js":(()=>{It(),pr(),zo(),hr(),mr()})}),Ao=me({"node_modules/@openmeteo/sdk/model.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.best_match=1]="best_match",t[t.gfs_seamless=2]="gfs_seamless",t[t.gfs_global=3]="gfs_global",t[t.gfs_hrrr=4]="gfs_hrrr",t[t.meteofrance_seamless=5]="meteofrance_seamless",t[t.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",t[t.meteofrance_arpege_world=7]="meteofrance_arpege_world",t[t.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",t[t.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",t[t.meteofrance_arome_france=10]="meteofrance_arome_france",t[t.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",t[t.jma_seamless=12]="jma_seamless",t[t.jma_msm=13]="jma_msm",t[t.jms_gsm=14]="jms_gsm",t[t.jma_gsm=15]="jma_gsm",t[t.gem_seamless=16]="gem_seamless",t[t.gem_global=17]="gem_global",t[t.gem_regional=18]="gem_regional",t[t.gem_hrdps_continental=19]="gem_hrdps_continental",t[t.icon_seamless=20]="icon_seamless",t[t.icon_global=21]="icon_global",t[t.icon_eu=22]="icon_eu",t[t.icon_d2=23]="icon_d2",t[t.ecmwf_ifs04=24]="ecmwf_ifs04",t[t.metno_nordic=25]="metno_nordic",t[t.era5_seamless=26]="era5_seamless",t[t.era5=27]="era5",t[t.cerra=28]="cerra",t[t.era5_land=29]="era5_land",t[t.ecmwf_ifs=30]="ecmwf_ifs",t[t.gwam=31]="gwam",t[t.ewam=32]="ewam",t[t.glofas_seamless_v3=33]="glofas_seamless_v3",t[t.glofas_forecast_v3=34]="glofas_forecast_v3",t[t.glofas_consolidated_v3=35]="glofas_consolidated_v3",t[t.glofas_seamless_v4=36]="glofas_seamless_v4",t[t.glofas_forecast_v4=37]="glofas_forecast_v4",t[t.glofas_consolidated_v4=38]="glofas_consolidated_v4",t[t.gfs025=39]="gfs025",t[t.gfs05=40]="gfs05",t[t.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",t[t.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",t[t.FGOALS_f3_H=43]="FGOALS_f3_H",t[t.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",t[t.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",t[t.EC_Earth3P_HR=46]="EC_Earth3P_HR",t[t.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",t[t.NICAM16_8S=48]="NICAM16_8S",t[t.cams_europe=49]="cams_europe",t[t.cams_global=50]="cams_global",t[t.cfsv2=51]="cfsv2",t[t.era5_ocean=52]="era5_ocean",t[t.cma_grapes_global=53]="cma_grapes_global",t[t.bom_access_global=54]="bom_access_global",t[t.bom_access_global_ensemble=55]="bom_access_global_ensemble",t[t.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",t[t.arpae_cosmo_2i=57]="arpae_cosmo_2i",t[t.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",t[t.arpae_cosmo_5m=59]="arpae_cosmo_5m",t[t.ecmwf_ifs025=60]="ecmwf_ifs025",t[t.ecmwf_aifs025=61]="ecmwf_aifs025",t[t.gfs013=62]="gfs013",t[t.gfs_graphcast025=63]="gfs_graphcast025",t[t.ecmwf_wam025=64]="ecmwf_wam025",t[t.meteofrance_wave=65]="meteofrance_wave",t[t.meteofrance_currents=66]="meteofrance_currents",t[t.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",t[t.ncep_gfswave025=68]="ncep_gfswave025",t[t.ncep_gefswave025=69]="ncep_gefswave025",t[t.knmi_seamless=70]="knmi_seamless",t[t.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",t[t.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",t[t.dmi_seamless=73]="dmi_seamless",t[t.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",t[t.metno_seamless=75]="metno_seamless",t[t.era5_ensemble=76]="era5_ensemble",t[t.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",t[t.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",t[t.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",t[t.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",t[t.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",t[t.ukmo_seamless=82]="ukmo_seamless",t[t.ncep_gfswave016=83]="ncep_gfswave016",t[t.ncep_nbm_conus=84]="ncep_nbm_conus",t[t.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",t[t.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",t[t.jma_jaxa_himawari=87]="jma_jaxa_himawari",t[t.eumetsat_sarah3=88]="eumetsat_sarah3",t[t.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",t[t.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",t[t.satellite_radiation_seamless=91]="satellite_radiation_seamless",t[t.kma_gdps=92]="kma_gdps",t[t.kma_ldps=93]="kma_ldps",t[t.kma_seamless=94]="kma_seamless",t[t.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",t[t.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",t[t.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",t[t.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",t[t.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",t[t.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",t[t.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",t[t.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",t[t.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",t[t.ncep_nam_conus=104]="ncep_nam_conus",t[t.icon_d2_ruc=105]="icon_d2_ruc",t[t.ecmwf_seas5=106]="ecmwf_seas5",t[t.ecmwf_ec46=107]="ecmwf_ec46",t[t.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",t[t.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",t[t.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",t[t.gem_hrdps_west=111]="gem_hrdps_west"})(o||(e.Model=o={}))})}),Mo=me({"node_modules/@openmeteo/sdk/aggregation.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregation=void 0;var o;(function(t){t[t.none=0]="none",t[t.minimum=1]="minimum",t[t.maximum=2]="maximum",t[t.mean=3]="mean",t[t.p10=4]="p10",t[t.p25=5]="p25",t[t.median=6]="median",t[t.p75=7]="p75",t[t.p90=8]="p90",t[t.dominant=9]="dominant",t[t.sum=10]="sum",t[t.spread=11]="spread",t[t.anomaly=12]="anomaly",t[t.sot10=13]="sot10",t[t.sot90=14]="sot90",t[t.efi=15]="efi"})(o||(e.Aggregation=o={}))})}),Lo=me({"node_modules/@openmeteo/sdk/probability.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Probability=void 0;var o;(function(t){t[t.none=0]="none",t[t.gt0=1]="gt0",t[t.gt0p1=2]="gt0p1",t[t.gt1=3]="gt1",t[t.gt2=4]="gt2",t[t.gt3=5]="gt3",t[t.gt4=6]="gt4",t[t.gt5=7]="gt5",t[t.gt8=8]="gt8",t[t.gt10=9]="gt10",t[t.gt15=10]="gt15",t[t.gt20=11]="gt20",t[t.gt25=12]="gt25",t[t.gt30=13]="gt30",t[t.gt35=14]="gt35",t[t.gt40=15]="gt40",t[t.gt50=16]="gt50",t[t.gt60=17]="gt60",t[t.gt75=18]="gt75",t[t.gt80=19]="gt80",t[t.gt100=20]="gt100",t[t.lt0=21]="lt0",t[t.lt0p1=22]="lt0p1",t[t.lt1=23]="lt1",t[t.ltm1=24]="ltm1",t[t.ltm2=25]="ltm2",t[t.ltm3=26]="ltm3",t[t.ltm4=27]="ltm4",t[t.ltm5=28]="ltm5",t[t.ltm8=29]="ltm8",t[t.ltm10=30]="ltm10",t[t.ltm15=31]="ltm15",t[t.ltm20=32]="ltm20",t[t.gt1stdev=33]="gt1stdev",t[t.gt1p5stdev=34]="gt1p5stdev",t[t.gt2stdev=35]="gt2stdev",t[t.lt1stdev=36]="lt1stdev",t[t.lt1p5stdev=37]="lt1p5stdev",t[t.lt2stdev=38]="lt2stdev"})(o||(e.Probability=o={}))})}),Eo=me({"node_modules/@openmeteo/sdk/unit.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unit=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.celsius=1]="celsius",t[t.centimetre=2]="centimetre",t[t.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",t[t.cubic_metre_per_second=4]="cubic_metre_per_second",t[t.degree_direction=5]="degree_direction",t[t.dimensionless_integer=6]="dimensionless_integer",t[t.dimensionless=7]="dimensionless",t[t.european_air_quality_index=8]="european_air_quality_index",t[t.fahrenheit=9]="fahrenheit",t[t.feet=10]="feet",t[t.fraction=11]="fraction",t[t.gdd_celsius=12]="gdd_celsius",t[t.geopotential_metre=13]="geopotential_metre",t[t.grains_per_cubic_metre=14]="grains_per_cubic_metre",t[t.gram_per_kilogram=15]="gram_per_kilogram",t[t.hectopascal=16]="hectopascal",t[t.hours=17]="hours",t[t.inch=18]="inch",t[t.iso8601=19]="iso8601",t[t.joule_per_kilogram=20]="joule_per_kilogram",t[t.kelvin=21]="kelvin",t[t.kilopascal=22]="kilopascal",t[t.kilogram_per_square_metre=23]="kilogram_per_square_metre",t[t.kilometres_per_hour=24]="kilometres_per_hour",t[t.knots=25]="knots",t[t.megajoule_per_square_metre=26]="megajoule_per_square_metre",t[t.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",t[t.metre_per_second=28]="metre_per_second",t[t.metre=29]="metre",t[t.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",t[t.miles_per_hour=31]="miles_per_hour",t[t.millimetre=32]="millimetre",t[t.pascal=33]="pascal",t[t.per_second=34]="per_second",t[t.percentage=35]="percentage",t[t.seconds=36]="seconds",t[t.unix_time=37]="unix_time",t[t.us_air_quality_index=38]="us_air_quality_index",t[t.watt_per_square_metre=39]="watt_per_square_metre",t[t.wmo_code=40]="wmo_code",t[t.parts_per_million=41]="parts_per_million",t[t.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(o||(e.Unit=o={}))})}),Do=me({"node_modules/@openmeteo/sdk/variable.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.apparent_temperature=1]="apparent_temperature",t[t.cape=2]="cape",t[t.cloud_cover=3]="cloud_cover",t[t.cloud_cover_high=4]="cloud_cover_high",t[t.cloud_cover_low=5]="cloud_cover_low",t[t.cloud_cover_mid=6]="cloud_cover_mid",t[t.daylight_duration=7]="daylight_duration",t[t.dew_point=8]="dew_point",t[t.diffuse_radiation=9]="diffuse_radiation",t[t.diffuse_radiation_instant=10]="diffuse_radiation_instant",t[t.direct_normal_irradiance=11]="direct_normal_irradiance",t[t.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",t[t.direct_radiation=13]="direct_radiation",t[t.direct_radiation_instant=14]="direct_radiation_instant",t[t.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",t[t.evapotranspiration=16]="evapotranspiration",t[t.freezing_level_height=17]="freezing_level_height",t[t.growing_degree_days=18]="growing_degree_days",t[t.is_day=19]="is_day",t[t.latent_heat_flux=20]="latent_heat_flux",t[t.leaf_wetness_probability=21]="leaf_wetness_probability",t[t.lifted_index=22]="lifted_index",t[t.lightning_potential=23]="lightning_potential",t[t.precipitation=24]="precipitation",t[t.precipitation_hours=25]="precipitation_hours",t[t.precipitation_probability=26]="precipitation_probability",t[t.pressure_msl=27]="pressure_msl",t[t.rain=28]="rain",t[t.relative_humidity=29]="relative_humidity",t[t.runoff=30]="runoff",t[t.sensible_heat_flux=31]="sensible_heat_flux",t[t.shortwave_radiation=32]="shortwave_radiation",t[t.shortwave_radiation_instant=33]="shortwave_radiation_instant",t[t.showers=34]="showers",t[t.snow_depth=35]="snow_depth",t[t.snow_height=36]="snow_height",t[t.snowfall=37]="snowfall",t[t.snowfall_height=38]="snowfall_height",t[t.snowfall_water_equivalent=39]="snowfall_water_equivalent",t[t.sunrise=40]="sunrise",t[t.sunset=41]="sunset",t[t.soil_moisture=42]="soil_moisture",t[t.soil_moisture_index=43]="soil_moisture_index",t[t.soil_temperature=44]="soil_temperature",t[t.surface_pressure=45]="surface_pressure",t[t.surface_temperature=46]="surface_temperature",t[t.temperature=47]="temperature",t[t.terrestrial_radiation=48]="terrestrial_radiation",t[t.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",t[t.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",t[t.updraft=51]="updraft",t[t.uv_index=52]="uv_index",t[t.uv_index_clear_sky=53]="uv_index_clear_sky",t[t.vapour_pressure_deficit=54]="vapour_pressure_deficit",t[t.visibility=55]="visibility",t[t.weather_code=56]="weather_code",t[t.wind_direction=57]="wind_direction",t[t.wind_gusts=58]="wind_gusts",t[t.wind_speed=59]="wind_speed",t[t.vertical_velocity=60]="vertical_velocity",t[t.geopotential_height=61]="geopotential_height",t[t.wet_bulb_temperature=62]="wet_bulb_temperature",t[t.river_discharge=63]="river_discharge",t[t.wave_height=64]="wave_height",t[t.wave_period=65]="wave_period",t[t.wave_direction=66]="wave_direction",t[t.wind_wave_height=67]="wind_wave_height",t[t.wind_wave_period=68]="wind_wave_period",t[t.wind_wave_peak_period=69]="wind_wave_peak_period",t[t.wind_wave_direction=70]="wind_wave_direction",t[t.swell_wave_height=71]="swell_wave_height",t[t.swell_wave_period=72]="swell_wave_period",t[t.swell_wave_peak_period=73]="swell_wave_peak_period",t[t.swell_wave_direction=74]="swell_wave_direction",t[t.pm10=75]="pm10",t[t.pm2p5=76]="pm2p5",t[t.dust=77]="dust",t[t.aerosol_optical_depth=78]="aerosol_optical_depth",t[t.carbon_monoxide=79]="carbon_monoxide",t[t.nitrogen_dioxide=80]="nitrogen_dioxide",t[t.ammonia=81]="ammonia",t[t.ozone=82]="ozone",t[t.sulphur_dioxide=83]="sulphur_dioxide",t[t.alder_pollen=84]="alder_pollen",t[t.birch_pollen=85]="birch_pollen",t[t.grass_pollen=86]="grass_pollen",t[t.mugwort_pollen=87]="mugwort_pollen",t[t.olive_pollen=88]="olive_pollen",t[t.ragweed_pollen=89]="ragweed_pollen",t[t.european_aqi=90]="european_aqi",t[t.european_aqi_pm2p5=91]="european_aqi_pm2p5",t[t.european_aqi_pm10=92]="european_aqi_pm10",t[t.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",t[t.european_aqi_ozone=94]="european_aqi_ozone",t[t.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",t[t.us_aqi=96]="us_aqi",t[t.us_aqi_pm2p5=97]="us_aqi_pm2p5",t[t.us_aqi_pm10=98]="us_aqi_pm10",t[t.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",t[t.us_aqi_ozone=100]="us_aqi_ozone",t[t.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",t[t.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",t[t.sunshine_duration=103]="sunshine_duration",t[t.convective_inhibition=104]="convective_inhibition",t[t.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",t[t.global_tilted_irradiance=106]="global_tilted_irradiance",t[t.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",t[t.ocean_current_velocity=108]="ocean_current_velocity",t[t.ocean_current_direction=109]="ocean_current_direction",t[t.cloud_base=110]="cloud_base",t[t.cloud_top=111]="cloud_top",t[t.mass_density=112]="mass_density",t[t.boundary_layer_height=113]="boundary_layer_height",t[t.formaldehyde=114]="formaldehyde",t[t.glyoxal=115]="glyoxal",t[t.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",t[t.pm10_wildfires=117]="pm10_wildfires",t[t.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",t[t.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",t[t.residential_elementary_carbon=120]="residential_elementary_carbon",t[t.total_elementary_carbon=121]="total_elementary_carbon",t[t.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",t[t.sea_salt_aerosol=123]="sea_salt_aerosol",t[t.nitrogen_monoxide=124]="nitrogen_monoxide",t[t.thunderstorm_probability=125]="thunderstorm_probability",t[t.rain_probability=126]="rain_probability",t[t.freezing_rain_probability=127]="freezing_rain_probability",t[t.ice_pellets_probability=128]="ice_pellets_probability",t[t.snowfall_probability=129]="snowfall_probability",t[t.carbon_dioxide=130]="carbon_dioxide",t[t.methane=131]="methane",t[t.sea_level_height_msl=132]="sea_level_height_msl",t[t.sea_surface_temperature=133]="sea_surface_temperature",t[t.invert_barometer_height=134]="invert_barometer_height",t[t.hail=135]="hail",t[t.albedo=136]="albedo",t[t.precipitation_type=137]="precipitation_type",t[t.convective_cloud_base=138]="convective_cloud_base",t[t.convective_cloud_top=139]="convective_cloud_top",t[t.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",t[t.secondary_swell_wave_height=141]="secondary_swell_wave_height",t[t.secondary_swell_wave_period=142]="secondary_swell_wave_period",t[t.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",t[t.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",t[t.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",t[t.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",t[t.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",t[t.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",t[t.wind_u_component=149]="wind_u_component",t[t.wind_v_component=150]="wind_v_component",t[t.temperature_max24h=151]="temperature_max24h",t[t.temperature_min24h=152]="temperature_min24h",t[t.temperature_mean24h=153]="temperature_mean24h",t[t.snow_density=154]="snow_density",t[t.longwave_radiation=155]="longwave_radiation",t[t.sea_ice_cover=156]="sea_ice_cover",t[t.k_index=157]="k_index",t[t.roughness_length=158]="roughness_length",t[t.potential_evapotranspiration=159]="potential_evapotranspiration",t[t.wave_peak_period=160]="wave_peak_period",t[t.temperature_max6h=161]="temperature_max6h",t[t.temperature_min6h=162]="temperature_min6h"})(o||(e.Variable=o={}))})}),fr=me({"node_modules/@openmeteo/sdk/variable-with-values.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(p,u,x,k){k===void 0&&(k=x);var j=Object.getOwnPropertyDescriptor(u,x);(!j||("get"in j?!u.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return u[x]}}),Object.defineProperty(p,k,j)}):(function(p,u,x,k){k===void 0&&(k=x),p[k]=u[x]})),t=e&&e.__setModuleDefault||(Object.create?(function(p,u){Object.defineProperty(p,"default",{enumerable:!0,value:u})}):function(p,u){p.default=u}),n=e&&e.__importStar||(function(){var p=function(u){return p=Object.getOwnPropertyNames||function(x){var k=[];for(var j in x)Object.prototype.hasOwnProperty.call(x,j)&&(k[k.length]=j);return k},p(u)};return function(u){if(u&&u.__esModule)return u;var x={};if(u!=null)for(var k=p(u),j=0;j<k.length;j++)k[j]!=="default"&&o(x,u,k[j]);return t(x,u),x}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWithValues=void 0;var d=n((et(),Ke($e))),l=Mo(),s=Lo(),h=Eo(),c=Do(),m=class wt{constructor(){this.bb=null,this.bb_pos=0}__init(u,x){return this.bb_pos=u,this.bb=x,this}static getRootAsVariableWithValues(u,x){return(x||new wt).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsVariableWithValues(u,x){return u.setPosition(u.position()+d.SIZE_PREFIX_LENGTH),(x||new wt).__init(u.readInt32(u.position())+u.position(),u)}variable(){const u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint8(this.bb_pos+u):c.Variable.undefined}unit(){const u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint8(this.bb_pos+u):h.Unit.undefined}value(){const u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readFloat32(this.bb_pos+u):0}values(u){const x=this.bb.__offset(this.bb_pos,10);return x?this.bb.readFloat32(this.bb.__vector(this.bb_pos+x)+u*4):0}valuesLength(){const u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__vector_len(this.bb_pos+u):0}valuesArray(){const u=this.bb.__offset(this.bb_pos,10);return u?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}valuesInt64(u){const x=this.bb.__offset(this.bb_pos,12);return x?this.bb.readInt64(this.bb.__vector(this.bb_pos+x)+u*8):BigInt(0)}valuesInt64Length(){const u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}altitude(){const u=this.bb.__offset(this.bb_pos,14);return u?this.bb.readInt16(this.bb_pos+u):0}aggregation(){const u=this.bb.__offset(this.bb_pos,16);return u?this.bb.readUint8(this.bb_pos+u):l.Aggregation.none}pressureLevel(){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.readInt16(this.bb_pos+u):0}depth(){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readInt16(this.bb_pos+u):0}depthTo(){const u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt16(this.bb_pos+u):0}ensembleMember(){const u=this.bb.__offset(this.bb_pos,24);return u?this.bb.readInt16(this.bb_pos+u):0}previousDay(){const u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt16(this.bb_pos+u):0}probability(){const u=this.bb.__offset(this.bb_pos,28);return u?this.bb.readUint8(this.bb_pos+u):s.Probability.none}};e.VariableWithValues=m})}),Po=me({"node_modules/@openmeteo/sdk/variables-with-month.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(h,c,m,p){p===void 0&&(p=m);var u=Object.getOwnPropertyDescriptor(c,m);(!u||("get"in u?!c.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return c[m]}}),Object.defineProperty(h,p,u)}):(function(h,c,m,p){p===void 0&&(p=m),h[p]=c[m]})),t=e&&e.__setModuleDefault||(Object.create?(function(h,c){Object.defineProperty(h,"default",{enumerable:!0,value:c})}):function(h,c){h.default=c}),n=e&&e.__importStar||(function(){var h=function(c){return h=Object.getOwnPropertyNames||function(m){var p=[];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(p[p.length]=u);return p},h(c)};return function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var p=h(c),u=0;u<p.length;u++)p[u]!=="default"&&o(m,c,p[u]);return t(m,c),m}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithMonth=void 0;var d=n((et(),Ke($e))),l=fr(),s=class _t{constructor(){this.bb=null,this.bb_pos=0}__init(c,m){return this.bb_pos=c,this.bb=m,this}static getRootAsVariablesWithMonth(c,m){return(m||new _t).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsVariablesWithMonth(c,m){return c.setPosition(c.position()+d.SIZE_PREFIX_LENGTH),(m||new _t).__init(c.readInt32(c.position())+c.position(),c)}year(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt16(this.bb_pos+c):0}month(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readInt8(this.bb_pos+c):0}count(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readInt32(this.bb_pos+c):0}variables(c,m){const p=this.bb.__offset(this.bb_pos,10);return p?(m||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+p)+c*4),this.bb):null}variablesLength(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.__vector_len(this.bb_pos+c):0}};e.VariablesWithMonth=s})}),Oo=me({"node_modules/@openmeteo/sdk/variables-with-time.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(h,c,m,p){p===void 0&&(p=m);var u=Object.getOwnPropertyDescriptor(c,m);(!u||("get"in u?!c.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return c[m]}}),Object.defineProperty(h,p,u)}):(function(h,c,m,p){p===void 0&&(p=m),h[p]=c[m]})),t=e&&e.__setModuleDefault||(Object.create?(function(h,c){Object.defineProperty(h,"default",{enumerable:!0,value:c})}):function(h,c){h.default=c}),n=e&&e.__importStar||(function(){var h=function(c){return h=Object.getOwnPropertyNames||function(m){var p=[];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(p[p.length]=u);return p},h(c)};return function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var p=h(c),u=0;u<p.length;u++)p[u]!=="default"&&o(m,c,p[u]);return t(m,c),m}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithTime=void 0;var d=n((et(),Ke($e))),l=fr(),s=class kt{constructor(){this.bb=null,this.bb_pos=0}__init(c,m){return this.bb_pos=c,this.bb=m,this}static getRootAsVariablesWithTime(c,m){return(m||new kt).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsVariablesWithTime(c,m){return c.setPosition(c.position()+d.SIZE_PREFIX_LENGTH),(m||new kt).__init(c.readInt32(c.position())+c.position(),c)}time(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt64(this.bb_pos+c):BigInt("0")}timeEnd(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readInt64(this.bb_pos+c):BigInt("0")}interval(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readInt32(this.bb_pos+c):0}variables(c,m){const p=this.bb.__offset(this.bb_pos,10);return p?(m||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+p)+c*4),this.bb):null}variablesLength(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.__vector_len(this.bb_pos+c):0}};e.VariablesWithTime=s})}),Wo=me({"node_modules/@openmeteo/sdk/weather-api-response.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(m,p,u,x){x===void 0&&(x=u);var k=Object.getOwnPropertyDescriptor(p,u);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[u]}}),Object.defineProperty(m,x,k)}):(function(m,p,u,x){x===void 0&&(x=u),m[x]=p[u]})),t=e&&e.__setModuleDefault||(Object.create?(function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}):function(m,p){m.default=p}),n=e&&e.__importStar||(function(){var m=function(p){return m=Object.getOwnPropertyNames||function(u){var x=[];for(var k in u)Object.prototype.hasOwnProperty.call(u,k)&&(x[x.length]=k);return x},m(p)};return function(p){if(p&&p.__esModule)return p;var u={};if(p!=null)for(var x=m(p),k=0;k<x.length;k++)x[k]!=="default"&&o(u,p,x[k]);return t(u,p),u}})();Object.defineProperty(e,"__esModule",{value:!0}),e.WeatherApiResponse=void 0;var d=n((et(),Ke($e))),l=Ao(),s=Po(),h=Oo(),c=class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(p,u){return this.bb_pos=p,this.bb=u,this}static getRootAsWeatherApiResponse(p,u){return(u||new Ct).__init(p.readInt32(p.position())+p.position(),p)}static getSizePrefixedRootAsWeatherApiResponse(p,u){return p.setPosition(p.position()+d.SIZE_PREFIX_LENGTH),(u||new Ct).__init(p.readInt32(p.position())+p.position(),p)}latitude(){const p=this.bb.__offset(this.bb_pos,4);return p?this.bb.readFloat32(this.bb_pos+p):0}longitude(){const p=this.bb.__offset(this.bb_pos,6);return p?this.bb.readFloat32(this.bb_pos+p):0}elevation(){const p=this.bb.__offset(this.bb_pos,8);return p?this.bb.readFloat32(this.bb_pos+p):0}generationTimeMilliseconds(){const p=this.bb.__offset(this.bb_pos,10);return p?this.bb.readFloat32(this.bb_pos+p):0}locationId(){const p=this.bb.__offset(this.bb_pos,12);return p?this.bb.readInt64(this.bb_pos+p):BigInt("0")}model(){const p=this.bb.__offset(this.bb_pos,14);return p?this.bb.readUint8(this.bb_pos+p):l.Model.undefined}utcOffsetSeconds(){const p=this.bb.__offset(this.bb_pos,16);return p?this.bb.readInt32(this.bb_pos+p):0}timezone(p){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,p):null}timezoneAbbreviation(p){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,p):null}current(p){const u=this.bb.__offset(this.bb_pos,22);return u?(p||new h.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}daily(p){const u=this.bb.__offset(this.bb_pos,24);return u?(p||new h.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}hourly(p){const u=this.bb.__offset(this.bb_pos,26);return u?(p||new h.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}minutely15(p){const u=this.bb.__offset(this.bb_pos,28);return u?(p||new h.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}monthly(p){const u=this.bb.__offset(this.bb_pos,30);return u?(p||new s.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}};e.WeatherApiResponse=c})}),Ro=me({"node_modules/openmeteo/lib/index.js":(e=>{var o=e&&e.__awaiter||function(h,c,m,p){function u(x){return x instanceof m?x:new m(function(k){k(x)})}return new(m||(m=Promise))(function(x,k){function j(v){try{_(p.next(v))}catch(g){k(g)}}function T(v){try{_(p.throw(v))}catch(g){k(g)}}function _(v){v.done?x(v.value):u(v.value).then(j,T)}_((p=p.apply(h,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWeatherApi=s;var t=(et(),Ke($e)),n=Wo(),d=h=>new Promise(c=>setTimeout(c,h));function l(h){return o(this,arguments,void 0,function*(c,m=3,p=.5,u=2,x={}){const k=[500,502,504],j=[400,429];let T=0,_=yield fetch(c,x);for(;k.includes(_.status);){if(T++,T>=m)throw new Error(_.statusText);yield d(Math.min(p*Math.pow(2,T),u)*1e3),_=yield fetch(c,x)}if(j.includes(_.status)){const v=yield _.json();throw"reason"in v?new Error(v.reason):new Error(_.statusText)}return _})}function s(h,c){return o(this,arguments,void 0,function*(m,p,u=3,x=.2,k=2,j={}){const T=new URLSearchParams(p);T.set("format","flatbuffers");const _=yield l(`${m}?${T.toString()}`,u,x,k,j),v=new t.ByteBuffer(new Uint8Array(yield _.arrayBuffer())),g=[];let y=0;for(;y<v.capacity();){v.setPosition(y);const B=v.readInt32(v.position());g.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(v)),y+=B+4}return g})}})}),X=Zt(No(),1),Dt=Ro(),ht={current:{temperature:72,condition:"Partly Cloudy",humidity:65,wind:12,feelsLike:70,uvIndex:6,cloudCover:45,pressure:1013,visibility:10,sunrise:"6:45 AM",sunset:"7:30 PM",icon:"partly-cloudy"},forecast:[{day:"Mon",date:"Jan 6",high:75,low:58,condition:"Sunny",precipitation:0,wind:8,uvIndex:7,humidity:55,sunrise:"6:46 AM",sunset:"7:31 PM",icon:"sunny"},{day:"Tue",date:"Jan 7",high:72,low:60,condition:"Cloudy",precipitation:10,wind:10,uvIndex:4,humidity:70,sunrise:"6:46 AM",sunset:"7:32 PM",icon:"cloudy"},{day:"Wed",date:"Jan 8",high:68,low:55,condition:"Rainy",precipitation:80,wind:15,uvIndex:2,humidity:85,sunrise:"6:47 AM",sunset:"7:33 PM",icon:"rainy"},{day:"Thu",date:"Jan 9",high:70,low:57,condition:"Partly Cloudy",precipitation:20,wind:12,uvIndex:5,humidity:65,sunrise:"6:47 AM",sunset:"7:34 PM",icon:"partly-cloudy"},{day:"Fri",date:"Jan 10",high:74,low:59,condition:"Sunny",precipitation:0,wind:7,uvIndex:8,humidity:50,sunrise:"6:48 AM",sunset:"7:35 PM",icon:"sunny"},{day:"Sat",date:"Jan 11",high:76,low:61,condition:"Sunny",precipitation:0,wind:9,uvIndex:8,humidity:48,sunrise:"6:48 AM",sunset:"7:36 PM",icon:"sunny"},{day:"Sun",date:"Jan 12",high:73,low:60,condition:"Partly Cloudy",precipitation:15,wind:11,uvIndex:6,humidity:60,sunrise:"6:49 AM",sunset:"7:37 PM",icon:"partly-cloudy"}],alerts:[]},Pt={0:{condition:"Clear",icon:"clear"},1:{condition:"Partly Cloudy",icon:"partly-cloudy"},2:{condition:"Partly Cloudy",icon:"partly-cloudy"},3:{condition:"Partly Cloudy",icon:"partly-cloudy"},45:{condition:"Fog",icon:"fog"},48:{condition:"Fog",icon:"fog"},51:{condition:"Drizzle",icon:"drizzle"},53:{condition:"Drizzle",icon:"drizzle"},55:{condition:"Drizzle",icon:"drizzle"},56:{condition:"Drizzle",icon:"drizzle"},57:{condition:"Drizzle",icon:"drizzle"},61:{condition:"Rain",icon:"rain"},63:{condition:"Rain",icon:"rain"},65:{condition:"Rain",icon:"rain"},66:{condition:"Rain",icon:"rain"},67:{condition:"Rain",icon:"rain"},71:{condition:"Snow",icon:"snow"},73:{condition:"Snow",icon:"snow"},75:{condition:"Snow",icon:"snow"},77:{condition:"Snow",icon:"snow"},80:{condition:"Rain",icon:"rain"},81:{condition:"Rain",icon:"rain"},82:{condition:"Rain",icon:"rain"},85:{condition:"Snow",icon:"snow"},86:{condition:"Snow",icon:"snow"},95:{condition:"Thunderstorm",icon:"thunderstorm"},96:{condition:"Thunderstorm",icon:"thunderstorm"},99:{condition:"Thunderstorm",icon:"thunderstorm"}},Ce=e=>Pt[e]?Pt[e]:e<=3?{condition:"Partly Cloudy",icon:"partly-cloudy"}:e<=48?{condition:"Fog",icon:"fog"}:e<=57?{condition:"Drizzle",icon:"drizzle"}:e<=67?{condition:"Rain",icon:"rain"}:e<=77?{condition:"Snow",icon:"snow"}:e<=82?{condition:"Rain",icon:"rain"}:e<=86?{condition:"Snow",icon:"snow"}:e>=95?{condition:"Thunderstorm",icon:"thunderstorm"}:{condition:"Cloudy",icon:"clouds"},je=({condition:e,animate:o,greyscale:t,size:n=32,theme:d})=>{const l=d||O,s=t?"#94A3B8":"#F59E0B",h=l?.colors?t?l.colors.softSlate||"#94A3B8":l.colors.sunburstGold||"#F59E0B":s,c={size:n,className:`${o?"animate-pulse":""} ${t?"grayscale":""}`,style:{color:h},"aria-hidden":!0},m=(k,j)=>l?.colors?.[k]||j,p={sunny:(0,r.jsx)(zt,{...c}),clear:(0,r.jsx)(zt,{...c}),rainy:(0,r.jsx)(At,{...c,style:{...c.style,color:m("cosmicBlue","#3B82F6")}}),rain:(0,r.jsx)(At,{...c,style:{...c.style,color:m("cosmicBlue","#3B82F6")}}),drizzle:(0,r.jsx)(Gr,{...c,style:{...c.style,color:m("aetherTeal","#06B6D4")}}),cloudy:(0,r.jsx)(Ee,{...c,style:{...c.style,color:m("softSlate","#94A3B8")}}),clouds:(0,r.jsx)(Ee,{...c,style:{...c.style,color:m("softSlate","#94A3B8")}}),"partly-cloudy":(0,r.jsx)(nt,{...c,style:{...c.style,color:m("aetherTeal","#06B6D4")}}),snow:(0,r.jsx)(Dr,{...c,style:{...c.style,color:m("stardustWhite","#F8F9FF")}}),thunderstorm:(0,r.jsx)(Er,{...c,style:{...c.style,color:m("electricPurple","#8B5CF6")}}),mist:(0,r.jsx)(rt,{...c,style:{...c.style,color:m("softSlate","#94A3B8")}}),fog:(0,r.jsx)(rt,{...c,style:{...c.style,color:m("softSlate","#94A3B8")}}),haze:(0,r.jsx)(rt,{...c,style:{...c.style,color:m("softSlate","#94A3B8")}}),smoke:(0,r.jsx)(rt,{...c,style:{...c.style,color:m("graphite","#1F2937")}}),dust:(0,r.jsx)(fe,{...c,style:{...c.style,color:m("sunburstGold","#F59E0B")}}),sand:(0,r.jsx)(fe,{...c,style:{...c.style,color:m("sunburstGold","#F59E0B")}}),tornado:(0,r.jsx)(fe,{...c,style:{...c.style,color:m("electricPurple","#8B5CF6")}})},u=e?.toLowerCase()||"partly-cloudy",x=`Weather condition: ${e||"Partly Cloudy"}`;return(0,r.jsx)("span",{role:"img","aria-label":x,children:p[u]||(0,r.jsx)(nt,{...c,style:{...c.style,color:m("aetherTeal","#06B6D4")}})})},Ho=({orientation:e="auto"})=>e==="compact"?(0,r.jsxs)("div",{className:"animate-pulse flex items-center gap-2 p-2",role:"status","aria-label":"Loading weather data",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-16"}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="horizontal"?(0,r.jsxs)("div",{className:"animate-pulse flex items-center justify-between w-full p-3",role:"status","aria-label":"Loading weather data",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-8 bg-gray-300 rounded w-20"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"}),(0,r.jsx)("div",{className:"h-3 bg-gray-300 rounded w-20"})]}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-28"}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="wide"?(0,r.jsxs)("div",{className:"animate-pulse space-y-4 p-4",role:"status","aria-label":"Loading weather data",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24"})]}),(0,r.jsx)("div",{className:"h-5 bg-gray-300 rounded w-28"})]}),(0,r.jsx)("div",{className:"flex justify-between gap-4",children:[...Array(5)].map((o,t)=>(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-16"},t))}),(0,r.jsx)("div",{className:"flex gap-2 overflow-hidden",children:[...Array(6)].map((o,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-16 h-20 bg-gray-300 rounded"},t))}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):(0,r.jsxs)("div",{className:"animate-pulse space-y-4",role:"status","aria-label":"Loading weather data","aria-live":"polite",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"})]}),(0,r.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24 mb-2"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,r.jsx)("span",{className:"sr-only",children:"Loading weather data..."})]}),Go=({alert:e})=>(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 mb-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeftColor:"#EF4444",color:"#DC2626"},children:[(0,r.jsx)(Tt,{size:24,className:"flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-sm mb-1",children:e.event}),(0,r.jsx)("div",{className:"text-xs opacity-90",children:e.description})]})]});const yr=({config:e,onCustomizeRequest:o})=>{let t;try{t=Ve()?.theme||O}catch{t=O}const n=t,[d,l]=(0,f.useState)(null),[s,h]=(0,f.useState)(!0),[c,m]=(0,f.useState)(null),[p,u]=(0,f.useState)(null),[x,k]=(0,f.useState)(e.weatherLocation),[j,T]=(0,f.useState)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:e.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);(0,f.useEffect)(()=>{!e.useGeolocation&&e.weatherLocation!==x&&k(e.weatherLocation)},[e.weatherLocation,e.useGeolocation,x]);const _=(0,f.useCallback)(async(S,A={})=>{const{signal:q}=A;h(!0),m(null),u(null);try{const a=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(S)}&count=1&language=en&format=json`,{signal:q});if(!a.ok)throw new Error("Location not found");const w=await a.json();if(!w.results||w.results.length===0)throw new Error("Location not found");const{latitude:b,longitude:N,name:z,admin1:I,country:J}=w.results[0];k(I?`${z}, ${I}`:`${z}, ${J}`);const M=(await(0,Dt.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:b,longitude:N,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],G=M.current(),re=M.utcOffsetSeconds(),oe=M.timezone(),ae=ee=>{if(!ee)return null;try{return ee.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:oe||void 0})}catch{return ee.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},Q={current:{temperature:Math.round(G.variables(0).value()),condition:Ce(G.variables(3).value()).condition,humidity:Math.round(G.variables(1).value()),wind:Math.round(G.variables(4).value()),feelsLike:Math.round(G.variables(2).value()),cloudCover:Math.round(G.variables(5).value()),pressure:Math.round(G.variables(6).value()),visibility:Math.round(G.variables(7).value()/1e3),uvIndex:0,icon:Ce(G.variables(3).value()).icon},forecast:[]},E=M.daily(),$=Math.min(e.numberOfDays+1,10),se=E.variables(7),ue=E.variables(8);for(let ee=0;ee<$;ee++){const Ge=Number(E.time())+ee*E.interval(),Be=new Date((Ge+re)*1e3);let qe=null,Te=null;try{if(se){const Fe=Number(se.valuesInt64(ee));Fe>0&&(qe=new Date(Fe*1e3))}if(ue){const Fe=Number(ue.valuesInt64(ee));Fe>0&&(Te=new Date(Fe*1e3))}}catch(Fe){console.warn("Error parsing sunrise/sunset:",Fe)}Q.forecast.push({day:Be.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?Be.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(E.variables(1).valuesArray()[ee]),low:Math.round(E.variables(2).valuesArray()[ee]),condition:Ce(E.variables(0).valuesArray()[ee]).condition,precipitation:Math.round(E.variables(3).valuesArray()[ee]||0),wind:Math.round(E.variables(4).valuesArray()[ee]),uvIndex:Math.round(E.variables(5).valuesArray()[ee]||0),humidity:Math.round(E.variables(6).valuesArray()[ee]||0),sunrise:ae(qe),sunset:ae(Te),icon:Ce(E.variables(0).valuesArray()[ee]).icon}),ee===0&&(Q.current.uvIndex=Math.round(E.variables(5).valuesArray()[ee]||0),Q.current.sunrise=ae(qe),Q.current.sunset=ae(Te))}Q.alerts=[],l(Q),h(!1)}catch(a){a.name!=="AbortError"&&(console.error("Weather fetch error:",a),m(a.message),l(ht),h(!1))}},[e.preferredUnits,e.numberOfDays,e.displayDates]),v=(0,f.useCallback)(async(S,A,q,a={})=>{const{signal:w}=a;h(!0),m(null),u(null);try{const b=(await(0,Dt.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:S,longitude:A,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],N=b.current(),z=b.utcOffsetSeconds(),I=b.timezone(),J=Q=>{if(!Q)return null;try{return Q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:I||void 0})}catch{return Q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},M={current:{temperature:Math.round(N.variables(0).value()),condition:Ce(N.variables(3).value()).condition,humidity:Math.round(N.variables(1).value()),wind:Math.round(N.variables(4).value()),feelsLike:Math.round(N.variables(2).value()),cloudCover:Math.round(N.variables(5).value()),pressure:Math.round(N.variables(6).value()),visibility:Math.round(N.variables(7).value()/1e3),uvIndex:0,icon:Ce(N.variables(3).value()).icon},forecast:[],alerts:[]},G=b.daily(),re=Math.min(e.numberOfDays+1,10),oe=G.variables(7),ae=G.variables(8);for(let Q=0;Q<re;Q++){const E=Number(G.time())+Q*G.interval(),$=new Date((E+z)*1e3);let se=null,ue=null;try{if(oe){const ee=Number(oe.valuesInt64(Q));ee>0&&(se=new Date(ee*1e3))}if(ae){const ee=Number(ae.valuesInt64(Q));ee>0&&(ue=new Date(ee*1e3))}}catch(ee){console.warn("Error parsing sunrise/sunset:",ee)}M.forecast.push({day:$.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?$.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(G.variables(1).valuesArray()[Q]),low:Math.round(G.variables(2).valuesArray()[Q]),condition:Ce(G.variables(0).valuesArray()[Q]).condition,precipitation:Math.round(G.variables(3).valuesArray()[Q]||0),wind:Math.round(G.variables(4).valuesArray()[Q]),uvIndex:Math.round(G.variables(5).valuesArray()[Q]||0),humidity:Math.round(G.variables(6).valuesArray()[Q]||0),sunrise:J(se),sunset:J(ue),icon:Ce(G.variables(0).valuesArray()[Q]).icon}),Q===0&&(M.current.uvIndex=Math.round(G.variables(5).valuesArray()[Q]||0),M.current.sunrise=J(se),M.current.sunset=J(ue))}k(q),l(M),h(!1)}catch(b){b.name!=="AbortError"&&(console.error("Weather fetch error:",b),m(b.message),l(ht),h(!1))}},[e.preferredUnits,e.numberOfDays,e.displayDates]),g=(0,f.useCallback)((S={})=>{const{signal:A}=S;if(!navigator.geolocation){u("Geolocation is not supported by your browser");return}h(!0),u(null),navigator.geolocation.getCurrentPosition(async q=>{if(!A?.aborted)try{const{latitude:a,longitude:w}=q.coords,b=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${a}&longitude=${w}&localityLanguage=en`,{signal:A});let N=`${a.toFixed(2)}, ${w.toFixed(2)}`;if(b.ok){const z=await b.json(),I=z.city||z.locality||z.principalSubdivision,J=z.principalSubdivision||z.countryName;I&&J&&I!==J?N=`${I}, ${J}`:I?N=I:z.countryName&&(N=z.countryName)}k(N),v(a,w,N,{signal:A})}catch(a){if(a.name!=="AbortError"){const{latitude:w,longitude:b}=q.coords,N=`${w.toFixed(2)}, ${b.toFixed(2)}`;k(N),v(w,b,N,{signal:A})}}},q=>{let a="Unable to retrieve your location.";switch(q.code){case q.PERMISSION_DENIED:a="Location access denied. Please enable location permissions in your browser settings.";break;case q.POSITION_UNAVAILABLE:a="Location information is unavailable. Please try again later.";break;case q.TIMEOUT:a="Location request timed out. Please try again.";break;default:a="An unknown error occurred while getting your location."}u(a),h(!1)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[v]);(0,f.useEffect)(()=>{const S=new AbortController;return e.useGeolocation?g({signal:S.signal}):_(x,{signal:S.signal}),()=>S.abort()},[e.preferredUnits,e.useGeolocation,x,g,_]),(0,f.useEffect)(()=>{const S=new AbortController,A=setInterval(()=>{e.useGeolocation?g({signal:S.signal}):_(x,{signal:S.signal})},6e5);return()=>{clearInterval(A),S.abort()}},[x,e.useGeolocation,g,_]),(0,f.useEffect)(()=>{if(e.googleFont!=="none"){const S=document.createElement("link");return S.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`,S.rel="stylesheet",document.head.appendChild(S),()=>{try{S&&document.head.contains(S)&&document.head.removeChild(S)}catch{}}}},[e.googleFont]),(0,f.useEffect)(()=>{if(e.appearanceMode==="system"){const S=window.matchMedia("(prefers-color-scheme: dark)"),A=q=>T(q.matches);return S.addEventListener("change",A),()=>S.removeEventListener("change",A)}else e.appearanceMode==="dark"?T(!0):e.appearanceMode==="light"&&T(!1)},[e.appearanceMode]);const y=j?e.textColorDark||e.theme?.dark?.textColor||n.colors.stardustWhite:e.textColorLight||e.theme?.light?.textColor||n.colors.graphite,B=(0,f.useMemo)(()=>{if(e.googleFont&&e.googleFont!=="none")return`"${String(e.googleFont).replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return n?.fonts?.body||'"Montserrat", system-ui, sans-serif'}},[e.googleFont,e.textFontFamily,n]),C=(0,f.useMemo)(()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",[e.backgroundTexture]),R=(0,f.useMemo)(()=>e.presetTheme==="none"?{}:{cyberpunk:{primary:n.colors.neonPink,secondary:n.colors.electricPurple,gradient:`linear-gradient(135deg, ${n.colors.neonPink}, ${n.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{primary:n.colors.graphite,secondary:n.colors.nightBlack,gradient:`linear-gradient(135deg, ${n.colors.graphite}, ${n.colors.nightBlack})`,glow:"none"},ocean:{primary:n.colors.aetherTeal,secondary:n.colors.cosmicBlue,gradient:`linear-gradient(135deg, ${n.colors.aetherTeal}, ${n.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{primary:n.colors.sunburstGold,secondary:n.colors.neonPink,gradient:`linear-gradient(135deg, ${n.colors.sunburstGold}, ${n.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{primary:"#10b981",secondary:"#059669",gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{primary:n.colors.ultraviolet,secondary:n.colors.neonPink,gradient:n.gradients.gradient,glow:n.effects.glow},midnight:{primary:n.colors.nightBlack,secondary:n.colors.ultraviolet,gradient:`linear-gradient(135deg, ${n.colors.nightBlack}, ${n.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},[e.presetTheme]),D=(0,f.useMemo)(()=>{if(e.useTransparentBackground)return"transparent";if(e.setBackgroundColor&&!d)return e.backgroundColor;if(e.presetTheme!=="none"&&R.gradient)return R.gradient;const S=d?.current?.icon||"clear",A={clear:`linear-gradient(135deg, ${n.colors.sunburstGold} 0%, ${n.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${n.colors.sunburstGold} 0%, ${n.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.graphite} 100%)`,cloudy:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${n.colors.cosmicBlue} 0%, ${n.colors.graphite} 100%)`,rainy:`linear-gradient(135deg, ${n.colors.cosmicBlue} 0%, ${n.colors.graphite} 100%)`,drizzle:`linear-gradient(135deg, ${n.colors.aetherTeal} 0%, ${n.colors.cosmicBlue} 100%)`,thunderstorm:`linear-gradient(135deg, ${n.colors.electricPurple} 0%, ${n.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${n.colors.stardustWhite} 0%, ${n.colors.cosmicBlue} 100%)`,mist:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.stardustWhite} 100%)`,fog:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.stardustWhite} 100%)`};return e.setBackgroundColor?e.backgroundColor:A[S]||(j?n.colors.nightBlack:n.colors.stardustWhite)},[e.useTransparentBackground,e.setBackgroundColor,e.backgroundColor,e.presetTheme,R,d,j]),Y=(0,f.useMemo)(()=>e.useTransparentBackground?{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",backgroundColor:j?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)",borderRadius:"12px",border:`1px solid ${j?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"}`}:{},[e.useTransparentBackground,j]),U=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",ie=e.glowEffect?R.glow||n.effects.glow:"none",H=(0,f.useMemo)(()=>e.gradientText?{background:R.gradient||n.gradients?.gradient||"linear-gradient(135deg, #EC4899, #8B5CF6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{},[e.gradientText,R.gradient,n.gradients]),F=S=>Math.round(S),te=e.preferredUnits==="metric"?"¬∞C":"¬∞F",he=e.preferredUnits==="metric"?"km/h":"mph",ge=d||ht,K=ge.forecast.slice(e.hideTodayInForecast?1:0).slice(0,e.numberOfDays),Ne=S=>{const{current:A}=ge;switch(S){case"temperature":return(0,r.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,r.jsxs)("span",{className:"text-4xl font-bold",style:{fontFamily:n.fonts.heading,fontSize:`${48*e.fontScale}px`},children:[F(A.temperature),te]})});case"condition":return(0,r.jsx)("div",{className:"text-lg opacity-80 text-center",style:{fontSize:`${18*e.fontScale}px`},children:A.condition});case"humidity":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(xe,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Humidity: ",A.humidity,"%"]})]});case"wind":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(fe,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Wind: ",A.wind," ",he]})]});case"feelsLike":return(0,r.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["Feels like: ",F(A.feelsLike),te]});case"uvIndex":return(0,r.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["UV Index: ",A.uvIndex]});case"cloudCover":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ee,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Cloud Cover: ",A.cloudCover,"%"]})]});case"pressure":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(tt,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Pressure: ",A.pressure," hPa"]})]});case"visibility":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ze,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Visibility: ",A.visibility," ",e.preferredUnits==="metric"?"km":"mi"]})]});case"sunrise":return A.sunrise?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ae,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Sunrise: ",A.sunrise]})]}):null;case"sunset":return A.sunset?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(ze,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Sunset: ",A.sunset]})]}):null;default:return null}},_e=()=>{switch(e.orientation){case"horizontal":return"flex-row items-start justify-center";case"compact":return"flex-col items-center max-w-sm mx-auto";case"wide":return"flex-row items-start justify-between w-full";default:return"flex-col items-center md:flex-row md:items-start md:justify-center"}},V=()=>{const{current:S}=ge;return(0,r.jsxs)("div",{className:"space-y-3 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full gap-4 px-2",style:{minHeight:"60px"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,r.jsx)(je,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:40*e.fontScale,theme:n}),(0,r.jsxs)("span",{className:"text-3xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${36*e.fontScale}px`,textShadow:U,...H},children:[F(S.temperature),te]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 min-w-0 px-4",children:[(0,r.jsx)("h2",{className:"text-lg font-bold truncate max-w-full",style:{fontFamily:n.fonts.heading,fontSize:`${18*e.fontScale}px`,textShadow:U,...H},title:x,children:x}),(0,r.jsx)("span",{className:"text-sm opacity-80 truncate max-w-full",style:{fontSize:`${14*e.fontScale}px`},title:S.condition,children:S.condition})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[(e.currentWeatherFields||[]).includes("feelsLike")&&(0,r.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["Feels ",F(S.feelsLike),te]}),(e.currentWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(xe,{size:13*e.fontScale}),S.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(fe,{size:13*e.fontScale}),S.wind," ",he]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["UV: ",S.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ee,{size:13*e.fontScale}),S.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(tt,{size:13*e.fontScale}),S.pressure," hPa"]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ze,{size:13*e.fontScale}),S.visibility," ",e.preferredUnits==="metric"?"km":"mi"]}),(e.currentWeatherFields||[]).includes("sunrise")&&S.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ae,{size:13*e.fontScale}),S.sunrise]}),(e.currentWeatherFields||[]).includes("sunset")&&S.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(ze,{size:13*e.fontScale}),S.sunset]})]})]}),e.numberOfDays>0&&K.length>0&&(0,r.jsx)("div",{className:"border-t pt-3",style:{borderColor:j?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:(0,r.jsx)("div",{className:"overflow-x-auto pb-2 px-2",children:(0,r.jsx)("div",{className:"flex gap-4",style:{minWidth:"min-content"},children:K.map((A,q)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",style:{minWidth:"120px"},children:[(0,r.jsxs)("div",{className:"text-center",style:{minWidth:"45px"},children:[(0,r.jsx)("div",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:A.day}),(0,r.jsx)(je,{condition:A.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:n})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[F(A.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[F(A.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`,maxWidth:"100px"},children:A.condition}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&A.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:10*e.fontScale}),A.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(fe,{size:10*e.fontScale}),A.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:10*e.fontScale}),A.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV: ",A.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&A.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ae,{size:10*e.fontScale}),A.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&A.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(ze,{size:10*e.fontScale}),A.sunset]})]})]})]},q))})})})]})},L=()=>{const{current:S}=ge;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,r.jsx)(je,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:32*e.fontScale,theme:n}),(0,r.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${28*e.fontScale}px`,textShadow:U,...H},children:[F(S.temperature),te]}),e.currentWeatherFields?.includes("feelsLike")&&(0,r.jsxs)("span",{className:"text-xs opacity-60 whitespace-nowrap",style:{fontSize:`${11*e.fontScale}px`},children:["(",F(S.feelsLike),te,")"]})]}),e.currentWeatherFields?.includes("condition")&&(0,r.jsx)("span",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`},title:S.condition,children:S.condition}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-1 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.currentWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:10*e.fontScale}),S.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(fe,{size:10*e.fontScale}),S.wind]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV:",S.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ee,{size:10*e.fontScale}),S.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(tt,{size:10*e.fontScale}),S.pressure]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ze,{size:10*e.fontScale}),S.visibility]})]})]})]}),e.numberOfDays>0&&K.length>0&&(0,r.jsx)("div",{className:"flex gap-2 px-2 overflow-x-auto",children:K.slice(0,3).map((A,q)=>(0,r.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 p-1.5 rounded",style:{minWidth:"50px",backgroundColor:j?"rgba(248, 249, 255, 0.05)":"rgba(11, 14, 18, 0.03)"},children:[(0,r.jsx)("span",{className:"text-xs font-semibold opacity-60",style:{fontSize:`${10*e.fontScale}px`},children:A.day}),(0,r.jsx)(je,{condition:A.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:16*e.fontScale,theme:n}),(0,r.jsxs)("div",{className:"text-xs mt-0.5 space-y-0.5",style:{fontSize:`${11*e.fontScale}px`},children:[(0,r.jsxs)("div",{children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"font-bold",children:[F(A.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"opacity-60 ml-0.5",children:[F(A.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"opacity-70 truncate",style:{fontSize:`${9*e.fontScale}px`,maxWidth:"50px"},children:A.condition}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 items-center opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&A.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:8*e.fontScale}),A.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(fe,{size:8*e.fontScale}),A.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:8*e.fontScale}),A.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV:",A.uvIndex]})]})]})]},q))})]})},W=()=>{const{current:S}=ge,A=[{key:"feelsLike",label:"Feels Like",value:`${F(S.feelsLike)}${te}`,icon:null},{key:"humidity",label:"Humidity",value:`${S.humidity}%`,icon:xe},{key:"wind",label:"Wind",value:`${S.wind} ${he}`,icon:fe},{key:"uvIndex",label:"UV Index",value:S.uvIndex,icon:null},{key:"pressure",label:"Pressure",value:`${S.pressure} hPa`,icon:tt},{key:"visibility",label:"Visibility",value:`${S.visibility} ${e.preferredUnits==="metric"?"km":"mi"}`,icon:Ze},{key:"cloudCover",label:"Clouds",value:`${S.cloudCover}%`,icon:Ee},{key:"sunrise",label:"Sunrise",value:S.sunrise,icon:Ae},{key:"sunset",label:"Sunset",value:S.sunset,icon:ze}].filter(q=>(e.currentWeatherFields||[]).includes(q.key)&&q.value);return(0,r.jsxs)("div",{className:"w-full space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h2",{className:"text-xl font-bold truncate",style:{fontFamily:n.fonts.heading,fontSize:`${22*e.fontScale}px`,textShadow:U,...H},title:x,children:x}),e.useGeolocation&&(0,r.jsxs)("button",{onClick:()=>g(),className:"flex items-center gap-1 text-xs opacity-60 hover:opacity-100 transition-opacity mt-1",style:{fontSize:`${11*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,r.jsx)(Bt,{size:10*e.fontScale,"aria-hidden":"true"}),"Update"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0 px-6",children:[(0,r.jsx)(je,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:56*e.fontScale,theme:n}),(0,r.jsxs)("span",{className:"text-5xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${52*e.fontScale}px`,textShadow:U,...H},children:[F(S.temperature),te]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,r.jsx)("div",{className:"text-lg opacity-90 truncate",style:{fontSize:`${18*e.fontScale}px`},title:S.condition,children:S.condition}),K[0]&&(0,r.jsxs)("div",{className:"text-sm opacity-70",style:{fontSize:`${14*e.fontScale}px`},children:["H: ",F(K[0].high),te," / L: ",F(K[0].low),te]})]})]}),A.length>0&&(0,r.jsx)("div",{className:"grid gap-4 py-3 border-t border-b",style:{gridTemplateColumns:A.length<=5?`repeat(${A.length}, 1fr)`:"repeat(auto-fit, minmax(120px, 1fr))",borderColor:j?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:A.map(q=>(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("span",{className:"text-xs opacity-60 uppercase tracking-wider mb-1",style:{fontSize:`${10*e.fontScale}px`},children:q.label}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[q.icon&&(0,r.jsx)(q.icon,{size:14*e.fontScale,className:"opacity-70"}),(0,r.jsx)("span",{className:"font-semibold",style:{fontSize:`${14*e.fontScale}px`},children:q.value})]})]},q.key))}),e.numberOfDays>0&&K.length>0&&(0,r.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,r.jsx)("div",{className:"flex gap-3",style:{minWidth:"min-content"},children:K.slice(0,7).map((q,a)=>(0,r.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center p-3 rounded-lg",style:{minWidth:"70px",backgroundColor:j?"rgba(248, 249, 255, 0.08)":"rgba(11, 14, 18, 0.04)"},children:[(0,r.jsx)("span",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:q.day}),(0,r.jsx)(je,{condition:q.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:n}),(0,r.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,r.jsxs)("div",{className:"text-center",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${13*e.fontScale}px`},children:[F(q.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"text-xs opacity-60 ml-1",style:{fontSize:`${11*e.fontScale}px`},children:[F(q.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70 text-center truncate",style:{fontSize:`${10*e.fontScale}px`},children:q.condition}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-0.5 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&q.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:10*e.fontScale}),q.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(fe,{size:10*e.fontScale}),q.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(xe,{size:10*e.fontScale}),q.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV: ",q.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center text-xs opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&q.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ae,{size:9*e.fontScale}),q.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&q.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(ze,{size:9*e.fontScale}),q.sunset]})]})]})]},a))})})]})},le=()=>{switch(e.numberOfDays,e.orientation){case"horizontal":return"auto-cols-fr grid-flow-col";case"compact":return"grid-cols-2 sm:grid-cols-3";case"wide":return"auto-cols-fr grid-flow-col";default:return"grid-cols-3 md:grid-cols-5"}},ce=()=>{const S=Math.min(e.numberOfDays||5,10);switch(e.orientation){case"horizontal":case"wide":return{gridTemplateColumns:`repeat(${S}, minmax(0, 1fr))`};default:return{}}},We=(0,f.useMemo)(()=>{const S={};return typeof D=="string"&&D.includes("gradient")?C?S.backgroundImage=`${C}, ${D}`:S.backgroundImage=D:(S.backgroundColor=D,C&&(S.backgroundImage=C)),S.backgroundSize=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",S},[D,C,e.backgroundTexture]),Ie=()=>(0,r.jsxs)("div",{className:`flex gap-6 ${_e()}`,children:[(0,r.jsxs)("div",{className:`text-center ${e.orientation==="wide"?"flex-shrink-0 min-w-[200px]":e.orientation==="compact"?"w-full":"flex-shrink-0"}`,children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 mb-4",children:[(0,r.jsx)(je,{condition:ge.current.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:48*e.fontScale,theme:n}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:n.fonts.heading,textShadow:U,fontSize:`${20*e.fontScale}px`,...H},children:x}),e.useGeolocation&&(0,r.jsxs)("button",{onClick:()=>g(),className:"flex items-center justify-center gap-1 text-xs opacity-70 hover:opacity-100 transition-opacity mt-1 mx-auto",style:{fontSize:`${12*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,r.jsx)(Bt,{size:12*e.fontScale,"aria-hidden":"true"}),"Detect Location"]})]})]}),(0,r.jsx)("div",{className:"space-y-2",style:{textShadow:U},children:(e.currentWeatherFields||[]).slice(0,6).map((S,A)=>(0,r.jsx)("div",{children:Ne(S)},A))})]}),(0,r.jsxs)("div",{className:`text-center ${e.orientation==="compact"?"w-full mt-4":"flex-1"}`,role:"region","aria-label":"Weather forecast",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-wider opacity-70 mb-3",style:{textShadow:U,fontSize:`${14*e.fontScale}px`},children:[e.numberOfDays,"-Day Forecast"]}),(0,r.jsx)("div",{className:`grid gap-3 ${le()} justify-items-center`,style:ce(),children:K.map((S,A)=>(0,r.jsxs)("div",{className:`p-3 rounded-lg ${e.visuallyGroupForecast?"bg-opacity-10 bg-current":""}`,style:{textAlign:"center",textShadow:U,...e.visuallyGroupForecast&&{backgroundColor:j?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"}},children:[(0,r.jsxs)("div",{className:"text-xs font-semibold mb-2 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[S.day,e.displayDates&&S.date&&(0,r.jsx)("div",{className:"text-xs opacity-50",style:{fontSize:`${10*e.fontScale}px`},children:S.date})]}),(0,r.jsx)(je,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:24*e.fontScale,theme:n}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("div",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[F(S.high),te]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("div",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[F(S.low),te]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:S.condition}),(e.dailyWeatherFields||[]).includes("precipitation")&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(xe,{size:10*e.fontScale,"aria-hidden":"true"}),S.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(fe,{size:10*e.fontScale,"aria-hidden":"true"}),S.wind," ",he]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&S.uvIndex!==void 0&&(0,r.jsxs)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:["UV: ",S.uvIndex]}),(e.dailyWeatherFields||[]).includes("humidity")&&S.humidity!==void 0&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(xe,{size:10*e.fontScale,"aria-hidden":"true"}),S.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("sunrise")&&S.sunrise&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,r.jsx)(Ae,{size:10*e.fontScale,"aria-hidden":"true"}),S.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&S.sunset&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,r.jsx)(ze,{size:10*e.fontScale,"aria-hidden":"true"}),S.sunset]})]})]},A))})]})]}),Re=()=>{switch(console.log("[WeatherWidget] orientation:",e.orientation),e.orientation){case"horizontal":return V();case"compact":return L();case"wide":return W();default:return Ie()}},He=()=>{switch(e.orientation){case"horizontal":return"p-3";case"compact":return"p-2";case"wide":return"p-5";default:return"p-6"}},ke={small:.85,medium:1,large:1.15,xlarge:1.3}[e.widgetSize]||1;return(0,r.jsx)("div",{className:`h-full w-full ${He()}`,style:{...We,color:y,fontFamily:B,textAlign:e.orientation==="horizontal"||e.orientation==="compact"?"left":e.textAlign,boxShadow:ie,transform:`scale(${ke})`,transformOrigin:"top left",...Y},role:"region","aria-label":"Weather widget",children:s?(0,r.jsx)(Ho,{orientation:e.orientation}):(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsxs)("div",{className:`${e.orientation==="compact"?"mb-2 p-2 text-xs":"mb-4 p-3 text-sm"} bg-yellow-100 text-yellow-800 rounded-lg`,role:"alert","aria-live":"polite",children:[(0,r.jsx)(Tt,{size:e.orientation==="compact"?12:16,className:"inline mr-2","aria-hidden":"true"}),e.orientation==="compact"?"Location error":p]}),e.orientation!=="compact"&&e.showSevereAlerts&&d?.alerts&&d.alerts.length>0&&(0,r.jsx)("div",{className:"mb-4",children:d.alerts.slice(0,e.orientation==="horizontal"?1:2).map((S,A)=>(0,r.jsx)(Go,{alert:S},A))}),Re(),c&&(0,r.jsxs)("div",{className:`mt-4 ${e.orientation==="compact"?"p-2 text-xs":"p-3 text-sm"} bg-red-100 text-red-800 rounded-lg flex items-center justify-between`,role:"alert","aria-live":"assertive",children:[(0,r.jsx)("span",{children:e.orientation==="compact"?"Error":c}),(0,r.jsx)("button",{onClick:()=>{e.useGeolocation?g():_(x)},className:`ml-3 ${e.orientation==="compact"?"px-2 py-0.5":"px-3 py-1"} bg-red-200 hover:bg-red-300 rounded text-red-800 text-xs font-medium transition-colors`,"aria-label":"Retry fetching weather data",children:"Retry"})]}),e.orientation!=="compact"&&e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:n.colors.cosmicBlue,color:n.colors.stardustWhite,fontFamily:n.fonts.heading,fontSize:`${14*e.fontScale}px`},"aria-label":"Customize weather widget settings",onClick:()=>o?.("appearance"),children:"Customize"})]})})};yr.propTypes={config:X.default.shape({weatherLocation:X.default.string,useGeolocation:X.default.bool,preferredUnits:X.default.oneOf(["metric","imperial"]),numberOfDays:X.default.number,displayDates:X.default.bool,hideTodayInForecast:X.default.bool,currentWeatherFields:X.default.arrayOf(X.default.string),dailyWeatherFields:X.default.arrayOf(X.default.string),showSevereAlerts:X.default.bool,showCustomizeButton:X.default.bool,appearanceMode:X.default.oneOf(["light","dark","system"]),textColorLight:X.default.string,textColorDark:X.default.string,textFontFamily:X.default.oneOf(["sans","serif","mono"]),googleFont:X.default.string,fontScale:X.default.number,textAlign:X.default.oneOf(["left","center","right"]),textShadows:X.default.bool,gradientText:X.default.bool,glowEffect:X.default.bool,animateIcons:X.default.bool,greyscaleIcons:X.default.bool,useTransparentBackground:X.default.bool,setBackgroundColor:X.default.bool,backgroundColor:X.default.string,backgroundTexture:X.default.oneOf(["none","noise","stars","dots","grid","waves"]),presetTheme:X.default.oneOf(["none","cyberpunk","stealth","ocean","sunset","forest","neon","midnight"]),orientation:X.default.oneOf(["auto","horizontal","compact","wide"]),visuallyGroupForecast:X.default.bool}).isRequired,onCustomizeRequest:X.default.func};var Z=O,qo=6e5,Uo=1,Jo=14,Zo=5,vr=.5,wr=2,_r=1,Yo=100,Qo=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},Xo=e=>typeof e!="string"?"New York, NY":e.replace(/[^a-zA-Z0-9\s,.\-']/g,"").replace(/'/g,"\\'").trim().slice(0,Yo)||"New York, NY",Ko={sunny:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',clear:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',cloudy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',clouds:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rainy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rain:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',"partly-cloudy":'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2m6.4 1.4l-1.4 1.4M20 12h2M6 18H4m9.4 3.6L12 20m6.4-11.6L20 6.6"/><circle cx="12" cy="12" r="4"/><path d="M13 19a2 2 0 0 0 0-4H3a4 4 0 1 0 0 8h10Z"/></svg>',drizzle:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 19v1m8-1v1m-4-1v1m-4-5v1m8-1v1m-4-1v1"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',snow:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"/><path d="M8 16h.01M8 12h.01M12 16h.01M12 12h.01M16 16h.01M16 12h.01"/></svg>',thunderstorm:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"/><path d="m13 11-4 6h6l-4 6"/></svg>',mist:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',fog:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',haze:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',smoke:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9m-2-8h10"/></svg>',dust:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',sand:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',tornado:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H3m15 4H6m11 4H9m7 4h-7m5 4h-3"/></svg>'};const Vo=e=>{const o=e.appearanceMode==="dark",t=o?e.textColorDark:e.textColorLight,n=()=>{if(e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return Z.fonts.body}},d=()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",s=e.presetTheme==="none"?{}:{cyberpunk:{gradient:`linear-gradient(135deg, ${Z.colors.neonPink}, ${Z.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{gradient:`linear-gradient(135deg, ${Z.colors.graphite}, ${Z.colors.nightBlack})`,glow:"none"},ocean:{gradient:`linear-gradient(135deg, ${Z.colors.aetherTeal}, ${Z.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{gradient:`linear-gradient(135deg, ${Z.colors.sunburstGold}, ${Z.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{gradient:`linear-gradient(90deg, ${Z.colors.neonPink} 0%, ${Z.colors.sunburstGold} 28%, ${Z.colors.aetherTeal} 50%, ${Z.colors.cosmicBlue} 74%, ${Z.colors.electricPurple} 100%)`,glow:"0 0 4px rgba(139, 92, 246, 0.5)"},midnight:{gradient:`linear-gradient(135deg, ${Z.colors.nightBlack}, ${Z.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},c=((g="clear")=>e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:e.presetTheme!=="none"&&s.gradient?s.gradient:{clear:`linear-gradient(135deg, ${Z.colors.sunburstGold} 0%, ${Z.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${Z.colors.sunburstGold} 0%, ${Z.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${Z.colors.softSlate} 0%, ${Z.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${Z.colors.cosmicBlue} 0%, ${Z.colors.graphite} 100%)`,thunderstorm:`linear-gradient(135deg, ${Z.colors.electricPurple} 0%, ${Z.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${Z.colors.stardustWhite} 0%, ${Z.colors.cosmicBlue} 100%)`}[g]||(o?Z.colors.nightBlack:Z.colors.stardustWhite))(),m=d(),p=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",u=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",x=e.glowEffect?s.glow||"0 0 4px rgba(139, 92, 246, 0.5)":"none",k=e.gradientText?`
    background: ${s.gradient||`linear-gradient(90deg, ${Z.colors.neonPink} 0%, ${Z.colors.sunburstGold} 28%, ${Z.colors.aetherTeal} 50%, ${Z.colors.cosmicBlue} 74%, ${Z.colors.electricPurple} 100%)`};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  `:"",j=n(),T=e.textAlign||"center",_=Math.max(vr,Math.min(wr,e.fontScale||_r)),v=e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget - ${Qo(e.weatherLocation)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  ${v?`<link href="${v}" rel="stylesheet">`:""}
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${c};
      ${m?`background-image: ${m};`:""}
      ${m?`background-size: ${p};`:""}
      color: ${t};
      font-family: ${j};
      text-align: ${T};
      padding: 24px;
      ${x!=="none"?`box-shadow: ${x};`:""}
      ${e.useTransparentBackground?`
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      `:""}
    }

    h2 {
      ${k}
    }

    .weather-container {
      ${e.useTransparentBackground?`
        background: ${o?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)"};
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"};
        padding: 24px;
      `:""}
      display: flex;
      gap: 24px;
      ${e.orientation==="horizontal"?"flex-direction: row;":"flex-direction: column;"}
    }

    .loading-skeleton {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .skeleton-circle {
      width: ${48*_}px;
      height: ${48*_}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 50%;
    }

    .skeleton-line {
      height: ${16*_}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 4px;
      margin: 8px 0;
    }

    .alert-banner {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 16px;
      margin-bottom: 16px;
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #EF4444;
      border-radius: 8px;
      color: #DC2626;
    }

    .alert-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .current-weather {
      flex-shrink: 0;
    }

    .location-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .location-title {
      font-size: ${20*_}px;
      font-weight: bold;
      font-family: ${Z.fonts.heading};
      text-shadow: ${u};
    }

    .current-temp {
      font-size: ${48*_}px;
      font-weight: bold;
      font-family: ${Z.fonts.heading};
      text-shadow: ${u};
    }

    .current-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      text-shadow: ${u};
      font-size: ${14*_}px;
    }

    .forecast-section {
      flex: 1;
    }

    .forecast-title {
      font-size: ${14*_}px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.7;
      margin-bottom: 12px;
      text-shadow: ${u};
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(${80*_}px, 1fr));
      gap: 12px;
    }

    .forecast-day {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      ${e.visuallyGroupForecast?`background: ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"};`:""}
    }

    .day-name {
      font-size: ${12*_}px;
      font-weight: 600;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .day-date {
      font-size: ${10*_}px;
      opacity: 0.5;
    }

    .day-temp {
      font-size: ${14*_}px;
      font-weight: bold;
      margin-top: 8px;
    }

    .day-low {
      font-size: ${12*_}px;
      opacity: 0.6;
    }

    .day-condition {
      font-size: ${12*_}px;
      opacity: 0.7;
      margin-top: 4px;
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: ${14*_}px;
      font-weight: 500;
      background-color: ${Z.colors.cosmicBlue};
      color: ${Z.colors.stardustWhite};
      font-family: ${Z.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    .weather-icon {
      display: inline-block;
      ${e.greyscaleIcons?"filter: grayscale(100%);":""}
      ${e.animateIcons?"animation: pulse-icon 2s infinite;":""}
    }

    @keyframes pulse-icon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body {
          background: ${e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:Z.colors.nightBlack};
          color: ${e.textColorDark};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="weather-root">
    <div class="loading-skeleton">
      <div class="skeleton-circle"></div>
      <div class="skeleton-line" style="width: 200px;"></div>
      <div class="skeleton-line" style="width: 150px;"></div>
      <div class="skeleton-line" style="width: 180px;"></div>
    </div>
  </div>

  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${kr(e)}
  <\/script>
</body>
</html>`},kr=e=>{const o=Xo(e.weatherLocation||"New York, NY"),t=e.preferredUnits==="metric"?"celsius":"fahrenheit",n=e.preferredUnits==="metric"?"kmh":"mph",d=e.preferredUnits==="metric"?"mm":"inch",l=e.preferredUnits==="metric"?"¬∞C":"¬∞F",s=e.preferredUnits==="metric"?"km/h":"mph",h=Math.max(vr,Math.min(wr,e.fontScale||_r)),c=Math.max(Uo,Math.min(Jo,e.numberOfDays||Zo));return`
    const LOCATION = '${o}';
    const TEMP_UNIT_API = '${t}';
    const WIND_UNIT_API = '${n}';
    const PRECIP_UNIT_API = '${d}';
    const TEMP_UNIT = '${l}';
    const WIND_UNIT = '${s}';
    const FONT_SCALE = ${h};
    const SHOW_SEVERE_ALERTS = ${e.showSevereAlerts||!1};
    const DISPLAY_DATES = ${e.displayDates||!1};
    const CURRENT_FIELDS = ${JSON.stringify(e.currentWeatherFields||[])};
    const DAILY_FIELDS = ${JSON.stringify(e.dailyWeatherFields||[])};
    const NUM_DAYS = ${c};
    const HIDE_TODAY = ${e.hideTodayInForecast||!1};
    const REFRESH_INTERVAL_MS = ${qo};

    const weatherIcons = ${JSON.stringify(Ko)};

    function getWeatherIcon(condition) {
      const conditionLower = condition.toLowerCase();
      return weatherIcons[conditionLower] || weatherIcons['partly-cloudy'];
    }

    function getConditionFromWMO(code) {
      if (code === 0) return 'Clear';
      if (code <= 3) return 'Partly Cloudy';
      if (code <= 48) return 'Fog';
      if (code <= 67) return 'Rain';
      if (code <= 77) return 'Snow';
      if (code <= 82) return 'Rain';
      if (code <= 86) return 'Snow';
      if (code <= 99) return 'Thunderstorm';
      return 'Cloudy';
    }

    function getIconFromWMO(code) {
      if (code === 0) return 'clear';
      if (code <= 3) return 'partly-cloudy';
      if (code <= 48) return 'fog';
      if (code <= 57) return 'drizzle';
      if (code <= 67) return 'rain';
      if (code <= 77) return 'snow';
      if (code <= 82) return 'rain';
      if (code <= 86) return 'snow';
      if (code >= 95) return 'thunderstorm';
      return 'clouds';
    }

    function renderErrorState(message) {
      const errorIcon = '<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6m0-6 6 6"/></svg>';
      const html = \`
        <div class="weather-container" style="text-align: center; padding: 32px;">
          <div style="opacity: 0.6; margin-bottom: 16px;">\${errorIcon}</div>
          <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Unable to Load Weather</h3>
          <p style="font-size: 14px; opacity: 0.7; margin-bottom: 16px;">\${message}</p>
          <button onclick="fetchWeatherData()" style="padding: 8px 16px; border-radius: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.4); color: inherit; cursor: pointer; font-size: 14px;">
            Try Again
          </button>
        </div>
      \`;
      document.getElementById('weather-root').innerHTML = html;
    }

    async function fetchWeatherData() {
      try {
        // Note: Open-Meteo API has rate limits. Consider caching responses for production use.
        // Geocode the location using Open-Meteo
        const geoResponse = await fetch(
          \`https://geocoding-api.open-meteo.com/v1/search?name=\${encodeURIComponent(LOCATION)}&count=1&language=en&format=json\`
        );
        
        if (!geoResponse.ok) {
          throw new Error('Unable to find location. Please check the location name.');
        }
        
        const geoData = await geoResponse.json();
        if (!geoData.results || geoData.results.length === 0) {
          throw new Error('Location not found. Please try a different city name.');
        }

        const { latitude, longitude } = geoData.results[0];

        // Fetch weather data using Open-Meteo Weather API
        const weatherResponse = await fetch(
          \`https://api.open-meteo.com/v1/forecast?latitude=\${latitude}&longitude=\${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max&temperature_unit=\${TEMP_UNIT_API}&wind_speed_unit=\${WIND_UNIT_API}&precipitation_unit=\${PRECIP_UNIT_API}&timezone=auto\`
        );

        if (!weatherResponse.ok) {
          throw new Error('Weather service temporarily unavailable. Please try again later.');
        }

        const data = await weatherResponse.json();

        renderWeatherData(data);
      } catch (err) {
        console.error('Weather fetch error:', err);
        renderErrorState(err.message || 'Could not load weather data. Please try again.');
      }
    }

    function renderWeatherData(data) {
      const current = data.current;
      const dailyData = data.daily;
      const startIdx = HIDE_TODAY ? 1 : 0;
      const forecast = dailyData.time.slice(startIdx, startIdx + NUM_DAYS);

      let html = '<div class="weather-container">';

      // Current weather
      html += '<div class="current-weather">';
      html += \`
        <div class="location-header">
          <div class="weather-icon">\${getWeatherIcon(getIconFromWMO(current.weather_code))}</div>
          <h2 class="location-title">\${LOCATION}</h2>
        </div>
        <div class="current-temp">\${Math.round(current.temperature_2m)}\${TEMP_UNIT}</div>
        <div class="current-details">
      \`;

      if (CURRENT_FIELDS.includes('condition')) {
        html += \`<div>\${getConditionFromWMO(current.weather_code)}</div>\`;
      }
      if (CURRENT_FIELDS.includes('humidity')) {
        html += \`<div>Humidity: \${Math.round(current.relative_humidity_2m)}%</div>\`;
      }
      if (CURRENT_FIELDS.includes('wind')) {
        html += \`<div>Wind: \${Math.round(current.wind_speed_10m)} \${WIND_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('feelsLike')) {
        html += \`<div>Feels like: \${Math.round(current.apparent_temperature)}\${TEMP_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('uvIndex')) {
        html += \`<div>UV Index: N/A</div>\`;
      }

      html += '</div></div>';

      // Forecast
      html += '<div class="forecast-section">';
      html += \`<h3 class="forecast-title">\${NUM_DAYS}-Day Forecast</h3>\`;
      html += '<div class="forecast-grid">';

      forecast.forEach((dateStr, idx) => {
        const actualIdx = startIdx + idx;
        const date = new Date(dateStr);
        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
        const dateDisplay = DISPLAY_DATES ? date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : '';

        html += '<div class="forecast-day">';
        html += \`<div class="day-name">\${dayName}\`;
        if (DISPLAY_DATES && dateDisplay) {
          html += \`<div class="day-date">\${dateDisplay}</div>\`;
        }
        html += '</div>';
        html += \`<div class="weather-icon">\${getWeatherIcon(getIconFromWMO(dailyData.weather_code[actualIdx]))}</div>\`;

        if (DAILY_FIELDS.includes('high')) {
          html += \`<div class="day-temp">\${Math.round(dailyData.temperature_2m_max[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('low')) {
          html += \`<div class="day-low">\${Math.round(dailyData.temperature_2m_min[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('condition')) {
          html += \`<div class="day-condition">\${getConditionFromWMO(dailyData.weather_code[actualIdx])}</div>\`;
        }
        if (DAILY_FIELDS.includes('precipitation') && dailyData.precipitation_probability_max[actualIdx] > 0) {
          html += \`<div class="day-condition">\${Math.round(dailyData.precipitation_probability_max[actualIdx])}%</div>\`;
        }

        html += '</div>';
      });

      html += '</div></div></div>';

      document.getElementById('weather-root').innerHTML = html;
    }

    // Initial load
    fetchWeatherData();

    // Refresh at configured interval
    setInterval(fetchWeatherData, REFRESH_INTERVAL_MS);
  `},$o={id:"clock",label:"Clock",description:"Advanced customizable clock with multiple styles.",defaultConfig:{is12Hour:!0,showDate:!0,showSeconds:!1,timezone:"local",blinkingSeparator:!1,dateFormat:"long",clockSize:"large",clockType:"digital-solid",responsiveSizing:!1,handShape:"classic",faceMarkers:"dots",digitFontFamily:"default",textFontFamily:"default",googleFont:"none",textAlign:"center",textShadows:!1,useTransparentBg:!1,bgColor:O.colors.stardustWhite,backgroundTexture:"none",widgetMode:"clock",presetTheme:"none",appearance:"system",lightMode:{clockColor:O.colors.graphite,digitColor:O.colors.stardustWhite,textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},darkMode:{clockColor:O.colors.ultraviolet,digitColor:O.colors.stardustWhite,textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack},showHoverMenu:!1,showCustomizeButton:!1,glowEffect:!1,gradientText:!1},fields:[{name:"is12Hour",label:"12-Hour Format",type:"boolean",section:"time"},{name:"showDate",label:"Show Date",type:"boolean",section:"time"},{name:"showSeconds",label:"Show Seconds",type:"boolean",section:"time"},{name:"timezone",label:"Timezone",type:"select",section:"time",options:[{label:"Local (System)",value:"local"},{label:"UTC",value:"UTC"},{label:"Eastern (New York)",value:"America/New_York"},{label:"Central (Chicago)",value:"America/Chicago"},{label:"Mountain (Denver)",value:"America/Denver"},{label:"Pacific (Los Angeles)",value:"America/Los_Angeles"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Hong Kong",value:"Asia/Hong_Kong"},{label:"Sydney",value:"Australia/Sydney"},{label:"Dubai",value:"Asia/Dubai"},{label:"Mumbai",value:"Asia/Kolkata"}]},{name:"blinkingSeparator",label:"Blinking Separator (:)",type:"boolean",section:"time"},{name:"dateFormat",label:"Date Format",type:"select",section:"time",options:[{label:"Long (Monday, January 1, 2025)",value:"long"},{label:"Short (Mon, Jan 1, 2025)",value:"short"},{label:"Numeric (01/01/2025)",value:"numeric"},{label:"European (01.01.2025)",value:"european"},{label:"ISO (2025-01-01)",value:"iso"}]},{name:"clockSize",label:"Clock Size",type:"select",section:"style",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"clockType",label:"Clock Type",type:"select",section:"style",options:[{label:"Digital Solid",value:"digital-solid"},{label:"Digital Roulette",value:"digital-roulette"},{label:"Flip Clock",value:"flip-clock"},{label:"Analog Smooth",value:"analog-smooth"},{label:"Analog Tick",value:"analog-tick"},{label:"Analog Trail",value:"analog-trail"},{label:"Analog Dots",value:"analog-dots"},{label:"Analog Numbers",value:"analog-numbers"},{label:"Analog Planets",value:"analog-planets"}]},{name:"responsiveSizing",label:"Responsive Sizing (Container Queries)",type:"boolean",section:"style"},{name:"handShape",label:"Hand Shape (Analog Only)",type:"select",section:"analog",options:[{label:"Classic",value:"classic"},{label:"Arrow",value:"arrow"},{label:"Modern",value:"modern"},{label:"Minimalist",value:"minimalist"}]},{name:"faceMarkers",label:"Face Markers (Analog Only)",type:"select",section:"analog",options:[{label:"Dots",value:"dots"},{label:"Numbers",value:"numbers"},{label:"Roman Numerals",value:"roman"},{label:"Lines",value:"lines"},{label:"None",value:"none"}]},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"googleFont",label:"Google Font Style",type:"select",section:"typography",options:[{label:"None (Default)",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"widgetMode",label:"Widget Mode",type:"select",section:"interactive",options:[{label:"Clock",value:"clock"},{label:"Timer",value:"timer"},{label:"Stopwatch",value:"stopwatch"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",options:[{label:"None (Custom)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects"}]};var ea=e=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},Ot=e=>{const o=ea(e);if(!o)return 0;const[t,n,d]=[o.r,o.g,o.b].map(l=>(l=l/255,l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)));return .2126*t+.7152*n+.0722*d},ta=e=>[...e].sort((o,t)=>Ot(o)-Ot(t));const Cr=e=>{if(!e||!e.palette||e.palette.length<8)return[];const{palette:o,primary:t,accent:n}=e,d=ta(o),l=d[0],s=d[d.length-1],h=d.slice(2,6),c=[];return c.push({id:"brand-monochrome",name:"Brand Monochrome",description:"Bold monochromatic using your primary brand color",backgroundColor:l,clockColor:t,digitColor:s,textColor:s,texture:"none",glow:!0,category:"brand"}),c.push({id:"brand-contrast",name:"Brand Contrast",description:"High contrast complementary colors",backgroundColor:d[0],clockColor:d[d.length-2],digitColor:d[0],textColor:d[d.length-1],texture:"grid",glow:!1,category:"brand"}),c.push({id:"brand-vibrant",name:"Brand Vibrant",description:"Energetic and colorful",backgroundColor:h[0]||d[2],clockColor:o[1],digitColor:s,textColor:o[2],texture:"dots",glow:!0,category:"brand"}),c.push({id:"brand-professional",name:"Brand Professional",description:"Sophisticated and subtle",backgroundColor:h[2]||d[4],clockColor:h[1]||d[3],digitColor:s,textColor:d[1],texture:"none",glow:!1,category:"brand"}),c.push({id:"brand-dark",name:"Brand Dark",description:"Dark theme with brand accents",backgroundColor:l,clockColor:n,digitColor:l,textColor:h[h.length-1]||s,texture:"stars",glow:!0,category:"brand"}),c.push({id:"brand-light",name:"Brand Light",description:"Clean light theme",backgroundColor:s,clockColor:t,digitColor:s,textColor:l,texture:"none",glow:!1,category:"brand"}),c.push({id:"brand-neon",name:"Brand Neon",description:"Glowing neon effect",backgroundColor:d[0],clockColor:o[3],digitColor:s,textColor:o[4],texture:"noise",glow:!0,category:"brand"}),c.push({id:"brand-minimal",name:"Brand Minimal",description:"Clean minimalist design",backgroundColor:s,clockColor:l,digitColor:s,textColor:d[2],texture:"none",glow:!1,category:"brand"}),c};var ra={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}},oa=({value:e,label:o,colors:t,size:n})=>{const[d,l]=(0,f.useState)(e),[s,h]=(0,f.useState)(!1),[c,m]=(0,f.useState)(e);return(0,f.useEffect)(()=>{e!==c&&(h(!0),setTimeout(()=>{l(e),setTimeout(()=>{h(!1),m(e)},300)},300))},[e,c]),(0,r.jsxs)("div",{className:"inline-flex flex-col items-center mx-1",children:[(0,r.jsxs)("div",{style:{width:`${n*.7}px`,height:`${n}px`,background:t.clockColor||"#333",borderRadius:"8px",color:t.digitColor||"#fff",fontSize:`${n*.65}px`,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden",perspective:"1000px",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:s?"rotateX(90deg)":"rotateX(0deg)"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%)"}}),(0,r.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, transparent 100%)"}}),(0,r.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",background:"rgba(0,0,0,0.3)",zIndex:10}}),(0,r.jsx)("div",{style:{position:"relative",zIndex:5},children:String(d).padStart(2,"0")})]}),o&&(0,r.jsx)("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textTransform:"uppercase"},children:o})]})},aa=({time:e,size:o,type:t,colors:n,config:d,theme:l})=>{const s=e.getHours()%12,h=e.getMinutes(),c=e.getSeconds(),m=s*30+h*.5,p=h*6,u=c*6,x=o/2,k=o*.45,j=()=>{const _=[],v=d.faceMarkers!==void 0&&["dots","numbers","roman","lines","none","planets"].includes(d.faceMarkers)?d.faceMarkers:"dots";if(v==="none")return _;for(let g=0;g<12;g++){const y=g*30*(Math.PI/180),B=x+Math.sin(y)*k*.85,C=x-Math.cos(y)*k*.85;if(v==="dots")_.push((0,r.jsx)("circle",{cx:B,cy:C,r:o*.015,fill:n.clockColor,opacity:"0.5"},g));else if(v==="numbers")_.push((0,r.jsx)("text",{x:B,y:C,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.08,fill:n.clockColor,fontWeight:"bold",children:g===0?12:g},g));else if(v==="roman")_.push((0,r.jsx)("text",{x:B,y:C,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.06,fill:n.clockColor,fontWeight:"bold",children:["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"][g]},g));else if(v==="lines"){const R=x+Math.sin(y)*k*.75,D=x-Math.cos(y)*k*.75;_.push((0,r.jsx)("line",{x1:R,y1:D,x2:B,y2:C,stroke:n.clockColor,strokeWidth:o*.008,opacity:"0.6"},g))}else v==="planets"&&_.push((0,r.jsx)("circle",{cx:B,cy:C,r:o*.01*[8,6,7,5,9,6,8,5,6,7,5,6][g]/5,fill:n.clockColor,opacity:"0.6"},g))}return _},T=(_,v,g)=>{const y=d.handShape!==void 0&&["classic","arrow","modern","minimalist"].includes(d.handShape)?d.handShape:"classic",B=x+Math.sin(_*Math.PI/180)*v,C=x-Math.cos(_*Math.PI/180)*v,R={hour:o*.04,minute:o*.03,second:o*.01},D=t==="trail"&&g==="second"?o*.01:R[g]||o*.02;switch(y){case"classic":return(0,r.jsx)("line",{x1:x,y1:x,x2:B,y2:C,stroke:g==="second"&&t==="trail"?n.textColor:n.clockColor,strokeWidth:D,strokeLinecap:"round",opacity:t==="trail"?.7:1,style:t==="tick"?{transition:"all 0.05s ease"}:{}});case"arrow":{const Y=D*2,U=v*.15,ie=x+Math.sin(_*Math.PI/180)*(v-U),H=x-Math.cos(_*Math.PI/180)*(v-U);return(0,r.jsxs)("g",{children:[(0,r.jsx)("line",{x1:x,y1:x,x2:ie,y2:H,stroke:n.clockColor,strokeWidth:D,strokeLinecap:"round"}),(0,r.jsx)("polygon",{points:`${B},${C} ${ie-Y},${H} ${ie+Y},${H}`,fill:n.clockColor})]})}case"modern":{const Y=v*.2;return(0,r.jsx)("line",{x1:x-Math.sin(_*Math.PI/180)*Y,y1:x+Math.cos(_*Math.PI/180)*Y,x2:B,y2:C,stroke:n.clockColor,strokeWidth:D,strokeLinecap:"round"})}case"minimalist":return(0,r.jsx)("line",{x1:x,y1:x,x2:B,y2:C,stroke:n.clockColor,strokeWidth:D*.5,strokeLinecap:"butt",opacity:.9});default:return(0,r.jsx)("line",{x1:x,y1:x,x2:B,y2:C,stroke:n.clockColor,strokeWidth:D,strokeLinecap:"round"})}};return(0,r.jsxs)("svg",{width:o,height:o,style:{filter:d.glowEffect?`drop-shadow(0 0 ${l.effects.glowBlur} ${n.clockColor})`:"none"},children:[(0,r.jsx)("circle",{cx:x,cy:x,r:k,fill:"none",stroke:n.clockColor,strokeWidth:o*.01,opacity:"0.2"}),j(),T(m,k*.5,"hour"),T(p,k*.75,"minute"),d.showSeconds&&T(u,k*.85,"second"),(0,r.jsx)("circle",{cx:x,cy:x,r:o*.02,fill:n.clockColor})]})};const sa=({config:e,brandTheme:o,onCustomizeRequest:t})=>{const{theme:n}=Ve(),[d,l]=(0,f.useState)(new Date),[s,h]=(0,f.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[c,m]=(0,f.useState)(5),[p,u]=(0,f.useState)(0),[x,k]=(0,f.useState)(!1),[j,T]=(0,f.useState)(0),[_,v]=(0,f.useState)(!1);(0,f.useEffect)(()=>{const L=window.matchMedia("(prefers-color-scheme: dark)"),W=le=>h(le.matches);return L.addEventListener("change",W),()=>L.removeEventListener("change",W)},[]);const g=(0,f.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:s,[e.appearance,s]);(0,f.useEffect)(()=>{if(e.blinkingSeparator){const L="clock-blink-animation";if(!document.getElementById(L)){const W=document.createElement("style");W.id=L,W.textContent=`
          @keyframes blink-separator {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
          }
          .blink-separator {
            animation: blink-separator 1s step-end infinite;
          }
        `,document.head.appendChild(W)}}},[e.blinkingSeparator]),(0,f.useEffect)(()=>{if(e.googleFont&&e.googleFont!=="none"){const L=`google-font-${e.googleFont}`;if(!document.getElementById(L)){const W=document.createElement("link");W.id=L,W.rel="stylesheet",W.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&display=swap`,document.head.appendChild(W)}}},[e.googleFont]),(0,f.useEffect)(()=>{if(e.responsiveSizing){const L="clock-responsive-sizing";if(!document.getElementById(L)){const W=document.createElement("style");W.id=L,W.textContent=`
          .clock-responsive-container {
            container-type: size;
            container-name: clock;
          }

          @container clock (max-width: 300px) {
            .clock-responsive-text { font-size: clamp(24px, 8cqw, 48px) !important; }
            .clock-responsive-date { font-size: clamp(12px, 4cqw, 16px) !important; }
          }

          @container clock (min-width: 301px) and (max-width: 600px) {
            .clock-responsive-text { font-size: clamp(36px, 10cqw, 64px) !important; }
            .clock-responsive-date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
          }

          @container clock (min-width: 601px) {
            .clock-responsive-text { font-size: clamp(48px, 12cqw, 96px) !important; }
            .clock-responsive-date { font-size: clamp(16px, 5cqw, 24px) !important; }
          }
        `,document.head.appendChild(W)}}},[e.responsiveSizing]),(0,f.useEffect)(()=>{if(e.widgetMode==="timer"&&x){const L=setInterval(()=>{p>0?u(p-1):c>0?(m(c-1),u(59)):k(!1)},1e3);return()=>clearInterval(L)}},[e.widgetMode,x,c,p]),(0,f.useEffect)(()=>{if(e.widgetMode==="stopwatch"&&_){const L=setInterval(()=>{T(W=>W+10)},10);return()=>clearInterval(L)}},[e.widgetMode,_]),(0,f.useEffect)(()=>{if(e.clockType==="analog-smooth"||e.clockType==="analog-trail"){let L;const W=()=>{l(new Date),L=requestAnimationFrame(W)};return L=requestAnimationFrame(W),()=>cancelAnimationFrame(L)}else{const L=setInterval(()=>l(new Date),1e3);return()=>clearInterval(L)}},[e.clockType]);const y=f.useMemo(()=>o?Cr(o):[],[o]),B=f.useMemo(()=>{const L={...ra};return y.forEach(W=>{L[W.id]=W}),L},[y]),C=f.useMemo(()=>{let L=g?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"){const W=B[e.presetTheme];W&&(L={backgroundColor:W.backgroundColor,clockColor:W.clockColor,digitColor:W.digitColor,textColor:W.textColor})}return L},[g,e.darkMode,e.lightMode,e.presetTheme,B]);(0,f.useEffect)(()=>{const L=document.documentElement;L.style.setProperty("--clock-bg-color",C.backgroundColor),L.style.setProperty("--clock-primary-color",C.clockColor),L.style.setProperty("--clock-text-color",C.textColor),L.style.setProperty("--clock-digit-color",C.digitColor)},[C]);const R=(L,W=!1)=>{if(e.googleFont&&e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", ui-sans-serif, system-ui, sans-serif`;const le=W?e.digitFontFamily:e.textFontFamily,ce={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return ce[le]||ce.default},D={small:{time:"32px",date:"14px",analog:120},medium:{time:"48px",date:"16px",analog:180},large:{time:"64px",date:"18px",analog:240},xlarge:{time:"96px",date:"24px",analog:320}},Y=D[e.clockSize]||D.large,U=()=>{switch(e.presetTheme!=="none"&&B[e.presetTheme]?B[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return`radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent),
                radial-gradient(1px 1px at 110px 120px, white, transparent)`;case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return`linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)`;case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},ie=()=>{switch(e.backgroundTexture){case"dots":return"20px 20px";case"grid":return"20px 20px";case"stars":return"200px 200px";default:return"auto"}},H={backgroundColor:e.useTransparentBg?"transparent":C.backgroundColor,backgroundImage:U(),backgroundSize:ie(),color:C.textColor,textAlign:e.textAlign},F={fontSize:Y.time,fontFamily:R(e.digitFontFamily,!0),fontWeight:"bold",color:C.clockColor,textShadow:e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none"};e.glowEffect&&(F.textShadow=`0 0 ${n.effects.glowBlur} currentColor`),e.gradientText&&(F.background=n.gradients.gradient,F.WebkitBackgroundClip="text",F.color="transparent");const te=()=>{const L={hour:"2-digit",minute:"2-digit",second:e.showSeconds?"2-digit":void 0,hour12:e.is12Hour};return e.timezone&&e.timezone!=="local"&&(L.timeZone=e.timezone),d.toLocaleTimeString([],L)},he=()=>{if(!e.timezone||e.timezone==="local"){const L=-d.getTimezoneOffset(),W=Math.floor(Math.abs(L)/60),le=Math.abs(L)%60;return`UTC${L>=0?"+":"-"}${String(W).padStart(2,"0")}:${String(le).padStart(2,"0")}`}try{const L=new Intl.DateTimeFormat("en-US",{timeZone:e.timezone,timeZoneName:"short"}).formatToParts(d).find(W=>W.type==="timeZoneName");return L?L.value:""}catch{return""}},ge=()=>{const L=e.timezone!=="local"?{timeZone:e.timezone}:{};switch(e.dateFormat){case"long":return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...L});case"short":return d.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",year:"numeric",...L});case"numeric":return d.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",...L});case"european":return d.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",...L});case"iso":return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;default:return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...L})}},K=()=>{const L=te();if(e.clockType==="digital-solid")return(0,r.jsx)("div",{style:F,className:`tabular-nums tracking-tight ${e.responsiveSizing?"clock-responsive-text":""}`,children:e.blinkingSeparator?L.split("").map((W,le)=>(0,r.jsx)("span",{className:W===":"?"blink-separator":"",children:W},le)):L});if(e.clockType==="digital-roulette")return(0,r.jsx)("div",{style:{...F,letterSpacing:"0.1em"},className:`tabular-nums font-mono ${e.responsiveSizing?"clock-responsive-text":""}`,children:L.split("").map((W,le)=>(0,r.jsx)("span",{className:e.blinkingSeparator&&W===":"?"blink-separator":"",style:{display:"inline-block",animation:`roulette 0.5s ease ${le*.05}s`,transformOrigin:"center"},children:W},le))});if(e.clockType==="flip-clock"){const W=L.match(/\d+/g)||[];return(0,r.jsx)("div",{className:"flex gap-2 justify-center items-center",children:W.map((le,ce)=>(0,r.jsxs)(f.Fragment,{children:[(0,r.jsx)(oa,{value:parseInt(le),label:ce===0?"HR":ce===1?"MIN":"SEC",size:parseInt(Y.time),colors:{clockColor:C.clockColor,digitColor:C.digitColor}}),ce<W.length-1&&(0,r.jsx)("span",{style:{fontSize:Y.time,opacity:.5},children:":"})]},ce))})}if(e.clockType.startsWith("analog-")){const W=e.clockType.replace("analog-","");return(0,r.jsx)(aa,{time:d,size:typeof Y.analog=="number"&&Y.analog>0?Y.analog:240,type:W,colors:C,config:e,theme:n})}return(0,r.jsx)("div",{style:F,children:L})},Ne=()=>{const L=`${String(c).padStart(2,"0")}:${String(p).padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{style:F,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:L}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>k(!x),className:"px-4 py-2 rounded-lg",style:{backgroundColor:C.clockColor,color:C.digitColor},children:x?"Pause":"Start"}),(0,r.jsx)("button",{onClick:()=>{m(5),u(0),k(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:C.textColor,color:C.backgroundColor},children:"Reset"})]})]})},_e=()=>{const L=j%1e3,W=Math.floor(j/1e3)%60,le=Math.floor(j/6e4),ce=`${String(le).padStart(2,"0")}:${String(W).padStart(2,"0")}.${String(Math.floor(L/10)).padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{style:F,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:ce}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>v(!_),className:"px-4 py-2 rounded-lg",style:{backgroundColor:C.clockColor,color:C.digitColor},children:_?"Stop":"Start"}),(0,r.jsx)("button",{onClick:()=>{T(0),v(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:C.textColor,color:C.backgroundColor},children:"Reset"})]})]})},V=()=>{switch(e.widgetMode){case"timer":return Ne();case"stopwatch":return _e();default:return K()}};return(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center h-full w-full p-6 ${e.responsiveSizing?"clock-responsive-container":""}`,style:H,children:[V(),e.showDate&&e.widgetMode==="clock"&&(0,r.jsxs)("div",{className:`mt-4 font-medium ${e.responsiveSizing?"clock-responsive-date":""}`,style:{fontSize:Y.date,fontFamily:R(e.textFontFamily),opacity:.7,color:C.textColor,textShadow:e.textShadows?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:[ge(),e.timezone&&(0,r.jsx)("div",{style:{fontSize:"0.85em",marginTop:"4px",opacity:.6},children:he()})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:C.clockColor,color:C.digitColor,opacity:.8},onClick:()=>t?.("appearance"),children:"Customize"})]})};var at={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}};const na=e=>{let o=e.appearance==="dark"?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"&&at[e.presetTheme]){const h=at[e.presetTheme];o={backgroundColor:h.backgroundColor,clockColor:h.clockColor,digitColor:h.digitColor,textColor:h.textColor}}const t=e.useTransparentBg?"transparent":o.backgroundColor,n=()=>{switch(e.presetTheme!=="none"&&at[e.presetTheme]?at[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent)";case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)";case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},d=()=>{const h=e.backgroundTexture;return h==="dots"||h==="grid"?"20px 20px":h==="stars"?"200px 200px":"auto"},l=e.googleFont&&e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap`:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap",s=()=>e.googleFont&&e.googleFont!=="none"?`"${e.googleFont.replace(/\+/g," ")}", ${O.fonts.body}`:O.fonts.body;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="${l}" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${t};
      background-image: ${n()};
      background-size: ${d()};
      color: ${o.textColor};
      font-family: ${s()};
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: ${e.textAlign};
      ${e.responsiveSizing?"container-type: size; container-name: clock;":""}
    }

    :root {
      --clock-bg-color: ${o.backgroundColor};
      --clock-primary-color: ${o.clockColor};
      --clock-text-color: ${o.textColor};
      --clock-digit-color: ${o.digitColor};
    }

    #clock {
      font-size: 64px;
      font-weight: bold;
      color: ${o.clockColor};
      ${e.textShadows?"text-shadow: 0 2px 4px rgba(0,0,0,0.1);":""}
      ${e.glowEffect?`text-shadow: 0 0 ${O.effects.glowBlur} ${o.clockColor};`:""}
      ${e.gradientText?`
        background: ${O.gradients.gradient};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      `:""}
    }

    #date {
      margin-top: 16px;
      font-size: 18px;
      opacity: 0.7;
      ${e.textShadows?"text-shadow: 0 1px 2px rgba(0,0,0,0.1);":""}
    }

    .customize-button {
      margin-top: 16px;
      padding: 8px 16px;
      background: ${o.clockColor};
      color: ${o.digitColor};
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: ${O.fonts.heading};
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .customize-button:hover {
      opacity: 1;
    }

    ${e.blinkingSeparator?`
    @keyframes blink-separator {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .blink-separator {
      animation: blink-separator 1s step-end infinite;
    }
    `:""}

    ${e.responsiveSizing?`
    @container clock (max-width: 300px) {
      #clock { font-size: clamp(24px, 8cqw, 48px) !important; }
      #date { font-size: clamp(12px, 4cqw, 16px) !important; }
    }

    @container clock (min-width: 301px) and (max-width: 600px) {
      #clock { font-size: clamp(36px, 10cqw, 64px) !important; }
      #date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
    }

    @container clock (min-width: 601px) {
      #clock { font-size: clamp(48px, 12cqw, 96px) !important; }
      #date { font-size: clamp(16px, 5cqw, 24px) !important; }
    }
    `:""}

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        #clock {
          color: ${e.darkMode.clockColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  ${e.showDate?'<div id="date"></div>':""}
  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${jr(e)}
  <\/script>
</body>
</html>`},jr=e=>{const o=e.clockType==="analog-smooth"||e.clockType==="analog-trail";return`
  function updateClock() {
    const now = new Date();
    const timeOptions = {
      hour: '2-digit',
      minute: '2-digit',
      second: ${e.showSeconds},
      hour12: ${e.is12Hour}${e.timezone&&e.timezone!=="local"?`,
      timeZone: '${e.timezone}'`:""}
    };

    let timeStr = now.toLocaleTimeString([], timeOptions);

    ${e.blinkingSeparator?`
    // Apply blinking to separators
    const clockEl = document.getElementById('clock');
    clockEl.innerHTML = timeStr.split('').map(char =>
      char === ':' ? '<span class="blink-separator">' + char + '</span>' : char
    ).join('');
    `:`
    document.getElementById('clock').textContent = timeStr;
    `}

    ${e.showDate?`
      // Format date based on dateFormat config
      let dateStr;
      const tzOpts = ${e.timezone&&e.timezone!=="local"?`{ timeZone: '${e.timezone}' }`:"{}"};

      switch ('${e.dateFormat||"long"}') {
        case 'long':
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'short':
          dateStr = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'numeric':
          dateStr = now.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'european':
          dateStr = now.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'iso':
          const year = now.getFullYear();
          const month = String(now.getMonth() + 1).padStart(2, '0');
          const day = String(now.getDate()).padStart(2, '0');
          dateStr = year + '-' + month + '-' + day;
          break;
        default:
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
      }

      ${e.timezone?`
      // Add timezone offset
      const tzOffset = ${e.timezone==="local"||!e.timezone?`
        (() => {
          const offset = -now.getTimezoneOffset();
          const hours = Math.floor(Math.abs(offset) / 60);
          const minutes = Math.abs(offset) % 60;
          const sign = offset >= 0 ? '+' : '-';
          return 'UTC' + sign + String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
        })()
      `:`
        (() => {
          try {
            const formatter = new Intl.DateTimeFormat('en-US', {
              timeZone: '${e.timezone}',
              timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(now);
            const tzPart = parts.find(p => p.type === 'timeZoneName');
            return tzPart ? tzPart.value : '';
          } catch (e) {
            return '';
          }
        })()
      `};
      document.getElementById('date').innerHTML = dateStr + '<br><span style="font-size: 0.85em; opacity: 0.6;">' + tzOffset + '</span>';
      `:`
      document.getElementById('date').textContent = dateStr;
      `}
    `:""}
  }

  ${o?`
  function animate() {
    updateClock();
    requestAnimationFrame(animate);
  }
  animate();
  `:`
  setInterval(updateClock, 1000);
  updateClock();
  `}
`},la={id:"countdown",label:"Countdown",description:"Event countdowns with flip cards and confetti",defaultConfig:{eventTitle:"Project Launch",targetDate:new Date(Date.now()+864e5*30).toISOString().slice(0,16),format24h:!0,ignoreTimezone:!0,timezone:"UTC",recurringType:"none",recurringEndDate:null,countdownStyle:"flip-countdown",showYear:!1,showMonth:!0,showWeek:!1,showDay:!0,showHour:!0,showMinute:!0,showSecond:!0,confettiDuration:"5min",stopAtZero:!0,completionMessage:"üéâ Event Started!",redirectOnComplete:!1,redirectUrl:"",showToGoLabel:!0,digitFontFamily:"default",textFontFamily:"default",textAlign:"center",textShadows:!1,useTransparentBg:!0,appearance:"system",lightMode:{textColor:O.colors.graphite,panelColor:O.colors.stardustWhite,digitColor:O.colors.nightBlack},darkMode:{textColor:O.colors.stardustWhite,panelColor:O.colors.graphite,digitColor:O.colors.stardustWhite},showHoverMenu:!1,showCustomizeButton:!1},fields:[{name:"eventTitle",label:"Event Title",type:"text",section:"event"},{name:"targetDate",label:"Target Date & Time",type:"datetime-local",section:"event"},{name:"format24h",label:"24-Hour Format",type:"boolean",section:"event"},{name:"ignoreTimezone",label:"Ignore Timezone",type:"boolean",section:"event"},{name:"timezone",label:"Timezone",type:"select",section:"event",options:[{label:"UTC",value:"UTC"},{label:"EST (UTC-5)",value:"America/New_York"},{label:"PST (UTC-8)",value:"America/Los_Angeles"},{label:"GMT",value:"Europe/London"},{label:"CET (UTC+1)",value:"Europe/Paris"},{label:"JST (UTC+9)",value:"Asia/Tokyo"}]},{name:"recurringType",label:"Recurring",type:"select",section:"event",options:[{label:"None",value:"none"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}]},{name:"recurringEndDate",label:"Recurring End Date",type:"datetime-local",section:"event",condition:e=>e.recurringType!=="none"},{name:"countdownStyle",label:"Countdown Style",type:"select",section:"style",options:[{label:"Text Only",value:"text-only"},{label:"Flip Countdown",value:"flip-countdown"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"style",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"showYear",label:"Show Years",type:"boolean",section:"units"},{name:"showMonth",label:"Show Months",type:"boolean",section:"units"},{name:"showWeek",label:"Show Weeks",type:"boolean",section:"units"},{name:"showDay",label:"Show Days",type:"boolean",section:"units"},{name:"showHour",label:"Show Hours",type:"boolean",section:"units"},{name:"showMinute",label:"Show Minutes",type:"boolean",section:"units"},{name:"showSecond",label:"Show Seconds",type:"boolean",section:"units"},{name:"confettiDuration",label:"Confetti Duration",type:"select",section:"completion",options:[{label:"Never",value:"never"},{label:"1 Minute",value:"1min"},{label:"5 Minutes",value:"5min"},{label:"10 Minutes",value:"10min"},{label:"1 Hour",value:"1hour"},{label:"Forever",value:"forever"}]},{name:"stopAtZero",label:"Stop at Zero",type:"boolean",section:"completion"},{name:"completionMessage",label:"Completion Message",type:"text",section:"completion"},{name:"redirectOnComplete",label:"Redirect on Completion",type:"boolean",section:"completion"},{name:"redirectUrl",label:"Redirect URL",type:"text",section:"completion",condition:e=>e.redirectOnComplete},{name:"showToGoLabel",label:'Show "To Go/Ago" Label',type:"boolean",section:"completion"},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var ia=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},Wt=(e,o)=>{const t=Math.floor(e/1e3),n=Math.floor(t/60),d=Math.floor(n/60),l=Math.floor(d/24),s=Math.floor(l/7),h=Math.floor(l/30.44);return{finished:!1,isPast:o,years:Math.floor(l/365.25),months:h%12,weeks:s%4,days:l%7,hours:d%24,minutes:n%60,seconds:t%60}},Rt=(e,o)=>{const t=new Date,n=new Date(e)-t;return n<=0?o?{finished:!0,isPast:!1}:Wt(Math.abs(n),!0):Wt(n,!1)};const ca=({config:e,onCustomizeRequest:o})=>{const[t,n]=(0,f.useState)(()=>Rt(e.targetDate,e.stopAtZero)),[d,l]=(0,f.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[s,h]=(0,f.useState)(!1),[c,m]=(0,f.useState)(null),[p]=(0,f.useState)(()=>Array.from({length:50},()=>({left:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})));(0,f.useEffect)(()=>{const _=window.matchMedia("(prefers-color-scheme: dark)"),v=g=>l(g.matches);return _.addEventListener("change",v),()=>_.removeEventListener("change",v)},[]);const u=(0,f.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:d,[e.appearance,d]);(0,f.useEffect)(()=>{const _=setInterval(()=>{const v=Rt(e.targetDate,e.stopAtZero);v.finished&&!s&&e.confettiDuration!=="never"&&(h(!0),m(Date.now())),n(v)},1e3);return()=>clearInterval(_)},[e.targetDate,e.stopAtZero,s,e.confettiDuration]),(0,f.useEffect)(()=>{if(!s||!c)return;const _={never:0,"1min":6e4,"5min":3e5,"10min":6e5,"1hour":36e5,forever:1/0}[e.confettiDuration];if(_===1/0)return;const v=setTimeout(()=>{h(!1)},_);return()=>clearTimeout(v)},[s,c,e.confettiDuration]);const x=(0,f.useMemo)(()=>{const _={textColor:u?"#F8F9FF":"#0B0E12",panelColor:u?"#1F2937":"#F8F9FF",digitColor:u?"#F8F9FF":"#0B0E12"};return(u?e.darkMode:e.lightMode)||_},[u,e.darkMode,e.lightMode]),k=_=>{const v={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return v[_]||v.default},j=({value:_,label:v,isLast:g})=>e.countdownStyle==="flip-countdown"?(0,r.jsxs)("div",{className:"flex flex-col items-center mx-2",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-center font-mono rounded-lg overflow-hidden shadow-lg",style:{backgroundColor:x.panelColor,color:x.digitColor,fontSize:"2.5rem",padding:"12px 20px",minWidth:"80px",fontFamily:k(e.digitFontFamily),textShadow:e.textShadows?`0 0 ${Me.glowBlur} rgba(0,0,0,0.3)`:"none"},children:[(0,r.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black/10"}),String(_).padStart(2,"0")]}),(0,r.jsx)("span",{className:"text-xs uppercase mt-2 font-bold tracking-wide",style:{color:x.textColor,fontFamily:k(e.textFontFamily),opacity:.7},children:v})]}):(0,r.jsxs)("span",{className:"mx-1",style:{fontFamily:k(e.digitFontFamily),fontSize:"2rem",fontWeight:"bold",color:x.textColor},children:[_," ",v,!g&&", "]}),T=[];return e.showYear&&t.years>0&&T.push({value:t.years,label:"Year"}),e.showMonth&&t.months>0&&T.push({value:t.months,label:"Month"}),e.showWeek&&t.weeks>0&&T.push({value:t.weeks,label:"Week"}),e.showDay&&T.push({value:t.days||0,label:"Day"}),e.showHour&&T.push({value:t.hours||0,label:"Hr"}),e.showMinute&&T.push({value:t.minutes||0,label:"Min"}),e.showSecond&&T.push({value:t.seconds||0,label:"Sec"}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 transition-colors relative",style:{backgroundColor:e.useTransparentBg?"transparent":u?Me.colors.nightBlack:Me.colors.stardustWhite,textAlign:e.textAlign},children:[s&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:p.map((_,v)=>(0,r.jsx)("div",{className:"absolute animate-confetti",style:{left:`${_.left}%`,top:"-10px",width:"10px",height:"10px",backgroundColor:Object.values(Me.colors)[v%Object.values(Me.colors).length],animation:`confettiFall ${_.duration}s linear infinite`,animationDelay:`${_.delay}s`,opacity:.8,borderRadius:"2px"}},v))}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",style:{color:x.textColor,fontFamily:k(e.textFontFamily),textShadow:e.textShadows?`0 0 ${Me.glowBlur} rgba(0,0,0,0.1)`:"none"},children:ia(e.eventTitle)}),(0,r.jsx)("div",{className:`flex ${e.countdownStyle==="flip-countdown"?"gap-2":"flex-wrap justify-center"}`,children:t.finished?(0,r.jsx)("div",{className:"text-4xl font-bold",style:{color:x.textColor},children:"üéâ Event Started!"}):T.map((_,v)=>(0,r.jsx)(j,{value:_.value,label:_.label,isLast:v===T.length-1},_.label))}),e.showToGoLabel&&!t.finished&&(0,r.jsx)("div",{className:"mt-4 text-sm uppercase tracking-wide opacity-60",style:{color:x.textColor,fontFamily:k(e.textFontFamily)},children:t.isPast?"Ago":"To Go"}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"mt-6 px-6 py-2 rounded-lg font-medium text-sm",style:{backgroundColor:x.panelColor,color:x.digitColor,opacity:.8},onClick:()=>o?.("event"),children:"Customize"}),(0,r.jsx)("style",{children:`
        @keyframes confettiFall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
      `})]})};var Ht=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])};const da=e=>{const o=e.appearance==="dark",t=o?e.darkMode:e.lightMode,n=e.useTransparentBg?"transparent":o?O.colors.nightBlack:O.colors.stardustWhite;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown - ${Ht(e.eventTitle)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${n};
      color: ${t.textColor};
      font-family: ${O.fonts.body};
      display: flex;
      flex-direction: column;
      align-items: ${e.textAlign==="left"?"flex-start":e.textAlign==="right"?"flex-end":"center"};
      justify-content: center;
      padding: 32px;
      text-align: ${e.textAlign};
    }

    #event-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 24px;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.1);`:""}
    }

    #countdown-display {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .countdown-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 8px;
    }

    .countdown-digit {
      background: ${t.panelColor};
      color: ${t.digitColor};
      font-size: 2.5rem;
      padding: 12px 20px;
      border-radius: 8px;
      min-width: 80px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.3);`:""}
    }

    .countdown-digit::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: rgba(0,0,0,0.1);
    }

    .countdown-label {
      font-size: 0.75rem;
      margin-top: 8px;
      opacity: 0.7;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 0.05em;
    }

    #label {
      margin-top: 16px;
      font-size: 0.875rem;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    #confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        .countdown-digit {
          background: ${e.darkMode.panelColor};
          color: ${e.darkMode.digitColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <h2 id="event-title">${Ht(e.eventTitle)}</h2>
  <div id="countdown-display"></div>
  ${e.showToGoLabel?'<div id="label"></div>':""}
  <div id="confetti-container"></div>

  <script>
    ${Sr(e)}
  <\/script>
</body>
</html>`},Sr=e=>{const o=e.appearance==="dark"?e.darkMode:e.lightMode;return`
    const config = ${JSON.stringify(e)};
    const colors = ${JSON.stringify(o)};
    const JAZER_BRAND_COLORS = ${JSON.stringify(O.colors)};

    let confettiActive = false;
    let confettiStartTime = null;

    function calculateTimeLeft() {
      const now = new Date();
      const target = new Date(config.targetDate);
      const diff = target - now;

      if (diff <= 0) {
        if (config.stopAtZero) {
          triggerConfetti();
          return { finished: true };
        }
        return calculateUnits(Math.abs(diff), true);
      }

      return calculateUnits(diff, false);
    }

    function calculateUnits(ms, isPast) {
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const h = Math.floor(m / 60);
      const d = Math.floor(h / 24);

      return {
        finished: false,
        isPast,
        days: d,
        hours: h % 24,
        minutes: m % 60,
        seconds: s % 60
      };
    }

    function triggerConfetti() {
      if (confettiActive || config.confettiDuration === 'never') return;
      confettiActive = true;
      confettiStartTime = Date.now();

      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = \`
          position: absolute;
          left: \${Math.random() * 100}%;
          top: -10px;
          width: 10px;
          height: 10px;
          background: \${Object.values(JAZER_BRAND_COLORS)[i % Object.values(JAZER_BRAND_COLORS).length]};
          animation: fall \${2 + Math.random() * 3}s linear infinite;
          opacity: 0.8;
          border-radius: 2px;
        \`;
        container.appendChild(confetti);
      }

      const durations = { '1min': 60000, '5min': 300000, '10min': 600000, '1hour': 3600000 };
      if (config.confettiDuration !== 'forever') {
        setTimeout(() => {
          container.innerHTML = '';
          confettiActive = false;
        }, durations[config.confettiDuration]);
      }
    }

    function updateCountdown() {
      const timeLeft = calculateTimeLeft();
      const display = document.getElementById('countdown-display');

      if (timeLeft.finished) {
        display.innerHTML = '<div style="font-size: 2rem; font-weight: bold;">üéâ Event Started!</div>';
        return;
      }

      const units = [];
      if (config.showDay) units.push({ value: timeLeft.days, label: 'Days' });
      if (config.showHour) units.push({ value: timeLeft.hours, label: 'Hours' });
      if (config.showMinute) units.push({ value: timeLeft.minutes, label: 'Min' });
      if (config.showSecond) units.push({ value: timeLeft.seconds, label: 'Sec' });

      display.innerHTML = units.map(u => \`
        <div class="countdown-unit">
          <div class="countdown-digit">\${String(u.value).padStart(2, '0')}</div>
          <span class="countdown-label">\${u.label}</span>
        </div>
      \`).join('');

      if (config.showToGoLabel) {
        document.getElementById('label').textContent = timeLeft.isPast ? 'Ago' : 'To Go';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  `},ua="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let mt=(e=21)=>{let o="",t=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)o+=ua[t[e]&63];return o};var gt={id:mt(),label:"Button",icon:"‚ú®",hideIcon:!1,url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"},Gt=[{id:"focus",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],pa=[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],ma=[{title:"Button Modes",description:"Modes create entire categories of button behavior so every press feels intentional.",items:[{title:"Action Mode",body:"Executes a single action (log, toggle, open link, trigger webhook, etc.)."},{title:"Macro Mode",body:"Chains multiple actions together so one press can log, toggle, and open a link in sequence."},{title:"Input Mode",body:"Prompts for a quick note, pomodoro intention, or task title before running the macro."},{title:"Cycle Mode",body:"Each press cycles through presets (Start, Pause, Skip, Complete) with matching badges and colors."},{title:"Toggle Mode",body:"Maintains an on/off state with glow + data logging so you can see whether the button is active."}]},{title:"Visual & Interactive Touches",description:"Micro-interactions make the widget feel premium.",items:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts to match the action being taken."},{title:"Particles & Traces",body:"Neon ripple, energy pulse, pixel burst, glow sweep, or magnetic hover trails."},{title:"Active Duration Glow",body:"While macros run the button slowly pulses, shifts color, or shows a progress arc."},{title:"Badges",body:"Counts, streak icons, warning dots, and data pills keep the button status visible."}]},{title:"Data-Aware Reactions",description:"Let Notion data change the way the button behaves or looks.",items:[{title:"Task Pressure",body:"If today's tasks are incomplete the button shifts to warning red."},{title:"Streak Glow",body:"When pomodoro streak continues the button gets a brighter glow."},{title:"Done State",body:"Marking a database property as Done swaps in a green check pill."},{title:"Unlocks",body:"When a field equals a value, the button can unlock a new animation or action."}]},{title:"Notion Integration",description:"The serious power comes from two-way Notion sync.",items:[{title:"Connect a Database",body:"Point to Tasks, Journal, Habits, or Pomodoros and choose create, update, or toggle actions."},{title:"Templates + Prefill",body:"Apply a template per button and pre-fill tags, owners, and dates."},{title:"Advanced Logging",body:"Capture button ID, widget ID, timestamps, and user-entered text for every press."},{title:"Two-Way Rules",body:"Check Notion data before acting so limits, completed flags, or custom focus modes change the outcome."}]},{title:"Smart Logic",description:"Conditional flows prevent accidental presses.",items:[{title:"If/Else Branching",body:"If a timer is active, pause it. Otherwise start focus. Same button, two outcomes."},{title:"Data-Driven UI",body:"Swap label, icon, color, or tooltip whenever a Notion property changes."}]},{title:"Layout-Level Controls",description:"Organize multiple buttons into purposeful groups.",items:[{title:"Button Groups",body:"Vertical stacks, inline clusters, grids, or rows with spacers keep things tidy."},{title:"Linked Buttons",body:"Pomodoro Start -> Pause -> Log Session -> Complete Task all sharing one state."},{title:"Variants",body:"Text, icon-only, icon + text, capsule, circular, floating orb, outline, or ghost styles."}]},{title:"Wow Moments",description:"Moments of surprise drive engagement.",items:[{title:"Energy Charge Ring",body:"Every press charges a ring that wraps the button."},{title:"Streak Transform",body:"As the streak grows the glow, color, and animation intensity evolve."},{title:"Secret Long Press",body:"Holding for two seconds can unlock a different action or log."},{title:"Morphing States",body:"Square -> circle, icon -> checkmark, text -> animated success message."},{title:"Dynamic Labels",body:`Rotate label text: "Press Me" -> "Let's cook" -> "Energy +1" -> "Keep grinding".`}]},{title:"Button Library",description:"Build a catalog so users can drag in what they need.",items:[{title:"Examples",body:"Log Button, Task Toggle, Cycle/Pomodoro button, Create Page, Template trigger, Counter, Mode Switcher, Theme Toggle, Playlist, Navigation, Meta/Macro, and Secret long-press buttons."}]}],Je=()=>({cycleIndex:0,isActive:!1,badgeCount:0,awaitingInput:!1,inputValue:"",macroLog:[],animationKey:0,lastCompleteAt:0,isProcessing:!1,lastLoggedStatus:null,energyCharge:0,secretUnlocked:!1,counterValue:0,playlistIndex:0,modeIndex:0,themeMode:"dark",cycleStep:0,dynamicLabelIndex:0,timerRunning:!1}),Xe=(e="")=>e.split(`
`).map(o=>o.trim()).filter(Boolean),ha=e=>Xe(e).map(o=>{const[t="",n="",d=""]=o.split("|");return{id:`${t}-${n}`.trim()||mt(),label:t.trim(),badge:n.trim(),color:d.trim()}}).filter(o=>o.label),ga=e=>Xe(e).map((o,t)=>{const[n="log",d="Action",l="200"]=o.split("|");return{id:`${n}-${t}`,type:n.trim()||"log",label:d.trim()||"Action",delay:Number(l)||200}}).filter(o=>o.type),xa=(e="")=>e.split(/;|\n/).map(o=>o.trim()).filter(Boolean).map(o=>{const[t="",...n]=o.split("=");return{key:t.trim(),value:n.join("=").trim()}}).filter(o=>o.key),ba=(e=200)=>new Promise(o=>setTimeout(o,e));const fa=({config:e,onConfigChange:o,onCustomizeRequest:t,brandTheme:n})=>{const{theme:d,getColor:l}=Ve(),[s,h]=(0,f.useState)(e.buttons||[gt]),[c,m]=(0,f.useState)(null),[p,u]=(0,f.useState)(!1),[x,k]=(0,f.useState)({}),[j,T]=(0,f.useState)([]),_=(0,f.useRef)({}),[v,g]=(0,f.useState)(!1),y=n||e.brandThemeSnapshot,B=(0,f.useCallback)(a=>{t?t(a):g(!0)},[t]),C=c?s.findIndex(a=>a.id===c):-1,R=(0,f.useMemo)(()=>({jazerNeon:{bgColor:l("electricPurple"),outlineColor:l("electricPurple"),textColor:l("stardustWhite"),hoverBgColor:l("ultraviolet")},cosmicBlue:{bgColor:l("cosmicBlue"),outlineColor:l("cosmicBlue"),textColor:l("stardustWhite"),hoverBgColor:l("aetherTeal")},neonPink:{bgColor:l("neonPink"),outlineColor:l("neonPink"),textColor:l("stardustWhite"),hoverBgColor:"#EC4899"},purple:{bgColor:"#6940A5",outlineColor:"#6940A5",textColor:"#FFFFFF",hoverBgColor:"#8B5CF6",hoverTextColor:"#FFFFFF"},blue:{bgColor:"#0B6E99",outlineColor:"#0B6E99",textColor:"#FFFFFF",hoverBgColor:"#2D9CDB",hoverTextColor:"#FFFFFF"},red:{bgColor:"#E03E3E",outlineColor:"#E03E3E",textColor:"#FFFFFF",hoverBgColor:"#EB5757",hoverTextColor:"#FFFFFF"},green:{bgColor:"#0F7B6C",outlineColor:"#0F7B6C",textColor:"#FFFFFF",hoverBgColor:"#27AE60",hoverTextColor:"#FFFFFF"},yellow:{bgColor:"#DFAB01",outlineColor:"#DFAB01",textColor:"#FFFFFF",hoverBgColor:"#F2C94C",hoverTextColor:"#FFFFFF"},orange:{bgColor:"#D9730D",outlineColor:"#D9730D",textColor:"#FFFFFF",hoverBgColor:"#F2994A",hoverTextColor:"#FFFFFF"},pink:{bgColor:"#AD1A72",outlineColor:"#AD1A72",textColor:"#FFFFFF",hoverBgColor:"#D946A6",hoverTextColor:"#FFFFFF"},brown:{bgColor:"#64473A",outlineColor:"#64473A",textColor:"#FFFFFF",hoverBgColor:"#8B6F47",hoverTextColor:"#FFFFFF"},grey:{bgColor:"#9B9A97",outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBgColor:"#BDBDBD",hoverTextColor:"#FFFFFF"},black:{bgColor:"#000000",outlineColor:"#000000",textColor:"#FFFFFF",hoverBgColor:"#333333",hoverTextColor:"#FFFFFF"}}),[l]);(0,f.useEffect)(()=>{h(e.buttons||[gt])},[e.buttons]),(0,f.useEffect)(()=>{k(a=>{const w={};return s.forEach(b=>{w[b.id]=a[b.id]||Je()}),w})},[s]),(0,f.useEffect)(()=>{o("buttons",s)},[s,o]),(0,f.useEffect)(()=>{if(e.appearanceMode==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)");u(a.matches);const w=b=>u(b.matches);return a.addEventListener("change",w),()=>a.removeEventListener("change",w)}u(e.appearanceMode==="dark")},[e.appearanceMode]),(0,f.useEffect)(()=>{if(!v||typeof window>"u")return;const a=w=>{w.key==="Escape"&&g(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[v]);const D=(0,f.useCallback)((a,w)=>{k(b=>{const N=b[a]||Je(),z=typeof w=="function"?w(N):w;return{...b,[a]:{...N,...z}}})},[]),Y=(0,f.useMemo)(()=>e.macroMode?.actionsText?ga(e.macroMode.actionsText):Array.isArray(e.macroMode?.actions)?e.macroMode.actions:pa,[e.macroMode]),U=(0,f.useMemo)(()=>{if(e.cycleMode?.valuesText){const a=ha(e.cycleMode.valuesText);return a.length?a:Gt}return Array.isArray(e.cycleMode?.values)?e.cycleMode.values:Gt},[e.cycleMode]),ie=(0,f.useMemo)(()=>Array.isArray(e.inputMode?.hints)?e.inputMode.hints:Xe(e.inputMode?.hints),[e.inputMode]),H=(0,f.useMemo)(()=>{if(!e.dataAware?.enabled)return null;const a=Number(e.dataAware.sampleValue??0),w=Number(e.dataAware.goal??0),b=Number(e.dataAware.warningThreshold??0);let N="neutral";return w&&a>=w?N="success":a<=b&&(N="warning"),{value:a,goal:w,warning:b,status:N,icon:e.dataAware.statusIcon||"‚ö°",tasksIncomplete:!!e.dataAware.tasksIncomplete,pomodoroStreakActive:!!e.dataAware.pomodoroStreakActive,propertyDone:!!e.dataAware.propertyDone,doneLabel:e.dataAware.doneLabel||"Marked Done",timerActive:!!e.dataAware.timerActive,streakBroken:!!e.dataAware.streakBroken,projectTag:e.dataAware.projectTag||"General",projectTagTarget:e.dataAware.projectTagTarget||"Music",musicTooltip:e.dataAware.musicTooltip||"Logs in Music DB",projectTagColor:e.dataAware.projectTagColor||"#C026D3",dynamicLabels:Xe(e.dataAware.dynamicLabelsText)}},[e.dataAware]),F=(0,f.useMemo)(()=>{const a=e.notionIntegration;if(!a?.enabled)return null;const w={tasks:"Tasks database",journal:"Journal database",habits:"Habits database",pomodoros:"Pomodoros database"}[a.database]||"Custom database",b={create:"Create row",update:"Update property",toggle:"Toggle checkbox"}[a.action]||"Custom action",N=xa(a.prefillPropertiesText||""),z=a.conditional?.conditionMet,I=a.twoWay?.taskCompleted?!1:z,J=a.conditional?I?a.conditional.thenAction:a.conditional.elseAction:null;return{databaseLabel:w,actionLabel:b,prefill:N,template:a.template,logEntries:a.logEntries,logDestination:a.logDestination||"Console Preview",unlockField:a.unlockField,unlockValue:a.unlockValue,currentFieldValue:a.currentFieldValue,unlockReady:!!(a.unlockField&&a.unlockValue&&a.currentFieldValue&&a.unlockValue===a.currentFieldValue),limitReached:!!a.twoWay?.limitReached,taskCompleted:!!a.twoWay?.taskCompleted,mode:a.twoWay?.mode,conditionalLabel:a.conditional?.label,conditionalAction:J,conditionResolved:I}},[e.notionIntegration]),te=(0,f.useMemo)(()=>{if(!y)return null;const a=[{label:"Background",color:y.backgroundColor||y.background},{label:"Primary",color:y.clockColor||y.primary},{label:"Accent",color:y.accentColor||y.secondary},{label:"Text",color:y.textColor||y.text}].filter(b=>b.color),w=Array.isArray(y.palette)?y.palette.slice(0,6):[];return{label:y.presetName||y.name||"Custom Brand Kit",swatches:a,palette:w,appliedAt:y.appliedAt}},[y]),he=e.useTransparentBackground?"transparent":e.backgroundColor,ge=()=>{h([...s,{...gt,id:mt()}])},K=a=>{const w=s.find(b=>b.id===a);w&&h([...s,{...w,id:mt()}])},Ne=a=>{s.length>1&&window.confirm("Are you sure you want to delete this button?")&&(h(s.filter(w=>w.id!==a)),c===a&&m(s[0]?.id||null))},_e=(a,w)=>{const b=s.findIndex(z=>z.id===a);if(b===-1)return;const N=[...s];w==="up"&&b>0?[N[b-1],N[b]]=[N[b],N[b-1]]:w==="down"&&b<N.length-1&&([N[b+1],N[b]]=[N[b],N[b+1]]),h(N)},V=(a,w,b)=>{h(s.map(N=>N.id===a?{...N,[w]:b}:N))},L=(a,w)=>{const b=R[w];b&&h(s.map(N=>N.id===a?{...N,bgColor:b.bgColor,outlineColor:b.outlineColor,textColor:b.textColor,hoverBgColor:b.hoverBgColor||b.bgColor,hoverTextColor:b.hoverTextColor||b.textColor}:N))},W=a=>{const w=s.find(J=>J.id===a);if(!w)return;const{id:b,label:N,url:z,...I}=w;h(s.map(J=>J.id===a?J:{...J,...I}))},le=(0,f.useCallback)(async(a,w,b)=>{if(e.macroMode?.enabled)for(const N of Y){const z=`${N.label}${b?` - ${b}`:""}`;D(a,I=>({...I,macroLog:[...I.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - ${z}`]})),N.type==="toggle"&&D(a,I=>({...I,isActive:!I.isActive,lastLoggedStatus:I.isActive?"Inactive":"Active"})),N.type==="openLink"&&w.url&&typeof window<"u"&&window.open(w.url,"_blank","noopener,noreferrer"),await ba(N.delay||200)}},[e.macroMode?.enabled,Y,D]),ce=(0,f.useCallback)(async a=>{if(F?.limitReached)return;const w=s.find(M=>M.id===a);if(!w)return;const b=x[a]||Je(),N=b.inputValue||"",z=e.cycleMode?.enabled&&U.length?U[b.cycleIndex%U.length]:null,I=S(w),J=new Date().toLocaleTimeString();if(D(a,M=>({...M,isProcessing:!0,awaitingInput:!1})),F?.conditionalAction&&D(a,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${J} - ${F.conditionalAction}`]})),w.behaviorType==="createPage"&&D(a,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${J} - Create page in ${F?.databaseLabel}`]})),w.behaviorType==="template"&&D(a,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${J} - Template ${F?.template||"Default"} applied`]})),e.macroMode?.enabled||w.behaviorType==="meta"?await le(a,w,N):w.url&&typeof window<"u"&&window.open(w.url,"_blank","noopener,noreferrer"),e.cycleMode?.enabled&&U.length>0&&D(a,M=>({...M,cycleIndex:(M.cycleIndex+1)%U.length})),e.toggleMode?.enabled&&D(a,M=>{const G=!M.isActive;return e.toggleMode.logToNotion&&typeof window<"u"&&console.log(`[Notion Log] ${w.label} is now ${G?"Active":"Inactive"}`),{...M,isActive:G,lastLoggedStatus:G?"Active":"Inactive"}}),D(a,M=>{let G=M.macroLog;const re=ae=>{G=[...G.slice(-3),`${J} - ${ae}`]},oe={...M,badgeCount:M.badgeCount+1,animationKey:Date.now(),lastCompleteAt:Date.now(),isProcessing:!1,inputValue:"",awaitingInput:!1};switch(w.behaviorType){case"cycle":{const ae=(M.cycleStep+1)%3;oe.cycleStep=ae,oe.timerRunning=ae!==0,re(["Start focus","Pause timer","Skip break"][ae]);break}case"counter":oe.counterValue=M.counterValue+1,re(`Counter ${oe.counterValue}`);break;case"modeSwitcher":{const ae=(M.modeIndex+1)%3;oe.modeIndex=ae,re(`Mode switched to ${["Focus","Break","Deep"][ae]}`);break}case"themeToggle":oe.themeMode=M.themeMode==="dark"?"light":"dark",re(`Theme ${oe.themeMode}`);break;case"playlist":if(I.length){const ae=(M.playlistIndex+1)%I.length;oe.playlistIndex=ae,re(`Now playing ${I[ae]}`)}break;case"navigation":re("Opened Notion page");break;case"meta":re("Meta macro executed");break;case"secret":M.secretUnlocked&&re("Secret macro executed");break;default:break}return H?.streakBroken&&(oe.counterValue=0,re("Streak reset")),H?.projectTag===H?.projectTagTarget&&re("Logged to Music DB"),H?.dynamicLabels?.length&&(oe.dynamicLabelIndex=(M.dynamicLabelIndex+1)%H.dynamicLabels.length),oe.energyCharge=Math.min(100,M.energyCharge+20),oe.macroLog=G,oe}),F?.logEntries){let M=F.conditionalAction||(e.macroMode?.enabled?"Macro sequence":"Direct action");switch(w.behaviorType){case"createPage":M="Create Page";break;case"template":M="Apply Template";break;case"counter":M="Increment Counter";break;case"playlist":M="Cycle Playlist";break;case"modeSwitcher":M="Switch Mode";break;case"themeToggle":M="Toggle Theme";break;case"navigation":M="Open Page";break;case"meta":M="Meta Macro";break;case"secret":M="Secret Action";break;default:break}H?.projectTag===H?.projectTagTarget&&(M+=" ¬∑ Music DB");const G=I.length?I[(b.playlistIndex+(w.behaviorType==="playlist"?1:0))%I.length]:"",re={id:`${a}-${Date.now()}`,buttonLabel:w.label,timestamp:J,action:M,database:F.databaseLabel,destination:F.logDestination,mode:F.mode||z?.badge||"Default",userInput:N||"n/a",behavior:w.behaviorType,playlist:G};T(oe=>[...oe.slice(-4),re])}},[s,x,e.cycleMode?.enabled,e.macroMode?.enabled,e.toggleMode?.enabled,e.toggleMode?.logToNotion,U,H,F,le,D]),We=a=>{const w=x[a]||Je(),b=s.find(N=>N.id===a);if(b){if(F?.limitReached){D(a,N=>({...N,macroLog:[...N.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Limit reached via two-way sync.`],awaitingInput:!1}));return}if(F?.taskCompleted){D(a,N=>({...N,macroLog:[...N.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Task already completed in Notion.`],awaitingInput:!1}));return}if(b.behaviorType==="secret"&&!w.secretUnlocked){D(a,N=>({...N,macroLog:[...N.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Hold to unlock secret action.`],awaitingInput:!1}));return}if(e.inputMode?.enabled){if(!w.awaitingInput){D(a,{awaitingInput:!0});return}if(!w.inputValue?.trim())return}ce(a)}},Ie=(a,w)=>{D(a,{inputValue:w})},Re=a=>{x[a]?.inputValue?.trim()&&ce(a)},He=a=>{D(a,{awaitingInput:!1,inputValue:""})},de=a=>{_.current[a]&&clearTimeout(_.current[a]),_.current[a]=setTimeout(()=>{D(a,w=>({...w,secretUnlocked:!0,macroLog:[...w.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Secret channel unlocked`]})),delete _.current[a]},2e3)},ke=a=>{_.current[a]&&(clearTimeout(_.current[a]),delete _.current[a])},S=a=>Xe(a.playlistText||""),A=(a,w,b,N)=>{const z={};switch(a.behaviorType){case"cycle":{const I=["Start Pomodoro","Pause","Skip Break"];z.label=I[w.cycleStep%I.length],z.icon=w.cycleStep===1?"‚è∏":w.cycleStep===2?"‚è≠":a.icon||"‚ñ∂",z.tooltip=w.timerRunning?"Pause focus timer":"Start focus timer",N?.timerActive&&!w.timerRunning&&(z.label="Pause",z.icon="‚è∏");break}case"createPage":z.icon=a.icon||"üìÑ",z.tooltip="Creates a Notion page";break;case"template":z.icon=a.icon||"üß©",z.tooltip="Runs the selected template";break;case"counter":z.label=`${a.label} ${w.counterValue}`,z.tooltip="Adds to counter";break;case"modeSwitcher":{const I=["Focus","Break","Deep Work"];z.label=I[w.modeIndex%I.length],z.tooltip=`Switch to ${z.label} mode`;break}case"themeToggle":z.label=`Theme: ${w.themeMode==="dark"?"Dark":"Light"}`,z.icon=w.themeMode==="dark"?"üåô":"‚òÄÔ∏è",z.tooltip="Toggle theme";break;case"playlist":{const I=b;I.length&&(z.label=I[w.playlistIndex%I.length]),z.tooltip="Cycle playlist tracks",z.icon=a.icon||"üéµ";break}case"navigation":z.icon=a.icon||"üîó",z.tooltip=a.url||"Opens Notion page";break;case"meta":z.tooltip="Runs macro sequence",z.icon=a.icon||"üß†";break;case"secret":w.secretUnlocked?z.tooltip="Secret macro ready":(z.label="Hold to unlock",z.tooltip="Hold for 2 seconds to reveal secret");break;default:break}return z},q=(a,w,b,N={})=>{const{isLinkedRow:z=!1,isFirst:I=!1,isLast:J=!1}=N,M=a.rounding==="none"?"0px":a.rounding==="slight"?"8px":"9999px",G=a.size==="small"?"8px 16px":a.size==="large"?"16px 32px":"12px 24px",re=a.size==="small"?"0.875rem":a.size==="large"?"1.25rem":"1rem",oe=a.outlineColor==="transparent"?"0px":"1px",ae=`${a.bgColor}${a.bgOpacity<100?Math.round(255*(a.bgOpacity/100)).toString(16).padStart(2,"0"):""}`,Q=a.variant||"solid",E={backgroundColor:w?.color||ae,color:a.textColor,border:`${oe} solid ${a.outlineColor}`,borderRadius:M,padding:G,fontSize:re,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:b.isProcessing?"not-allowed":"pointer",width:e.layout==="full-width"?"100%":"auto",textAlign:"center",boxShadow:e.showHoverMenu?`0 0 ${d.effects.glowBlur} rgba(0,0,0,0.2)`:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"};switch(Q){case"text":E.backgroundColor="transparent",E.border="none",E.padding="6px 12px";break;case"icon":E.width="48px",E.height="48px",E.padding="0",E.borderRadius="16px";break;case"iconText":E.padding="10px 18px";break;case"capsule":E.borderRadius="999px";break;case"circular":E.borderRadius="999px",E.width="64px",E.height="64px",E.padding="0";break;case"orb":E.borderRadius="999px",E.boxShadow="0 0 25px rgba(147, 197, 253, 0.35)",E.background="radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent), "+(w?.color||ae);break;case"outline":E.backgroundColor="transparent",E.border=`1px solid ${a.outlineColor||a.textColor}`,E.color=a.outlineColor||a.textColor;break;case"ghost":E.backgroundColor="transparent",E.border="1px dashed rgba(255,255,255,0.4)",E.color=a.textColor||"#FFFFFF";break;default:break}return z&&(E.borderRadius=I?"999px 0 0 999px":J?"0 999px 999px 0":"0",E.marginLeft=I?"0":"-1px"),e.toggleMode?.enabled&&b.isActive&&e.toggleMode.glowWhenActive&&(E.boxShadow="0 0 20px rgba(139,92,246,0.6)"),H&&(H.tasksIncomplete&&(E.backgroundColor="#B91C1C",E.border="1px solid #7F1D1D",E.color="#FFFFFF"),H.status==="success"?E.boxShadow="0 0 22px rgba(16,185,129,0.4)":H.status==="warning"&&(E.boxShadow="0 0 18px rgba(249,115,22,0.35)"),H.pomodoroStreakActive&&(E.boxShadow="0 0 26px rgba(236,72,153,0.45)"),H.projectTag===H.projectTagTarget&&(E.backgroundColor=H.projectTagColor,E.color="#FFFFFF"),H.streakBroken&&(E.outline="2px dashed rgba(249,115,22,0.8)",E.outlineOffset="2px")),F?.limitReached&&(E.filter="grayscale(0.55)",E.opacity=.6,E.cursor="not-allowed"),F?.unlockField&&(E.border=`1px solid ${F.unlockReady?"#10B981":"#FCD34D"}`,F.unlockReady&&(E.boxShadow="0 0 24px rgba(16,185,129,0.45)")),a.behaviorType==="themeToggle"&&(E.backgroundColor=b.themeMode==="dark"?"#0F172A":"#F8FAFC",E.color=b.themeMode==="dark"?"#F8FAFC":"#0F172A"),E};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 transition-colors relative",style:{backgroundColor:he,color:p?d.colors.stardustWhite:d.colors.nightBlack},children:[(0,r.jsx)("div",{className:e.layout==="vertical"||e.layout==="vertical-stack"?"flex flex-col gap-4 w-full":e.layout==="inline-cluster"?"flex gap-3 flex-nowrap overflow-x-auto w-full":e.layout==="grid"?"grid gap-4 w-full":e.layout==="linked-row"?"flex gap-0 w-full":"flex flex-wrap gap-4",style:{justifyContent:e.layout==="inline-cluster"?"flex-start":e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end",width:e.layout==="full-width"||e.layout==="grid"||e.layout==="inline-cluster"?"100%":"auto",gridTemplateColumns:e.layout==="grid"?"repeat(auto-fit, minmax(180px, 1fr))":void 0},children:s.map((a,w)=>{const b=x[a.id]||Je(),N=e.cycleMode?.enabled&&U.length?U[b.cycleIndex%U.length]:null,z=S(a);let I=N?.label||a.label,J=N?.icon||a.icon,M=a.tooltip||"";const G=a.variant||"solid";H?.dynamicLabels?.length&&(I=H.dynamicLabels[b.dynamicLabelIndex%H.dynamicLabels.length]||I);const re=A(a,b,z,H);re.label&&(I=re.label),re.icon&&(J=re.icon),re.tooltip&&(M=re.tooltip),H?.projectTag===H?.projectTagTarget&&(J="üéµ",M=H.musicTooltip);const oe=G!=="icon",ae=M||I,Q=e.visuals?.badgesEnabled?Math.max(b.badgeCount,Number(e.dataAware?.sampleValue??0)):null,E=b.lastCompleteAt&&Date.now()-b.lastCompleteAt<900,$=["button-live-preview",e.visuals?.activeGlow&&b.isActive?"button-live-preview--active":"",b.isProcessing?"button-live-preview--processing":"",E?"button-live-preview--complete":"",H?.pomodoroStreakActive?"button-live-preview--streak":"",F?.limitReached?"button-live-preview--limited":""].filter(Boolean).join(" ");return(0,r.jsxs)("div",{className:"group relative",draggable:!0,onDragStart:se=>se.dataTransfer.setData("buttonId",a.id),onDragOver:se=>se.preventDefault(),onDrop:se=>{const ue=se.dataTransfer.getData("buttonId"),ee=s.findIndex(Te=>Te.id===ue),Ge=s.findIndex(Te=>Te.id===a.id);if(ee===Ge)return;const Be=[...s],[qe]=Be.splice(ee,1);Be.splice(Ge,0,qe),h(Be)},children:[(0,r.jsxs)("button",{type:"button","aria-pressed":e.toggleMode?.enabled?b.isActive:void 0,className:$,title:M||void 0,"aria-label":ae,style:{...q(a,N,b,{isLinkedRow:e.layout==="linked-row",isFirst:w===0,isLast:w===s.length-1}),"--hover-bg":a.enableHoverHighlight?a.hoverBgColor:"inherit","--hover-text":a.enableHoverHighlight?a.hoverTextColor:"inherit"},disabled:b.isProcessing,onClick:()=>We(a.id),onMouseDown:()=>de(a.id),onMouseUp:()=>ke(a.id),onMouseLeave:()=>ke(a.id),onTouchStart:()=>de(a.id),onTouchEnd:()=>ke(a.id),children:[!a.hideIcon&&(0,r.jsx)("span",{className:"text-lg",children:J}),oe&&(0,r.jsx)("span",{children:I}),b.isProcessing&&(0,r.jsx)(Rr,{className:"w-4 h-4 animate-spin"}),e.visuals?.showProgressArc&&b.isActive&&(0,r.jsx)("span",{className:"button-progress-ring"}),e.visuals?.enableParticleEffects&&(0,r.jsx)("span",{className:"button-ripple"},b.animationKey),b.energyCharge>0&&(0,r.jsx)("span",{className:"button-energy-ring",style:{background:`conic-gradient(#8B5CF6 ${b.energyCharge*3.6}deg, transparent 0deg)`}}),e.visuals?.badgesEnabled&&(0,r.jsx)("span",{className:"button-badge",children:Q}),H?.propertyDone&&(0,r.jsxs)("span",{className:"button-done-pill",children:[(0,r.jsx)(ye,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:H.doneLabel})]}),F?.unlockField&&(0,r.jsx)("span",{className:`button-unlock-pill ${F.unlockReady?"button-unlock-pill--ready":""}`,children:F.unlockReady?"Unlocked":`Locked: ${F.unlockValue||"value"}`}),E&&(0,r.jsx)("span",{className:"button-complete",children:(0,r.jsx)(ye,{className:"w-4 h-4"})}),F?.limitReached&&(0,r.jsx)("span",{className:"button-limit-overlay",children:"Limit reached"}),a.behaviorType==="secret"&&b.secretUnlocked&&(0,r.jsx)("span",{className:"button-secret-pill",children:"Secret ready"})]}),N?.badge&&(0,r.jsx)("div",{className:"mt-1 text-[11px] text-center text-purple-300 font-semibold",children:N.badge}),F?.mode&&(0,r.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-0.5",children:["Mode: ",F.mode]}),a.behaviorType==="playlist"&&z.length>0&&(0,r.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-1",children:["Now playing: ",z[b.playlistIndex%z.length]]}),e.toggleMode?.enabled&&(0,r.jsx)("div",{className:"text-[11px] text-center mt-1",style:{color:b.isActive?"#10B981":"#F87171"},children:b.isActive?"Active - Logging":"Inactive"}),e.dataAware?.enabled&&(0,r.jsxs)("div",{className:`mt-1 text-[11px] flex items-center gap-1 justify-center ${H?.status==="warning"?"text-amber-400":H?.status==="success"?"text-emerald-400":"text-neutral-400"}`,children:[(0,r.jsx)("span",{children:H?.icon||"‚ö°"}),(0,r.jsxs)("span",{children:[e.dataAware.metricLabel||"Metric",": ",Q,"/",e.dataAware.goal||0]})]}),e.inputMode?.enabled&&b.awaitingInput&&(0,r.jsxs)("div",{className:"mt-2 w-full bg-white/10 border border-white/20 rounded-lg p-3 space-y-2",children:[(0,r.jsx)("label",{className:"text-[11px] uppercase tracking-wide text-neutral-200 font-semibold",children:e.inputMode.label||"Add quick note"}),(0,r.jsx)("input",{type:"text",value:b.inputValue,onChange:se=>Ie(a.id,se.target.value),placeholder:e.inputMode.placeholder,className:"w-full bg-black/20 border border-white/20 rounded px-3 py-2 text-sm text-white focus:border-purple-400 outline-none"}),ie.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:ie.map(se=>(0,r.jsx)("button",{type:"button",className:"text-[10px] px-2 py-1 bg-white/5 rounded-full text-neutral-300 border border-white/10 hover:border-purple-400",onClick:()=>Ie(a.id,se),children:se},se))}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",className:"flex-1 bg-purple-600 text-white rounded px-3 py-1.5 text-xs font-semibold hover:bg-purple-500",onClick:()=>Re(a.id),children:"Run Macro"}),(0,r.jsx)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded border border-white/20 text-neutral-300 hover:text-white",onClick:()=>He(a.id),children:"Cancel"})]})]}),b.macroLog.length>0&&(0,r.jsx)("div",{className:"mt-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2 space-y-1 max-w-xs",children:b.macroLog.slice(-3).map((se,ue)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(we,{className:"w-3 h-3 text-purple-300"}),(0,r.jsx)("span",{children:se})]},`${a.id}-log-${ue}`))}),a.behaviorType==="secret"&&b.secretUnlocked&&(0,r.jsx)("div",{className:"mt-2 text-[11px] text-purple-200 bg-purple-900/30 border border-purple-500/40 rounded p-2",children:"Secret UI unlocked! Tap to run hidden macros."}),(0,r.jsxs)("div",{className:"absolute top-0 right-0 p-1 bg-neutral-800 rounded-bl-lg opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[(0,r.jsx)("button",{onClick:()=>K(a.id),className:"p-1 rounded bg-blue-500 hover:bg-blue-600 text-white text-xs",children:(0,r.jsx)(Nt,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>W(a.id),className:"p-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs",children:(0,r.jsx)(Pe,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>m(a.id),className:"p-1 rounded bg-gray-500 hover:bg-gray-600 text-white text-xs",children:(0,r.jsx)(Zr,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>Ne(a.id),className:"p-1 rounded bg-red-500 hover:bg-red-600 text-white text-xs",children:(0,r.jsx)(rr,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>_e(a.id,"up"),disabled:w===0,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,r.jsx)(Br,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>_e(a.id,"down"),disabled:w===s.length-1,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,r.jsx)(or,{className:"w-3 h-3"})})]})]},a.id)})}),te&&(0,r.jsxs)("div",{className:"mt-8 w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Brand Kit"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:te.label}),te.appliedAt&&(0,r.jsxs)("p",{className:"text-[10px] text-neutral-400 mt-0.5",children:["Synced ",new Date(te.appliedAt).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>g(!0),children:"Guide"}),(0,r.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>B("global"),children:"Surface Settings"})]})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Colors pulled from your Brand Theme Generator snapshot are powering this widget."}),te.swatches.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:te.swatches.map(({label:a,color:w})=>(0,r.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,r.jsx)("div",{className:"h-10 rounded-md border border-white/10 mb-1",style:{backgroundColor:w||"#0B0E12"}}),(0,r.jsx)("div",{className:"text-[10px] uppercase text-neutral-400",children:a}),(0,r.jsx)("div",{className:"text-[11px] font-mono text-neutral-200",children:w||"--"})]},`${a}-${w}`))}),te.palette.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:te.palette.map((a,w)=>(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/15",style:{backgroundColor:a}}),(0,r.jsx)("span",{className:"text-[9px] text-neutral-400 mt-1",children:a})]},`${a}-${w}`))})]}),F&&(0,r.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-black/30 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Notion Integration"}),(0,r.jsx)("p",{className:"text-base font-semibold text-white",children:F.databaseLabel}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-300 mt-1 flex-wrap",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(Ar,{className:"w-4 h-4 text-purple-300"}),F.actionLabel]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(Vr,{className:"w-4 h-4 text-purple-300"}),F.template||"No template selected"]})]})]}),(0,r.jsx)("button",{type:"button",className:"ml-auto text-xs px-3 py-1.5 rounded-md bg-purple-600 text-white font-semibold hover:bg-purple-500 transition-colors",onClick:()=>B("notionIntegration"),children:"Customize Sync"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-neutral-400",children:"Prefill Properties"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:F.prefill.length>0?F.prefill.map(({key:a,value:w})=>(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/15 text-[11px] text-neutral-200",children:[a,": ",(0,r.jsx)("span",{className:"text-white",children:w||"value"})]},`${a}-${w}`)):(0,r.jsx)("span",{className:"text-[11px] text-neutral-500",children:"No prefill properties configured."})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:`p-3 rounded-lg border ${F.unlockReady?"border-emerald-400 bg-emerald-500/10":"border-amber-300/50 bg-amber-500/10"}`,children:[(0,r.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,r.jsx)("span",{children:"Unlock Field"}),(0,r.jsx)("span",{children:F.unlockReady?"Unlocked":"Locked"})]}),(0,r.jsx)("div",{className:"text-sm font-semibold text-white mt-1",children:F.unlockField||"No field selected"}),!F.unlockReady&&F.unlockValue&&(0,r.jsxs)("div",{className:"text-xs text-neutral-300 mt-1",children:["Waiting for ",(0,r.jsx)("span",{className:"font-semibold",children:F.unlockValue})," (current: ",F.currentFieldValue||"n/a",")"]})]}),F.conditionalLabel&&(0,r.jsxs)("div",{className:"p-3 rounded-lg border border-purple-400/30 bg-purple-500/10",children:[(0,r.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,r.jsx)("span",{children:F.conditionalLabel}),(0,r.jsx)("span",{children:F.conditionResolved?"Condition Met":"Waiting"})]}),(0,r.jsx)("div",{className:"text-sm text-white mt-1",children:F.conditionalAction||"No fallback action configured"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase text-neutral-400",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(Mr,{className:"w-3 h-3 inline mr-1"})," Structured Log Preview"]}),(0,r.jsxs)("span",{children:[j.length,"/5 entries"]})]}),j.length===0?(0,r.jsx)("div",{className:"text-[11px] text-neutral-500 bg-white/5 rounded-lg px-3 py-2",children:"Run the button to see the Notion payload preview."}):(0,r.jsx)("div",{className:"space-y-1",children:j.map(a=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-[11px] bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-neutral-200",children:[(0,r.jsxs)("span",{children:[a.timestamp," - ",a.buttonLabel,a.behavior?` (${a.behavior})`:""]}),(0,r.jsx)("span",{className:"text-purple-300",children:a.action})]},a.id))}),(0,r.jsxs)("div",{className:"text-[10px] text-neutral-400",children:["Destination: ",(0,r.jsx)("span",{className:"text-neutral-200",children:F.logDestination})]})]})]}),c&&(0,r.jsxs)("div",{className:"mt-8 p-4 border rounded-lg shadow-lg bg-white w-full max-w-lg z-20",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg mb-4 flex justify-between items-center",children:["Edit Button: ",s.find(a=>a.id===c)?.label,(0,r.jsx)("button",{onClick:()=>m(null),className:"text-neutral-500 hover:text-neutral-700",children:(0,r.jsx)(lt,{className:"w-4 h-4"})})]}),C!==-1&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Label"}),(0,r.jsx)("input",{type:"text",value:s[C].label,onChange:a=>V(c,"label",a.target.value),className:"w-full p-2 border rounded-md"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Icon"}),(0,r.jsx)("input",{type:"text",value:s[C].icon,onChange:a=>V(c,"icon",a.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., ‚ú®"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:s[C].hideIcon,onChange:a=>V(c,"hideIcon",a.target.checked)})," Hide Icon"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"URL"}),(0,r.jsx)("input",{type:"url",value:s[C].url,onChange:a=>V(c,"url",a.target.value),className:"w-full p-2 border rounded-md",placeholder:"https://domain.ext/path"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color Presets"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(R).map(a=>(0,r.jsx)("button",{onClick:()=>L(c,a),className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:R[a].bgColor,color:R[a].textColor},children:a},a))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Advanced Colors"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Background Color"}),(0,r.jsx)("input",{type:"color",value:s[C].bgColor,onChange:a=>V(c,"bgColor",a.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-neutral-700",children:["Background Opacity (",s[C].bgOpacity,"%)"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:s[C].bgOpacity,onChange:a=>V(c,"bgOpacity",parseInt(a.target.value,10))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Outline Color"}),(0,r.jsx)("input",{type:"color",value:s[C].outlineColor,onChange:a=>V(c,"outlineColor",a.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Text Color"}),(0,r.jsx)("input",{type:"color",value:s[C].textColor,onChange:a=>V(c,"textColor",a.target.value)})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:s[C].enableHoverHighlight,onChange:a=>V(c,"enableHoverHighlight",a.target.checked)})," Enable Hover Highlight"]}),s[C].enableHoverHighlight&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Background Color"}),(0,r.jsx)("input",{type:"color",value:s[C].hoverBgColor,onChange:a=>V(c,"hoverBgColor",a.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Text Color"}),(0,r.jsx)("input",{type:"color",value:s[C].hoverTextColor,onChange:a=>V(c,"hoverTextColor",a.target.value)})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Layout Options"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Size"}),(0,r.jsxs)("select",{value:s[C].size,onChange:a=>V(c,"size",a.target.value),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"small",children:"Small"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"large",children:"Large"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Corner Rounding"}),(0,r.jsxs)("select",{value:s[C].rounding,onChange:a=>V(c,"rounding",a.target.value),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"none",children:"None"}),(0,r.jsx)("option",{value:"slight",children:"Slight"}),(0,r.jsx)("option",{value:"round",children:"Round"})]})]})]})]})]}),(0,r.jsxs)("button",{onClick:ge,className:"mt-8 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,r.jsx)(sr,{className:"w-4 h-4"})," Add Button"]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>B("macroInput"),children:"Customize Modes"}),v&&(0,r.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-h-full overflow-y-auto w-full max-w-4xl bg-[#0B0E12] border border-white/15 rounded-2xl p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-wide text-neutral-400 flex items-center gap-2",children:[(0,r.jsx)(qr,{className:"w-4 h-4 text-purple-300"}),"Configuration Playbook"]}),(0,r.jsx)("p",{className:"text-xl font-semibold text-white",children:"Customize every mode"}),(0,r.jsx)("p",{className:"text-sm text-neutral-300",children:"Use this quick reference whenever the Customize button is unavailable."})]}),(0,r.jsxs)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-md border border-white/20 text-neutral-200 hover:text-white hover:border-purple-400 transition-colors flex items-center gap-1",onClick:()=>g(!1),children:[(0,r.jsx)(lt,{className:"w-3 h-3"})," Close"]})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:ma.map(a=>(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(Kr,{className:"w-4 h-4 text-purple-300 mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-white",children:a.title}),(0,r.jsx)("p",{className:"text-xs text-neutral-300",children:a.description})]})]}),(0,r.jsx)("ul",{className:"space-y-1 text-xs text-neutral-200",children:a.items.map(w=>(0,r.jsxs)("li",{children:[(0,r.jsxs)("span",{className:"font-semibold text-white",children:[w.title,":"]})," ",w.body]},`${a.title}-${w.title}`))})]},a.title))})]})}),(0,r.jsx)("style",{children:`
        .button-live-preview {
          position: relative;
          outline: none;
          border: none;
          overflow: hidden;
          background: transparent;
        }
        .button-live-preview:hover:not(:disabled) {
          transform: translateY(-2px);
        }
        .button-live-preview--processing {
          opacity: 0.85;
        }
        .button-live-preview--active {
          animation: activeGlow 2.2s ease-in-out infinite;
        }
        .button-badge {
          position: absolute;
          top: 6px;
          right: 10px;
          background: rgba(0,0,0,0.3);
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          line-height: 1;
          border: 1px solid rgba(255,255,255,0.3);
        }
        .button-progress-ring {
          position: absolute;
          inset: 4px;
          border-radius: 999px;
          border: 2px solid rgba(255,255,255,0.2);
          border-top-color: rgba(255,255,255,0.7);
          animation: progressSpin 2.4s linear infinite;
          pointer-events: none;
        }
        .button-ripple {
          position: absolute;
          inset: -20%;
          border-radius: 50%;
          background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
          animation: ripple 0.8s ease-out;
          pointer-events: none;
        }
        .button-energy-ring {
          position: absolute;
          inset: -6px;
          border-radius: 999px;
          background: conic-gradient(#8B5CF6 0deg, transparent 0deg);
          opacity: 0.7;
          transition: background 0.3s ease;
          pointer-events: none;
        }
        .button-live-preview--complete::after {
          content: '';
        }
        .button-complete {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(16,185,129,0.2);
          animation: completePop 0.4s ease forwards;
        }
        .button-done-pill {
          position: absolute;
          bottom: 6px;
          left: 10px;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          background: rgba(16,185,129,0.15);
          color: #059669;
          border: 1px solid rgba(16,185,129,0.35);
        }
        .button-done-pill svg {
          width: 12px;
          height: 12px;
        }
        .button-unlock-pill {
          position: absolute;
          top: 6px;
          left: 10px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          border: 1px solid rgba(251,191,36,0.6);
          background: rgba(251,191,36,0.15);
          color: #FBBF24;
        }
        .button-unlock-pill--ready {
          border-color: rgba(16,185,129,0.7);
          background: rgba(16,185,129,0.2);
          color: #10B981;
        }
        .button-limit-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(11,14,18,0.65);
          color: #F87171;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }
        .button-live-preview--streak {
          animation: streakGlow 1.8s ease-in-out infinite;
        }
        .button-live-preview--limited {
          opacity: 0.55;
        }
        .button-secret-pill {
          position: absolute;
          top: 6px;
          right: 10px;
          padding: 2px 6px;
          font-size: 10px;
          border-radius: 999px;
          background: rgba(168,85,247,0.2);
          border: 1px solid rgba(168,85,247,0.5);
          color: #E9D5FF;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }
        @keyframes activeGlow {
          0%, 100% { box-shadow: 0 0 12px rgba(139,92,246,0.45); }
          50% { box-shadow: 0 0 24px rgba(59,130,246,0.55); }
        }
        @keyframes streakGlow {
          0%, 100% { box-shadow: 0 0 18px rgba(59,130,246,0.45); }
          50% { box-shadow: 0 0 30px rgba(236,72,153,0.55); }
        }
        @keyframes ripple {
          from { transform: scale(0.6); opacity: 0.8; }
          to { transform: scale(1.2); opacity: 0; }
        }
        @keyframes progressSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes completePop {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})};var ya={id:"initial",label:"Button",icon:"?",hideIcon:!1,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:"",url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"};const va={id:"newButtonGenerator",label:"Button Generator",icon:"MousePointerClick",description:"Create customizable buttons with advanced styling and actions.",defaultConfig:{buttons:[ya],layout:"horizontal",alignment:"center",useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0,macroMode:{enabled:!0,actions:[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],actionsText:["log|Log quick note|180","toggle|Toggle active state|160","openLink|Open linked page|220"].join(`
`)},inputMode:{enabled:!0,label:"Add quick note",placeholder:"Add quick note or intention...",hints:["Add quick note","Add task title","Add pomodoro session notes"]},cycleMode:{enabled:!0,values:[{id:"start",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],valuesText:["Start >|Focus|#8B5CF6","Pause |||Rest|#F59E0B","Skip >>|Move|#06B6D4","Complete Done|Ship|#10B981"].join(`
`)},toggleMode:{enabled:!0,startActive:!1,glowWhenActive:!0,logToNotion:!0},visuals:{enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0,badgeLabel:"Logs today"},notionIntegration:{enabled:!0,database:"tasks",action:"create",template:"Daily Log",prefillPropertiesText:"Status=In Progress;Owner=Me",logEntries:!0,logDestination:"Console Preview",unlockField:"Mode",unlockValue:"Focus",currentFieldValue:"Focus",twoWay:{taskCompleted:!1,limitReached:!1,mode:"Focus"},conditional:{label:"If timer active",conditionMet:!1,thenAction:"Pause timer",elseAction:"Start focus"}},dataAware:{enabled:!0,metricLabel:"Logs today",sampleValue:3,goal:5,warningThreshold:2,statusIcon:"‚ö°",tasksIncomplete:!1,pomodoroStreakActive:!1,propertyDone:!1,doneLabel:"Marked Done",timerActive:!1,streakBroken:!1,projectTag:"General",projectTagTarget:"Music",musicTooltip:"Logs in Music DB",projectTagColor:"#C026D3",dynamicLabelsText:`Press Me
Let's cook üî•
Energy +1
Keep grinding`}},sections:[{id:"global",label:"1. WIDGET SURFACE",description:"Dial in the canvas surrounding your buttons - transparency, background colors, and appearance mode."},{id:"layout",label:"2. BUTTON MODES",description:"Modes create entire categories of button behavior.",notes:[{title:"Action Mode",body:"Executes a single action such as logging, toggling, or opening a link."}]},{id:"macroInput",label:"3. MACRO + INPUT MODES",description:"Macro Mode chains multiple actions, while Input Mode collects context before launching the macro.",notes:[{title:"Macro Mode",body:"Executes sequential actions such as logging, toggling, opening links or changing states."},{title:"Input Mode",body:"Shows a miniature note field before running macros (quick note, task title, pomodoro notes, etc.)."}]},{id:"cycleToggle",label:"4. CYCLE + TOGGLE STATES",description:"Each press can cycle through preset states or flip a persistent toggle with Notion logging.",notes:[{title:"Cycle Mode",body:"Cycle through styles/statuses/views each press (Start, Pause, Skip, Complete)."},{title:"Toggle Mode",body:"Button keeps an Active/Inactive state, glows while active, and logs state changes."}]},{id:"notionIntegration",label:"5. NOTION INTEGRATION FEATURES",description:"Connect each button to a Notion database, templates, structured logs, and two-way conditions.",notes:[{title:"Connect to Database",body:"Pick Tasks, Journal, Habits, or Pomodoros and choose Create, Update, or Toggle actions."},{title:"Templates and Prefill",body:"Assign database templates and property defaults per button."},{title:"Two-Way Sync",body:"Grey out or switch modes when Notion properties hit certain states (completed, limits, focus modes)."},{title:"Conditional Actions",body:"If property/value matches, route to alternate actions (pause vs start, etc.)."}]},{id:"visuals",label:"6. VISUAL & INTERACTIVE FEATURES",description:"Make the button feel worth clicking with tactile feedback.",notes:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts."},{title:"Particle or Trace Effects",body:"Neon ripple, energy pulse, pixel burst, glow sweep, magnetic hover."},{title:"Active Duration Glow",body:"Pulses, color shifts, and progress arcs while the macro runs."},{title:"Button Badges",body:"Counts, status icons, warning dots, or data pills."}]},{id:"dataAware",label:"7. DATA-AWARE BUTTONS",description:"Buttons that adapt visually based on Notion data (counts, targets, warnings).",notes:[{title:"Visual cues",body:"Success aura on goal reached, warning glow when under target, metric badges."}]}],fields:[{name:"useTransparentBackground",label:"Transparent Widget Background",type:"boolean",section:"global"},{name:"setBackgroundColor",label:"Set Widget Background Color",type:"boolean",section:"global"},{name:"backgroundColor",label:"Widget Background Color",type:"color",section:"global"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"global",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"global"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"global"},{name:"layout",label:"Button Layout",type:"select",section:"layout",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Full Width",value:"full-width"},{label:"Vertical Stack",value:"vertical-stack"},{label:"Inline Cluster",value:"inline-cluster"},{label:"Linked Row",value:"linked-row"},{label:"Grid",value:"grid"}]},{name:"alignment",label:"Button Alignment",type:"select",section:"layout",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Space Evenly",value:"space-evenly"}]},{name:"macroMode.enabled",label:"Enable Macro Mode",type:"boolean",section:"macroInput"},{name:"macroMode.actionsText",label:"Macro Action Sequence (type|label|delay)",type:"textarea",rows:3,section:"macroInput"},{name:"inputMode.enabled",label:"Enable Input Prompt",type:"boolean",section:"macroInput"},{name:"inputMode.label",label:"Input Prompt Label",type:"text",section:"macroInput"},{name:"inputMode.placeholder",label:"Input Placeholder",type:"text",section:"macroInput"},{name:"inputMode.hints",label:"Input Hints (one per line)",type:"textarea",rows:3,section:"macroInput"},{name:"cycleMode.enabled",label:"Enable Cycle Mode",type:"boolean",section:"cycleToggle"},{name:"cycleMode.valuesText",label:"Cycle Presets (label|badge|color)",type:"textarea",rows:4,section:"cycleToggle"},{name:"toggleMode.enabled",label:"Enable Toggle Mode",type:"boolean",section:"cycleToggle"},{name:"toggleMode.startActive",label:"Start Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.glowWhenActive",label:"Glow When Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.logToNotion",label:"Log Toggle State (Notion)",type:"boolean",section:"cycleToggle"},{name:"notionIntegration.enabled",label:"Enable Notion Integration",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.database",label:"Database",type:"select",section:"notionIntegration",options:[{label:"Tasks",value:"tasks"},{label:"Journal",value:"journal"},{label:"Habits",value:"habits"},{label:"Pomodoros",value:"pomodoros"}]},{name:"notionIntegration.action",label:"Action",type:"select",section:"notionIntegration",options:[{label:"Create Row",value:"create"},{label:"Update Property",value:"update"},{label:"Toggle Checkbox",value:"toggle"}]},{name:"notionIntegration.template",label:"Template Name",type:"text",section:"notionIntegration"},{name:"notionIntegration.prefillPropertiesText",label:"Prefill Properties (key=value;key=value)",type:"textarea",rows:2,section:"notionIntegration"},{name:"notionIntegration.logEntries",label:"Structured Logging",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.logDestination",label:"Log Destination",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockField",label:"Unlock Field",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockValue",label:"Unlock Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.currentFieldValue",label:"Current Field Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.twoWay.taskCompleted",label:"Two-Way - Task Completed",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.limitReached",label:"Two-Way - Limit Reached",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.mode",label:"Two-Way - Mode Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.label",label:"Conditional Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.conditionMet",label:"Conditional ‚Äì Condition Met",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.conditional.thenAction",label:"Conditional ‚Äì If True Action",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.elseAction",label:"Conditional ‚Äì If False Action",type:"text",section:"notionIntegration"},{name:"visuals.enableParticleEffects",label:"Enable Particle Effects",type:"boolean",section:"visuals"},{name:"visuals.activeGlow",label:"Active Duration Glow",type:"boolean",section:"visuals"},{name:"visuals.showProgressArc",label:"Show Progress Arc",type:"boolean",section:"visuals"},{name:"visuals.badgesEnabled",label:"Show Button Badges",type:"boolean",section:"visuals"},{name:"visuals.badgeLabel",label:"Badge Label",type:"text",section:"visuals"},{name:"dataAware.enabled",label:"Enable Data-Aware Styling",type:"boolean",section:"dataAware"},{name:"dataAware.metricLabel",label:"Metric Label",type:"text",section:"dataAware"},{name:"dataAware.sampleValue",label:"Sample value",type:"number",section:"dataAware"},{name:"dataAware.goal",label:"Goal target",type:"number",section:"dataAware"},{name:"dataAware.warningThreshold",label:"Warning threshold",type:"number",section:"dataAware"},{name:"dataAware.statusIcon",label:"Status Icon",type:"text",section:"dataAware"},{name:"dataAware.tasksIncomplete",label:"Mark as Tasks Incomplete",type:"boolean",section:"dataAware"},{name:"dataAware.pomodoroStreakActive",label:"Pomodoro Streak Active",type:"boolean",section:"dataAware"},{name:"dataAware.propertyDone",label:"Property Marked Done",type:"boolean",section:"dataAware"},{name:"dataAware.doneLabel",label:"Done Badge Label",type:"text",section:"dataAware"},{name:"dataAware.timerActive",label:"Timer Currently Active",type:"boolean",section:"dataAware"},{name:"dataAware.streakBroken",label:"Streak Broken",type:"boolean",section:"dataAware"},{name:"dataAware.projectTag",label:"Current Project Tag",type:"text",section:"dataAware"},{name:"dataAware.projectTagTarget",label:"Music Tag Target",type:"text",section:"dataAware"},{name:"dataAware.musicTooltip",label:"Music Tag Tooltip",type:"text",section:"dataAware"},{name:"dataAware.projectTagColor",label:"Music Tag Accent Color",type:"color",section:"dataAware"},{name:"dataAware.dynamicLabelsText",label:"Dynamic Labels (one per line)",type:"textarea",rows:4,section:"dataAware"}]};var xt=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return e.replace(/[&<>'"]/g,t=>o[t])};const wa=e=>{const o=e.useTransparentBackground?"transparent":e.backgroundColor,t=Array.isArray(e.buttons)?e.buttons:[],n=d=>{const l=d.rounding==="none"?"0px":d.rounding==="slight"?"8px":"9999px",s=d.size==="small"?"8px 16px":d.size==="large"?"16px 32px":"12px 24px",h=d.size==="small"?"0.875rem":d.size==="large"?"1.25rem":"1rem",c=d.outlineColor==="transparent"?"0px":"1px",m=d.enableHoverHighlight?d.hoverBgColor:d.bgColor,p=d.enableHoverHighlight?d.hoverTextColor:d.textColor;return`
          background-color: ${d.bgColor}${d.bgOpacity<100?Math.round(255*(d.bgOpacity/100)).toString(16).padStart(2,"0"):""};
          color: ${d.textColor};
          border: ${c} solid ${d.outlineColor};
          border-radius: ${l};
          padding: ${s};
          font-size: ${h};
          font-family: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          text-decoration: none;
          cursor: pointer;
          flex-shrink: 0;
          width: ${e.layout==="full-width"?"100%":"auto"};
          text-align: center;
          box-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.2);
          transition: all 0.2s ease-in-out;
          --hover-bg: ${m};
          --hover-text: ${p};
      `};return`
    <div style="
      display: flex; 
      align-items: center; 
      justify-content: center; 
      height: 100vh; 
      width: 100vw; 
      background: ${o};
      padding: 16px;
      box-sizing: border-box;
    ">
      <div style="${`
      display: flex;
      gap: 16px;
      flex-wrap: ${e.layout==="vertical"?"nowrap":"wrap"};
      flex-direction: ${e.layout==="vertical"?"column":"row"};
      justify-content: ${e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end"};
      width: ${e.layout==="full-width"?"100%":"auto"};
      height: 100%;
      align-items: ${e.layout==="full-width"&&e.alignment==="center"?"center":e.layout==="full-width"&&e.alignment==="left"?"flex-start":e.layout==="full-width"&&e.alignment==="right"?"flex-end":"initial"}; /* Adjusted for full-width alignment */
  `}">
        ${t.map(d=>`
          <a href="${xt(d.url)}" target="_blank" rel="noopener noreferrer" 
             style="${n(d)}"
             class="generated-button"
          >
            ${d.hideIcon?"":xt(d.icon)}
            <span>${xt(d.label)}</span>
          </a>
        `).join("")}
      </div>
      <style>
        .generated-button:hover {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      </style>
    </div>
  `},_a=()=>"";var qt=(e,o,t)=>"#"+[e,o,t].map(n=>{const d=n.toString(16);return d.length===1?"0"+d:d}).join(""),jt=e=>{const t=(s=>{const h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return h?{r:parseInt(h[1],16),g:parseInt(h[2],16),b:parseInt(h[3],16)}:null})(e);if(!t)return 0;const[n,d,l]=[t.r,t.g,t.b].map(s=>(s=s/255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*n+.7152*d+.0722*l},ka=e=>[...e].sort((o,t)=>jt(o)-jt(t)),Nr=({onColorsExtracted:e,onLogoUploaded:o})=>{const[t,n]=(0,f.useState)(!1),[d,l]=(0,f.useState)(null),[s,h]=(0,f.useState)(null),[c,m]=(0,f.useState)([]),p=(0,f.useRef)(null),u=(0,f.useRef)(null),x=async T=>{const _=T.target.files?.[0];if(!_)return;n(!0);const v=new FileReader;v.onload=g=>{const y=g.target.result;l(y),o&&o(y)},v.readAsDataURL(_)},k=T=>{if(!T||!T.palette||T.palette.length===0)return[];const _=ka(T.palette),v=_[0],g=_[_.length-1],y=T.primary||v,B=T.secondary||_[1]||v,C=T.accent,R=[],D=(Y,U=null)=>{const ie={...O,colors:{...O.colors,primary:y,secondary:B,accent:C,background:Y.backgroundColor,text:Y.textColor,palette:T.palette},...Y};return ie.isDark=U!==null?U:jt(ie.colors.background)<.5,ie};return R.push(D({id:"vibrant",name:"Vibrant",backgroundColor:g,textColor:v,primaryColor:y,secondaryColor:B,accentColor:C,panelColor:y,digitColor:g})),R.push(D({id:"dark-mode",name:"Dark Mode",backgroundColor:v,textColor:g,primaryColor:y,secondaryColor:B,accentColor:C,panelColor:v,digitColor:g},!0)),R.push(D({id:"light-mode",name:"Light Mode",backgroundColor:g,textColor:v,primaryColor:y,secondaryColor:B,accentColor:C,panelColor:g,digitColor:v},!1)),R},j=()=>{if(!u.current)return;const T=new Le;try{const _=T.getColor(u.current),v=T.getPalette(u.current,8);if(!_||!v||v.length===0){n(!1),l(null);return}const g=v.map(C=>qt(C[0],C[1],C[2])),y=qt(_[0],_[1],_[2]),B={...O,primary:y,secondary:g[1]||g[0],accent:g[2]||g[1],background:g[g.length-1],text:g[0],palette:g,colors:{...O.colors,primary:y,secondary:g[1]||g[0],accent:g[2]||g[1]}};h(B),m(k(B)),n(!1),e&&e(B)}catch{n(!1),l(null)}};return(0,r.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-lg mb-4 border border-purple-500/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(we,{className:"w-4 h-4 text-purple-400"}),(0,r.jsx)("h4",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold",children:"Brand Logo Color Extraction"})]}),(0,r.jsx)("input",{ref:p,type:"file",accept:"image/*",onChange:x,className:"hidden"}),d?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{ref:u,src:d,alt:"Brand logo",crossOrigin:"anonymous",onLoad:j,className:"w-full h-32 object-contain bg-white/5 rounded-lg"}),(0,r.jsx)("button",{onClick:()=>{l(null),h(null),m([]),o&&o(null),e&&e(null)},className:"absolute top-2 right-2 p-1 bg-red-500/80 hover:bg-red-500 rounded text-white",children:(0,r.jsx)(lt,{className:"w-4 h-4"})})]}),t&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[(0,r.jsx)(no,{className:"w-4 h-4 animate-spin"}),"Extracting colors..."]}),s&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[(0,r.jsx)(ye,{className:"w-3 h-3"}),"Colors extracted successfully!"]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:s.palette.map((T,_)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded border border-white/20 shadow-lg",style:{backgroundColor:T},title:T}),(0,r.jsx)("div",{className:"text-[8px] text-white/50 mt-1 font-mono",children:T})]},_))}),c.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h5",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold mb-2",children:"Theme Variations"}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:c.map(T=>(0,r.jsxs)("button",{onClick:()=>e&&e(T),className:"flex flex-col items-center p-2 rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors",title:`Apply ${T.name} Theme`,children:[(0,r.jsx)("div",{className:"w-12 h-6 rounded-md mb-1",style:{background:T.backgroundColor,border:`1px solid ${T.primaryColor}`}}),(0,r.jsx)("span",{className:"text-[10px] text-white/70",children:T.name})]},T.id))})]})]})]}):(0,r.jsxs)("button",{onClick:()=>p.current?.click(),className:"w-full py-8 border-2 border-dashed border-purple-400/50 rounded-lg hover:border-purple-400 hover:bg-purple-500/10 transition-all flex flex-col items-center gap-2 text-purple-300 hover:text-purple-200",children:[(0,r.jsx)(Qr,{className:"w-8 h-8"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Upload Brand Logo"}),(0,r.jsx)("span",{className:"text-xs text-purple-400/70",children:"Auto-extract colors for your widget"})]})]})},Ca={clock:Vt,quotes:ar,counter:Xt,imageGallery:Yt,lifeProgress:ro,countdown:Qt,newButtonGenerator:Kt,weather:nt},ja=({onBack:e,onThemeGenerated:o})=>{console.log("[BrandThemeGenerator v2] Component loaded - Dec 4 2024");const[t,n]=(0,f.useState)(null),[d,l]=(0,f.useState)([]),[s,h]=(0,f.useState)(null),[c,m]=(0,f.useState)(!0),[p,u]=(0,f.useState)(!1),x=(0,f.useCallback)(g=>{if(!g||!g.palette||g.palette.length===0){l([]),h(null);return}const y=Cr(g);l(y),y.length>0&&h(y[0])},[]);(0,f.useEffect)(()=>{const g=localStorage.getItem("jazer_brand_theme");if(g)try{const y=JSON.parse(g);y&&y.palette&&Array.isArray(y.palette)&&y.palette.length>0?(n(y),x(y)):localStorage.removeItem("jazer_brand_theme")}catch{localStorage.removeItem("jazer_brand_theme")}},[x]);const k=g=>{if(!g){n(null),l([]),h(null);return}n(g),x(g);try{localStorage.setItem("jazer_brand_theme",JSON.stringify(g))}catch{}},j=()=>{if(!t)return;const g=s?{...t,backgroundColor:s.backgroundColor,clockColor:s.clockColor,digitColor:s.digitColor,textColor:s.textColor,accentColor:s.clockColor,bgColor:s.backgroundColor,presetName:s.name,glow:s.glow,texture:s.texture}:t;localStorage.setItem("jazer_global_brand_theme",JSON.stringify(g)),localStorage.setItem("jazer_global_brand_active","true"),o&&o(g),u(!0),setTimeout(()=>u(!1),3e3)},T=()=>{window.confirm("This will remove your custom brand theme from all widgets. Continue?")&&(n(null),l([]),h(null),localStorage.removeItem("jazer_brand_theme"),localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active"),o&&o(null))},_=()=>{if(!t)return;const g={name:"Custom Brand Theme",timestamp:new Date().toISOString(),colors:t,presets:d},y=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),B=URL.createObjectURL(y),C=document.createElement("a");C.href=B,C.download="brand-theme.json",C.click(),URL.revokeObjectURL(B)},v=g=>{navigator.clipboard.writeText(g)};return(0,r.jsxs)("div",{className:"min-h-screen p-8 md:p-16 animate-fadeIn",style:{backgroundColor:"#000000",color:"#F8F9FF"},children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:e,className:"p-3 rounded-xl transition-all hover:scale-105 btn-ghost",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",color:"var(--jazer-cyan)"},children:(0,r.jsx)(Ft,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight animate-float",style:{fontFamily:"var(--font-primary)",background:"var(--gradient-text)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textTransform:"uppercase"},children:"Brand Theme Generator"}),(0,r.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-gray)",fontFamily:"var(--font-body)"},children:"Extract colors from your logo and apply them to all widgets"})]})]}),t&&(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:_,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105 animate-glow",style:{background:"var(--gradient-accent)",color:"white",border:"2px solid var(--border-pink)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,r.jsx)(nr,{className:"w-4 h-4"}),"Export Theme"]}),(0,r.jsxs)("button",{onClick:T,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105",style:{background:"var(--bg-card)",color:"var(--text-gray)",border:"2px solid var(--border-default)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,r.jsx)($t,{className:"w-4 h-4"}),"Clear Theme"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsx)("div",{className:"space-y-6 animate-fadeInUp",children:(0,r.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-cyan)",boxShadow:"var(--shadow-cyan)"},children:[(0,r.jsx)(Nr,{onColorsExtracted:k}),t&&t.palette&&(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider",style:{color:"var(--text-gray)",fontFamily:"var(--font-secondary)"},children:"Extracted Colors"}),(0,r.jsx)("button",{onClick:()=>m(!c),className:"p-1 rounded transition-colors",style:{color:"var(--text-gray)"},children:c?(0,r.jsx)(Pr,{className:"w-4 h-4"}):(0,r.jsx)(Ze,{className:"w-4 h-4"})})]}),c&&t.palette&&Array.isArray(t.palette)&&(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",children:t.palette.map((g,y)=>(0,r.jsxs)("button",{onClick:()=>v(g),className:"group relative text-center transition-transform hover:scale-110",title:`Click to copy ${g}`,children:[(0,r.jsx)("div",{className:"w-full h-16 rounded-lg border-2 transition-all",style:{backgroundColor:g,borderColor:"rgba(255, 255, 255, 0.2)"}}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:(0,r.jsx)(Nt,{className:"w-4 h-4",style:{color:"white"}})}),(0,r.jsx)("div",{className:"text-[9px] font-mono mt-1",style:{color:"var(--text-gray)"},children:g})]},y))}),(0,r.jsx)("button",{onClick:j,disabled:p,className:"w-full py-5 rounded-xl font-black text-lg flex items-center justify-center gap-3 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed animate-glow",style:{background:p?"linear-gradient(135deg, #00f2ea 0%, #4facfe 100%)":"var(--gradient-accent)",color:"white",fontFamily:"var(--font-primary)",textTransform:"uppercase",letterSpacing:"0.05em",border:p?"2px solid var(--jazer-cyan)":"2px solid var(--border-pink)",boxShadow:p?"var(--shadow-cyan)":"var(--shadow-card)"},children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye,{className:"w-6 h-6"}),s?`${s.name} Applied!`:"Theme Applied!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(we,{className:"w-6 h-6"}),s?`Apply ${s.name}`:"Apply to All Widgets"]})}),(0,r.jsx)("p",{className:"text-xs text-center",style:{color:"var(--text-gray)"},children:s?`This will apply "${s.name}" preset to all widgets`:"This will set your brand colors as the default for all widgets"})]})]})}),(0,r.jsx)("div",{className:"space-y-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:(0,r.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-purple)",boxShadow:"var(--shadow-purple)"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)(Pe,{className:"w-7 h-7",style:{color:"var(--jazer-purple)"}}),(0,r.jsxs)("h3",{className:"text-2xl font-black",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:["Generated Presets (",d.length,")"]})]}),d.length===0?(0,r.jsxs)("div",{className:"text-center py-16 rounded-xl border-2 border-dashed",style:{borderColor:"var(--border-cyan)",color:"var(--text-gray)",background:"rgba(0, 242, 234, 0.05)"},children:[(0,r.jsx)(we,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--jazer-cyan)",opacity:.6}}),(0,r.jsx)("p",{className:"text-xl font-bold",style:{fontFamily:"var(--font-secondary)",color:"white"},children:"Upload a logo to generate presets"}),(0,r.jsx)("p",{className:"text-sm mt-2",style:{fontFamily:"var(--font-body)"},children:"8 unique color schemes will be created automatically"})]}):(0,r.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:d.map(g=>(0,r.jsxs)("button",{onClick:()=>h(g),className:"w-full text-left p-5 rounded-xl transition-all hover:scale-[1.02]",style:{background:s?.id===g.id?"var(--gradient-card)":"var(--bg-card)",border:`2px solid ${s?.id===g.id?"var(--jazer-cyan)":"var(--border-default)"}`,boxShadow:s?.id===g.id?"var(--shadow-cyan)":"none"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-sm",style:{color:"white",fontFamily:"var(--font-secondary)"},children:g.name}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-gray)"},children:g.description})]}),s?.id===g.id&&(0,r.jsx)(ye,{className:"w-5 h-5",style:{color:"var(--jazer-cyan)"}})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:g.backgroundColor},title:`Background: ${g.backgroundColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:g.clockColor},title:`Primary: ${g.clockColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:g.digitColor},title:`Digits: ${g.digitColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:g.textColor},title:`Text: ${g.textColor}`})]}),g.glow&&(0,r.jsxs)("div",{className:"mt-2 text-xs flex items-center gap-2",style:{color:"var(--jazer-cyan)"},children:[(0,r.jsx)(we,{className:"w-3 h-3"}),"Includes glow effect"]})]},g.id))})]})})]}),t&&(0,r.jsxs)("div",{className:"glass-card animate-fadeInUp",style:{border:"2px solid var(--border-pink)",boxShadow:"var(--shadow-pink)",animationDelay:"0.2s"},children:[(0,r.jsxs)("h3",{className:"text-2xl font-black mb-6 flex items-center gap-3",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:[(0,r.jsx)(we,{className:"w-7 h-7",style:{color:"var(--jazer-pink)"}}),"Widgets Using Your Brand Theme"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(Ca).map(([g,y])=>(0,r.jsxs)("div",{className:"p-5 rounded-xl text-center transition-all hover:scale-105",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",boxShadow:"0 4px 12px rgba(0, 242, 234, 0.1)"},children:[(0,r.jsx)(y,{className:"w-10 h-10 mx-auto mb-3",style:{color:t?.primary||"var(--jazer-cyan)"}}),(0,r.jsx)("div",{className:"text-sm font-bold capitalize",style:{color:"white",fontFamily:"var(--font-secondary)"},children:g.replace(/([A-Z])/g," $1").trim()}),(0,r.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"var(--jazer-cyan)",fontFamily:"var(--font-body)"},children:"Theme Active"})]},g))}),(0,r.jsx)("div",{className:"mt-6 p-5 rounded-xl",style:{background:"linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 0, 110, 0.1))",border:"2px solid var(--border-purple)"},children:(0,r.jsxs)("p",{className:"text-sm leading-relaxed",style:{color:"white",fontFamily:"var(--font-body)"},children:["üí° ",(0,r.jsx)("strong",{style:{color:"var(--jazer-cyan)",fontWeight:700},children:"Pro Tip:"})," Your brand theme is saved locally and will be automatically applied to all widgets. You can always come back here to update or clear your theme."]})})]})]}),(0,r.jsx)("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #000000;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--jazer-purple);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--jazer-cyan);
        }
      `})]})},Sa=ja,Na=300,Ta=12,Fa=120,bt={black:{bg:"#000000",text:"#FFFFFF",outline:"#000000"},grey:{bg:"#9B9A97",text:"#FFFFFF",outline:"#9B9A97"},yellow:{bg:"#DFAB01",text:"#FFFFFF",outline:"#DFAB01"},purple:{bg:"#6940A5",text:"#FFFFFF",outline:"#6940A5"},brown:{bg:"#64473A",text:"#FFFFFF",outline:"#64473A"},green:{bg:"#0F7B6C",text:"#FFFFFF",outline:"#0F7B6C"},pink:{bg:"#AD1A72",text:"#FFFFFF",outline:"#AD1A72"},orange:{bg:"#D9730D",text:"#FFFFFF",outline:"#D9730D"},blue:{bg:"#0B6E99",text:"#FFFFFF",outline:"#0B6E99"},red:{bg:"#E03E3E",text:"#FFFFFF",outline:"#E03E3E"}},Ia=["üòä","üöÄ","üé®","üíº","üîó","üìÖ","‚ú®","‚≠ê","üî•","üí°","üìö","üìù","üìß","üí¨","üìû","üìç","üè†","üíª","üì±","üì∏","üé•","üéß","üéµ","üéÆ","üïπÔ∏è","üé≤","üèÜ","ü•á","‚öΩ","üèÄ","‚ù§Ô∏è","üëç","üëã","üôå","üëè","ü§ù","üëÄ","üß†","üí™","‚ö°","üõë","‚úÖ","‚ùå","‚ùì","‚ùó","‚û°Ô∏è","‚¨ÖÔ∏è","‚¨ÜÔ∏è","‚¨áÔ∏è","üîó"],Ut=[{id:"cycle",label:"Cycle Button",description:"Pomodoro start / pause / skip break",icon:"‚è±",config:{label:"Pomodoro Cycle",icon:"‚è±",tooltip:"Cycle focus, pause, skip",behaviorType:"cycle",variant:"capsule"}},{id:"createPage",label:"Create Page Button",description:"Creates a Notion page entry",icon:"üìÑ",config:{label:"Create Page",icon:"üìÑ",tooltip:"Creates a Notion page",behaviorType:"createPage",variant:"outline"}},{id:"template",label:"Template Button",description:"Applies a database template",icon:"üß©",config:{label:"Apply Template",icon:"üß©",tooltip:"Runs assigned template",behaviorType:"template",variant:"ghost"}},{id:"counter",label:"Counter Button",description:"Counts presses and displays value",icon:"üî¢",config:{label:"Log Count",icon:"üî¢",tooltip:"Adds to counter",behaviorType:"counter",variant:"solid"}},{id:"modeSwitcher",label:"Mode Switcher",description:"Switches focus/break modes",icon:"üîÄ",config:{label:"Mode Switch",icon:"üîÄ",tooltip:"Switches mode",behaviorType:"modeSwitcher",variant:"capsule"}},{id:"themeToggle",label:"Theme Toggle",description:"Toggles light / dark theme",icon:"üåì",config:{label:"Theme Toggle",icon:"üåì",tooltip:"Toggles theme",behaviorType:"themeToggle",variant:"orb"}},{id:"playlist",label:"Playlist Button",description:"Cycles through playlist names",icon:"üéµ",config:{label:"Playlist",icon:"üéµ",tooltip:"Cycle playlist tracks",behaviorType:"playlist",variant:"circular",playlistText:`Lo-fi Beats
Hyperfocus Mix
Break Vibes`}},{id:"navigation",label:"Navigation Button",description:"Opens a Notion page",icon:"üîó",config:{label:"Open Notion",icon:"üîó",tooltip:"Opens linked Notion page",behaviorType:"navigation",variant:"outline"}},{id:"meta",label:"Meta Button",description:"Runs macro sequences",icon:"üß†",config:{label:"Meta Macro",icon:"üß†",tooltip:"Runs macro playlist",behaviorType:"meta",variant:"solid"}},{id:"secret",label:"Secret Button",description:"Long-press unlocks a hidden UI",icon:"üïµÔ∏è",config:{label:"Secret Button",icon:"üïµÔ∏è",tooltip:"Hold for 2 seconds",behaviorType:"secret",variant:"ghost"}}],P={colors:{electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ui:{deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},fonts:{heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},fontFamily:'"Montserrat", system-ui, sans-serif',sizes:{h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)",gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)",logo:{minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}}},Jt=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]),Ba=(e,o)=>{const[t,n]=(0,f.useState)(e);return(0,f.useEffect)(()=>{const d=setTimeout(()=>n(e),o);return()=>clearTimeout(d)},[e,o]),t},za=e=>btoa(encodeURIComponent(JSON.stringify(e))),Aa=e=>{try{return JSON.parse(decodeURIComponent(atob(e)))}catch{return null}},Ma=(e,o)=>e.appearanceMode==="none"?{bg:e.bgColor||"transparent",text:e.textColor||"#000"}:{bg:e.backgroundMode==="transparent"?"transparent":o?"#0B0E12":e.bgColor||"#FFFFFF",text:o?e.darkTextColor||"#FFFFFF":e.lightTextColor||"#37352F"},Tr=class extends f.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,o){}render(){return this.state.hasError?(0,r.jsx)("div",{className:"flex items-center justify-center h-full bg-red-50 p-8 text-center rounded-xl",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(Tt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"font-bold text-red-900 mb-2",children:"Widget Error"}),(0,r.jsx)("p",{className:"text-sm text-red-700 mb-4",children:this.state.error?.message||"Something went wrong"}),(0,r.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset Widget"})]})}):this.props.children}},Fr={none:{id:"none",label:"None / Custom",fontFamily:"ui-sans-serif, system-ui, sans-serif",headingFontFamily:"ui-sans-serif, system-ui, sans-serif",bgColor:"#ffffff",textColor:"#37352f",accentColor:"#e16259",fontLinks:"",cssVariables:"",extraCSS:""},jazer:{id:"jazer",label:"JaZeR Neon",fontFamily:'"Montserrat", system-ui, sans-serif',headingFontFamily:'"Orbitron", system-ui, sans-serif',bgColor:P.colors.nightBlack,textColor:P.colors.stardustWhite,accentColor:P.colors.electricPurple,logoPath:P.logo.paths.svg,logoGif:P.logo.paths.gif,faviconPath:P.logo.paths.favicon,fontLinks:`
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
    `,cssVariables:`:root {
      --jazer-electric-purple: ${P.colors.electricPurple};
      --jazer-cosmic-blue: ${P.colors.cosmicBlue};
      --jazer-neon-pink: ${P.colors.neonPink};
      --jazer-sunburst-gold: ${P.colors.sunburstGold};
      --jazer-aether-teal: ${P.colors.aetherTeal};
      --jazer-ultraviolet: ${P.colors.ultraviolet};
      --jazer-night-black: ${P.colors.nightBlack};
      --jazer-stardust-white: ${P.colors.stardustWhite};
      --jazer-graphite: ${P.colors.graphite};
      --jazer-soft-slate: ${P.colors.softSlate};
      
      --jazer-glow-blur: ${P.glowBlur};
      --jazer-glow-purple: ${P.glow};
    }`,extraCSS:`
    body {
      background-color: ${P.colors.nightBlack};
      color: ${P.colors.stardustWhite};
      font-family: ${P.fontFamily};
    }

    .neon-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      color: ${P.colors.stardustWhite}; 
      text-shadow: ${P.glow}; 
      letter-spacing: ${P.letterSpacing}; 
    }
    .neon-gradient-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      background: ${P.gradient}; 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      text-shadow: ${P.glow}; 
      letter-spacing: ${P.letterSpacing}; 
    }
    h1, h2, h3 { letter-spacing: ${P.letterSpacing}; font-family: "Orbitron", system-ui, sans-serif; } 
    h1 { font-size: ${P.sizes.h1}; }
    h2 { font-size: ${P.sizes.h2}; color: ${P.colors.electricPurple}; }
    h3 { font-size: ${P.sizes.h3}; color: ${P.colors.cosmicBlue}; } 
    
    button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${P.colors.cosmicBlue}; outline-offset: 2px; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: ${P.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb { background: ${P.colors.graphite}; border-radius: 5px; border: 1px solid ${P.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb:hover { background: ${P.colors.softSlate}; }
    
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes roulette { 
      0% { transform: translateY(-20px); opacity: 0; } 
      100% { transform: translateY(0); opacity: 1; } 
    }
    `}},La=()=>(0,r.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg mb-4",children:[(0,r.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 mb-3",children:"JaZeR Brand Colors"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(P.colors).map(([e,o])=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded mb-1 border border-white/10",style:{backgroundColor:o},title:e}),(0,r.jsx)("div",{className:"text-[8px] text-white/50 truncate",children:e})]},e))})]}),Ea=({onSelect:e,onClose:o})=>{const[t,n]=(0,f.useState)(""),d=Ia.filter(l=>l.includes(t));return(0,r.jsxs)("div",{className:"absolute z-50 bg-[#1A1D29] border border-gray-700 rounded-lg shadow-xl w-64 max-h-60 flex flex-col top-full left-0 mt-1",children:[(0,r.jsx)("div",{className:"p-2 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(st,{size:12,className:"absolute left-2 top-2 text-gray-500"}),(0,r.jsx)("input",{autoFocus:!0,className:"w-full bg-[#0B0E12] pl-7 pr-2 py-1 text-xs text-white rounded border border-gray-700 outline-none focus:border-purple-500",placeholder:"Search...",value:t,onChange:l=>n(l.target.value)})]})}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 p-2 overflow-y-auto",children:d.map((l,s)=>(0,r.jsx)("button",{className:"text-lg hover:bg-gray-700 rounded p-1",onClick:()=>{e(l),o()},children:l},s))})]})},Da=({value:e,onChange:o})=>{const[t,n]=(0,f.useState)(null),[d,l]=(0,f.useState)(null),s=(0,f.useRef)(null),h=(0,f.useMemo)(()=>[{value:"custom",label:"Custom"},...Ut.map(v=>({value:v.config.behaviorType||v.id,label:v.label}))],[]),c=[{value:"solid",label:"Solid"},{value:"text",label:"Text Only"},{value:"icon",label:"Icon Only"},{value:"iconText",label:"Icon + Text"},{value:"capsule",label:"Capsule"},{value:"circular",label:"Circular"},{value:"orb",label:"Floating Orb"},{value:"outline",label:"Outline"},{value:"ghost",label:"Ghost"}];(0,f.useEffect)(()=>{const v=g=>{s.current&&!s.current.contains(g.target)&&l(null)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=(v,g)=>{const y=[...e];y[v]={...y[v],...g},o(y)},p={label:"New Button",url:"",icon:"‚ú®",hideIcon:!1,colorPreset:"grey",backgroundColor:"#9B9A97",backgroundOpacity:100,outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBackgroundColor:"#FFFFFF",hoverTextColor:"#9B9A97",enableHoverHighlight:!0,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:""},u=()=>{const v={id:`btn-${Date.now()}`,...p};o([...e,v]),n(e.length)},x=v=>{const g={id:`btn-${Date.now()}`,...p,...v.config};o([...e,g]),n(e.length)},k=(v,g)=>{g.stopPropagation();const y=[...e],B={...e[v],id:`btn-${Date.now()}`};y.splice(v+1,0,B),o(y)},j=(v,g)=>{g.stopPropagation(),o(e.filter((y,B)=>B!==v)),t===v&&n(null)},T=(v,g)=>{g.stopPropagation();const y=e[v];o(e.map(B=>({...B,colorPreset:y.colorPreset,backgroundColor:y.backgroundColor,backgroundOpacity:y.backgroundOpacity,outlineColor:y.outlineColor,textColor:y.textColor,hoverBackgroundColor:y.hoverBackgroundColor,hoverTextColor:y.hoverTextColor,enableHoverHighlight:y.enableHoverHighlight})))},_=(v,g)=>{const y=bt[g];m(v,{colorPreset:g,backgroundColor:y.bg,outlineColor:y.outline,textColor:y.text,hoverBackgroundColor:"#FFFFFF",hoverTextColor:y.bg})};return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2",children:e.map((v,g)=>(0,r.jsxs)("div",{className:"bg-[#1A1D29] border border-gray-700 rounded-lg overflow-hidden transition-all hover:border-gray-600",children:[(0,r.jsxs)("div",{className:"p-2.5 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors",onClick:()=>n(t===g?null:g),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs border border-white/10",style:{backgroundColor:v.backgroundColor,color:v.textColor},children:v.icon||""}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-200 truncate max-w-[100px]",children:v.label})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:y=>T(g,y),title:"Copy style to all",children:(0,r.jsx)(yt,{size:12})}),(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:y=>k(g,y),title:"Duplicate",children:(0,r.jsx)(Nt,{size:12})}),(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-900/30 rounded",onClick:y=>j(g,y),title:"Delete",children:(0,r.jsx)(rr,{size:12})}),(0,r.jsx)(tr,{size:12,style:{transform:t===g?"rotate(90deg)":"none",transition:"0.2s",color:"#718096"}})]})]}),t===g&&(0,r.jsxs)("div",{className:"p-3 bg-[#111318] border-t border-gray-800 flex flex-col gap-3 animate-in slide-in-from-top-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{style:{width:"50px",position:"relative"},ref:s,children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Icon"}),(0,r.jsx)("button",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs text-center hover:border-purple-500 transition-colors",onClick:()=>l(d===g?null:g),children:v.icon||"+"}),d===g&&(0,r.jsx)(Ea,{onSelect:y=>m(g,{icon:y}),onClose:()=>l(null)})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Label"}),(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500 transition-colors",value:v.label,onChange:y=>m(g,{label:y.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 flex justify-between",children:["URL ",(0,r.jsx)(Wr,{size:10,className:"opacity-50"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-blue-400 p-1.5 pl-6 rounded text-xs outline-none focus:border-purple-500",placeholder:"https://...",value:v.url,onChange:y=>m(g,{url:y.target.value})}),(0,r.jsx)(Or,{size:10,className:"absolute left-2 top-2 text-gray-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Button Type"}),(0,r.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:v.behaviorType||"custom",onChange:y=>m(g,{behaviorType:y.target.value}),children:h.map(y=>(0,r.jsx)("option",{value:y.value,children:y.label},y.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Variant"}),(0,r.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:v.variant||"solid",onChange:y=>m(g,{variant:y.target.value}),children:c.map(y=>(0,r.jsx)("option",{value:y.value,children:y.label},y.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Tooltip"}),(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:v.tooltip||"",onChange:y=>m(g,{tooltip:y.target.value}),placeholder:"Describe the action..."})]}),v.behaviorType==="playlist"&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Playlist Items (one per line)"}),(0,r.jsx)("textarea",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",rows:3,value:v.playlistText||"",onChange:y=>m(g,{playlistText:y.target.value})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:v.hideIcon,onChange:y=>m(g,{hideIcon:y.target.checked})}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Hide Icon"})]}),(0,r.jsxs)("div",{className:"border-t border-gray-800 pt-2",children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-2 block",children:"Quick Colors"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(bt).map(y=>(0,r.jsx)("div",{className:`w-4 h-4 rounded-full cursor-pointer border border-white/10 transition-transform hover:scale-110 ${v.colorPreset===y?"ring-1 ring-white":""}`,style:{backgroundColor:bt[y].bg},onClick:()=>_(g,y),title:y},y))})]}),(0,r.jsxs)("div",{className:"border-t border-gray-800 pt-2 space-y-2",children:[(0,r.jsxs)("label",{className:"text-[9px] uppercase font-bold text-purple-400 flex items-center gap-1",children:[(0,r.jsx)(Pe,{size:10})," Custom Styles"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Bg Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("input",{type:"color",value:v.backgroundColor,onChange:y=>m(g,{backgroundColor:y.target.value,colorPreset:null}),className:"w-5 h-5 rounded cursor-pointer bg-transparent p-0 border-none"}),(0,r.jsx)("span",{className:"text-[9px] font-mono text-gray-400",children:v.backgroundColor})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-[9px] text-gray-500 block mb-1",children:["Opacity ",v.backgroundOpacity,"%"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:v.backgroundOpacity,onChange:y=>m(g,{backgroundOpacity:Number(y.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Text Color"}),(0,r.jsx)("input",{type:"color",value:v.textColor,onChange:y=>m(g,{textColor:y.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Outline"}),(0,r.jsx)("input",{type:"color",value:v.outlineColor,onChange:y=>m(g,{outlineColor:y.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,r.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:v.enableHoverHighlight,onChange:y=>m(g,{enableHoverHighlight:y.target.checked})}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Enable Hover Highlight"})]}),v.enableHoverHighlight&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l border-purple-500/20",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Bg"}),(0,r.jsx)("input",{type:"color",value:v.hoverBackgroundColor,onChange:y=>m(g,{hoverBackgroundColor:y.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Text"}),(0,r.jsx)("input",{type:"color",value:v.hoverTextColor,onChange:y=>m(g,{hoverTextColor:y.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]})]})]})]},v.id))}),(0,r.jsxs)("div",{className:"p-3 bg-[#0F1115] border border-gray-800 rounded-lg space-y-2",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Quick Templates"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Ut.map(v=>(0,r.jsxs)("button",{className:"p-2 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 hover:bg-purple-500/10 transition flex items-center gap-2 text-left",onClick:()=>x(v),children:[(0,r.jsx)("span",{className:"text-lg",children:v.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-white",children:v.label}),(0,r.jsx)("div",{className:"text-[10px] text-gray-400",children:v.description})]})]},v.id))})]}),(0,r.jsxs)("button",{onClick:u,className:"w-full py-2.5 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg text-xs font-bold text-purple-300 flex items-center justify-center gap-2 transition-all",children:[(0,r.jsx)(sr,{size:14})," Add Button"]})]})},Pa=f.memo(({field:e,value:o,onChange:t})=>{if(e.locked)return(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 opacity-50",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"üîí Premium"})]});if(e.type==="boolean")return(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,r.jsx)("button",{onClick:()=>t(!o),className:`w-10 h-5 rounded-full p-1 transition-colors duration-300 ${o?"bg-purple-600":"bg-gray-700"}`,children:(0,r.jsx)("div",{className:`w-3 h-3 rounded-full bg-white shadow-md transform transition-transform duration-300 ${o?"translate-x-5":"translate-x-0"}`})})]});if(e.type==="select")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("select",{value:o||"",onChange:n=>t(n.target.value),className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500",style:{pointerEvents:"auto"},children:e.options.map(n=>(0,r.jsx)("option",{value:n.value,disabled:n.disabled,children:n.label},n.value))})]});if(e.type==="color")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"color",value:o||"#000000",onChange:n=>t(n.target.value),className:"w-8 h-8 rounded bg-transparent border-none cursor-pointer"}),(0,r.jsx)("input",{type:"text",value:o,onChange:n=>t(n.target.value),className:"flex-1 bg-gray-800 text-white text-xs p-2 rounded border border-gray-700"})]})]});if(e.type==="text"||e.type==="number"||e.type==="date"||e.type==="datetime-local")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("input",{type:e.type,value:o,onChange:n=>t(e.type==="number"?Number(n.target.value):n.target.value),min:e.min,max:e.max,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500 transition-colors"})]});if(e.type==="textarea")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("textarea",{value:o||"",onChange:n=>t(n.target.value),rows:e.rows||4,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500"})]});if(e.type==="checkbox-list"){const n=d=>{const l=Array.isArray(o)?o:[];l.includes(d)?t(l.filter(s=>s!==d)):t([...l,d])};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1",children:e.options.map(d=>{const l=(o||[]).includes(d.value);return(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-1 rounded",onClick:()=>n(d.value),children:[(0,r.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${l?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l&&(0,r.jsx)(ye,{size:10,className:"text-white"})}),(0,r.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}if(e.type==="bar-list"){const n=(l,s)=>{const h=[...o];s===-1&&l>0?[h[l],h[l-1]]=[h[l-1],h[l]]:s===1&&l<h.length-1&&([h[l],h[l+1]]=[h[l+1],h[l]]),t(h)},d=l=>{const s=[...o];s[l].enabled=!s[l].enabled,t(s)};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:o.map((l,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-gray-800 last:border-0 hover:bg-white/5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>d(s),className:`w-4 h-4 flex items-center justify-center rounded border ${l.enabled?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l.enabled&&(0,r.jsx)(ye,{size:12,className:"text-white"})}),(0,r.jsx)("span",{className:`text-xs ${l.enabled?"text-white":"text-gray-500"}`,children:l.label})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("button",{onClick:()=>n(s,-1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:s===0,children:(0,r.jsx)(to,{size:12})}),(0,r.jsx)("button",{onClick:()=>n(s,1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:s===o.length-1,children:(0,r.jsx)(Ur,{size:12})})]})]},l.id))})]})}if(e.type==="button-manager")return(0,r.jsx)(Da,{value:o||[],onChange:t});if(e.type==="multiselect"){const n=d=>{const l=Array.isArray(o)?o:[];if(l.includes(d))t(l.filter(s=>s!==d));else{if(e.maxItems&&l.length>=e.maxItems)return;t([...l,d])}};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),e.maxItems&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[(o||[]).length,"/",e.maxItems," selected"]})]}),e.helpText&&(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1 max-h-64 overflow-y-auto",children:e.options.map(d=>{const l=(o||[]).includes(d.value),s=e.maxItems&&!l&&(o||[]).length>=e.maxItems;return(0,r.jsxs)("div",{className:`flex items-center gap-2 p-1 rounded ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-white/5"}`,onClick:()=>!s&&n(d.value),children:[(0,r.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${l?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l&&(0,r.jsx)(ye,{size:10,className:"text-white"})}),(0,r.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}return null}),Se={clock:{...$o,icon:(0,r.jsx)(Vt,{className:"w-4 h-4"}),Component:sa,generateHTML:na,generateScript:jr},weather:{...Co,icon:(0,r.jsx)(nt,{className:"w-4 h-4"}),Component:yr,generateHTML:Vo,generateScript:kr},countdown:{...la,icon:(0,r.jsx)(Qt,{className:"w-4 h-4"}),Component:ca,generateHTML:da,generateScript:Sr},counter:{...uo,icon:(0,r.jsx)(Xt,{className:"w-4 h-4"}),Component:mo,generateHTML:ho,generateScript:go},imageGallery:{...xo,icon:(0,r.jsx)(Yt,{className:"w-4 h-4"}),Component:bo,generateHTML:yo,generateScript:vo},newButtonGenerator:{...va,icon:(0,r.jsx)(Kt,{className:"w-4 h-4"}),Component:fa,generateHTML:wa,generateScript:_a},quotes:{...wo,icon:(0,r.jsx)(ar,{className:"w-4 h-4"}),Component:_o,generateHTML:ko,generateScript:ur},simpleList:{id:"simpleList",label:"List",icon:(0,r.jsx)(Lr,{className:"w-4 h-4"}),defaultConfig:{title:"To Do",items:`Task 1
Task 2`,accentColor:P.colors.cosmicBlue,textColor:P.colors.graphite,bgColor:P.colors.stardustWhite},fields:[{name:"title",label:"Title",type:"text"},{name:"items",label:"Items",type:"textarea"},{name:"accentColor",label:"Accent",type:"color"}],Component:({config:e})=>{const o=(e.items||"").split(`
`).filter(Boolean);return(0,r.jsxs)("div",{className:"h-full w-full p-6 overflow-y-auto",style:{background:e.bgColor,color:e.textColor},children:[(0,r.jsx)("h3",{className:"font-bold mb-4 pb-2 border-b-2 text-lg",style:{borderColor:e.accentColor},children:e.title}),(0,r.jsx)("ul",{className:"space-y-2",children:o.map((t,n)=>(0,r.jsxs)("li",{className:"flex gap-2 items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 border rounded",style:{borderColor:e.accentColor}}),(0,r.jsx)("span",{children:t})]},n))})]})},generateHTML:e=>`
      <div style="padding:24px; height:100%; overflow-y:auto; background:${e.bgColor}; color:${e.textColor};">
        <h3 style="font-weight:bold; margin-bottom:16px; padding-bottom:8px; border-bottom:2px solid ${e.accentColor};">${Jt(e.title)}</h3>
        <ul style="list-style:none; padding:0; margin:0;">
          ${(e.items||"").split(`
`).filter(Boolean).map(o=>`<li style="display:flex; gap:12px; margin-bottom:8px; cursor:pointer; align-items:center;" onclick="this.style.opacity = this.style.opacity === '0.5' ? '1' : '0.5'"><div style="width:16px; height:16px; border:2px solid ${e.accentColor}; border-radius:4px;"></div><span>${Jt(o)}</span></li>`).join("")}
        </ul>
      </div>
    `,generateScript:()=>""},pomodoro:{id:"pomodoro",label:"Pomodoro",icon:(0,r.jsx)(oo,{className:"w-4 h-4"}),defaultConfig:{workTime:25,breakTime:5,accentColor:P.colors.neonPink,textColor:P.colors.graphite,bgColor:P.colors.stardustWhite},fields:[{name:"workTime",label:"Work",type:"number"},{name:"breakTime",label:"Break",type:"number"},{name:"accentColor",label:"Color",type:"color"}],Component:({config:e})=>{const o=Math.max(1,parseInt(e.workTime,10)||25),t=Math.max(1,parseInt(e.breakTime,10)||5),n=o*60,d=t*60,[l,s]=(0,f.useState)(n),[h,c]=(0,f.useState)(!1),[m,p]=(0,f.useState)(!0),u=(0,f.useRef)(m);(0,f.useEffect)(()=>{u.current=m},[m]),(0,f.useEffect)(()=>{c(!1),p(!0),u.current=!0,s(n)},[n,d]),(0,f.useEffect)(()=>{if(!h)return;const T=setInterval(()=>{s(_=>{if(_>1)return _-1;const v=!u.current;return u.current=v,p(v),v?n:d})},1e3);return()=>clearInterval(T)},[h,n,d]);const x=T=>`${Math.floor(T/60).toString().padStart(2,"0")}:${(T%60).toString().padStart(2,"0")}`,k=()=>{c(T=>!T)},j=()=>{c(!1),p(!0),u.current=!0,s(n)};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-center",style:{background:e.bgColor,color:e.textColor},children:[(0,r.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-widest",style:{color:e.accentColor},children:[m?"Work":"Break"," Session"]}),(0,r.jsx)("div",{className:"text-5xl font-bold tabular-nums",children:x(l)}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-semibold",style:{background:e.accentColor},onClick:k,children:h?"Pause":"Start"}),(0,r.jsx)("button",{className:"px-6 py-2 rounded-full border font-semibold",style:{borderColor:e.accentColor,color:e.accentColor},onClick:j,children:"Reset"})]})]})},generateHTML:e=>`
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:16px; text-align:center;">
        <div id="phase" style="font-size:14px; font-weight:600; text-transform:uppercase; letter-spacing:0.2em; color:${e.accentColor};">Work Session</div>
        <div id="timer" style="font-size:48px; font-weight:bold; margin-bottom:8px; font-family:'Courier New', monospace;">${String(e.workTime).padStart(2,"0")}:00</div>
        <div style="display:flex; gap:12px;">
          <button onclick="togglePomodoro()" id="btn" style="background:${e.accentColor}; color:white; border:none; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Start</button>
          <button onclick="resetPomodoro()" style="background:transparent; color:${e.accentColor}; border:2px solid ${e.accentColor}; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Reset</button>
        </div>
      </div>
    `,generateScript:e=>`
      (function() {
        const workMinutes = Math.max(1, parseInt(${JSON.stringify(e.workTime)}, 10) || 25);
        const breakMinutes = Math.max(1, parseInt(${JSON.stringify(e.breakTime)}, 10) || 5);
        const workSeconds = workMinutes * 60;
        const breakSeconds = breakMinutes * 60;
        let remaining = workSeconds;
        let isRunning = false;
        let isWorkPhase = true;
        let timerId = null;
        const timerEl = document.getElementById('timer');
        const phaseEl = document.getElementById('phase');
        const btn = document.getElementById('btn');

        function format(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return mins + ':' + secs;
        }

        function updateDisplay() {
          timerEl.textContent = format(remaining);
          phaseEl.textContent = (isWorkPhase ? 'Work' : 'Break') + ' Session';
        }

        function switchPhase() {
          isWorkPhase = !isWorkPhase;
          remaining = isWorkPhase ? workSeconds : breakSeconds;
          updateDisplay();
        }

        function tick() {
          if (remaining > 0) {
            remaining -= 1;
            updateDisplay();
          } else {
            switchPhase();
          }
        }

        window.togglePomodoro = function togglePomodoro() {
          isRunning = !isRunning;
          btn.textContent = isRunning ? 'Pause' : 'Start';
          if (isRunning) {
            timerId = setInterval(tick, 1000);
          } else if (timerId) {
            clearInterval(timerId);
            timerId = null;
  }
};

const WIDGET_CATEGORIES = {
  clock: 'Time & Productivity',
  countdown: 'Time & Productivity',
  pomodoro: 'Time & Productivity',
  simpleList: 'Time & Productivity',
  weather: 'Data & Information',
  quotes: 'Data & Information',
  counter: 'Interactive',
  newButtonGenerator: 'Interactive',
  imageGallery: 'Media'
};

        window.resetPomodoro = function resetPomodoro() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
          isRunning = false;
          isWorkPhase = true;
          remaining = workSeconds;
          btn.textContent = 'Start';
          updateDisplay();
        };

        updateDisplay();
      })();
    `}},Oa=({isOpen:e,onClose:o,widgetDef:t,config:n})=>{const d=(0,f.useMemo)(()=>{if(!e)return"";const h=za(n);return`${window.location.origin}${window.location.pathname}?embed=1&widget=${t.id}&config=${h}`},[e,n,t]);if(!e)return null;const l=()=>{navigator.clipboard.writeText(d),alert("Link copied! Paste into Notion using /embed")},s=()=>{const h=t.generateHTML?t.generateHTML(n):`<!-- ${t.label} Widget -->`,c=t.generateScript?t.generateScript(n):"",m=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t.label} Widget</title>
    <style>
      body { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; }
    </style>
</head>
<body>
    ${h}
    <script>${c}<\/script>
</body>
</html>`;navigator.clipboard.writeText(m),alert("HTML Code copied!")};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in",children:(0,r.jsxs)("div",{className:"bg-[#1A1D29] w-full max-w-2xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#0B0E12]",children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-xl font-mono flex items-center gap-2",children:[(0,r.jsx)(Yr,{className:"text-purple-500"})," GET WIDGET"]}),(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-white",children:(0,r.jsx)(lt,{})})]}),(0,r.jsxs)("div",{className:"p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-white",children:"Embed Link (Recommended)"}),(0,r.jsxs)("div",{className:"bg-[#0B0E12] p-4 rounded-xl border border-gray-800 flex gap-2 items-center",children:[(0,r.jsx)("input",{readOnly:!0,value:d,className:"bg-transparent w-full text-sm text-purple-300 outline-none font-mono truncate"}),(0,r.jsx)("button",{onClick:l,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-colors",children:"Copy Link"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["In Notion, type ",(0,r.jsx)("code",{className:"bg-gray-800 px-1 rounded",children:"/embed"})," and paste this URL. Requires this app to be hosted publicly."]})]}),(0,r.jsxs)("div",{className:"border-t border-white/5 pt-6 space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-white",children:"Standalone Code"}),(0,r.jsxs)("button",{onClick:s,className:"w-full bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(Hr,{size:16})," Copy HTML Code"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Copy the full HTML code and save it as a .html file. Host it on GitHub Pages, Netlify, or Vercel."})]})]})]})})},Wa=({activeBrandId:e,config:o,activeWidgetId:t,debouncedConfig:n,handleConfigChange:d,brandTheme:l,ActiveWidget:s,showExport:h,setShowExport:c,onCustomizeRequest:m})=>{const[p,u]=(0,f.useState)(800),[x,k]=(0,f.useState)(450),[j,T]=(0,f.useState)(!1),_=(0,f.useRef)(null),v=l||n?.brandThemeSnapshot||o.brandThemeSnapshot,g=(y,B)=>{B.preventDefault(),T(y)};return(0,f.useEffect)(()=>{const y=C=>{if(!j||!_.current)return;const R=_.current.getBoundingClientRect();(j==="horizontal"||j==="both")&&u(Math.max(300,Math.min(1600,C.clientX-R.left-40))),(j==="vertical"||j==="both")&&k(Math.max(200,Math.min(1e3,C.clientY-R.top-40)))},B=()=>{T(!1)};return j&&(document.addEventListener("mousemove",y),document.addEventListener("mouseup",B)),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",B)}},[j]),(0,r.jsxs)("div",{ref:_,className:"flex-1 flex flex-col relative h-full",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",style:{background:e==="jazer"?`radial-gradient(circle at 50% 10%, ${P.ui.nebulaPurple} 0%, ${P.colors.nightBlack} 100%)`:"#f5f5f5",boxShadow:e==="jazer"?P.glow:"none"},children:(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl overflow-hidden relative group",style:{width:`${p}px`,height:`${x}px`,backgroundColor:o.bgColor,border:"2px solid var(--jazer-cosmic-blue)",boxShadow:"var(--jazer-glow-blue), 0 20px 40px rgba(0,0,0,0.4)",transition:j?"none":"all 0.2s ease"},children:[(0,r.jsx)(Tr,{children:(0,r.jsx)(s.Component,{config:n,onConfigChange:d,brand:P,brandTheme:v,onCustomizeRequest:m})},t),(0,r.jsx)("div",{onMouseDown:y=>g("horizontal",y),className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(90deg, transparent, var(--jazer-electric-purple))"},children:(0,r.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-12 rounded-l",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,r.jsx)("div",{onMouseDown:y=>g("vertical",y),className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(180deg, transparent, var(--jazer-electric-purple))"},children:(0,r.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-1 w-12 rounded-t",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,r.jsx)("div",{onMouseDown:y=>g("both",y),className:"absolute right-0 bottom-0 w-6 h-6 cursor-nwse-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"var(--jazer-electric-purple)",clipPath:"polygon(100% 0, 100% 100%, 0 100%)",boxShadow:"var(--jazer-glow-purple)"}}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-mono opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(139, 92, 246, 0.9)",color:"var(--jazer-stardust-white)",backdropFilter:"blur(10px)"},children:[p," √ó ",x]})]})}),(0,r.jsx)(Oa,{isOpen:h,onClose:()=>c(!1),widgetDef:s,config:o})]})};function Ra({currentView:e,onNavigateHome:o,onNavigateBuilder:t,onNavigateBrand:n,selectedWidgetId:d,hasBrandTheme:l,brandLabel:s}){return(0,r.jsx)("header",{className:"w-full border-b border-white/5 bg-[#0B0E12]/90 backdrop-blur-md sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex flex-col md:flex-row md:items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center font-black text-white",children:"NW"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-400",children:"JaZeR"}),(0,r.jsx)("p",{className:"text-base font-semibold text-white",children:"Notion Wiz Builder"})]})]}),(0,r.jsx)("nav",{className:"flex-1 flex flex-wrap gap-2",children:[{id:"landing",label:"Widgets",action:o},{id:"builder",label:"Builder",action:t,disabled:!d},{id:"brand-generator",label:"Brand Kit",action:n}].map(h=>{const c=e===h.id;return(0,r.jsx)("button",{type:"button",onClick:h.action,disabled:h.disabled,className:`px-3 py-2 text-xs font-semibold rounded-full border transition ${c?"border-purple-400 text-white bg-purple-600/30":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"} ${h.disabled?"opacity-40 cursor-not-allowed":""}`,children:h.label},h.id)})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[(0,r.jsx)("span",{className:"uppercase tracking-widest text-neutral-500",children:"Brand"}),(0,r.jsx)("span",{className:`px-3 py-1 rounded-full border ${l?"border-emerald-400 text-emerald-200":"border-white/15 text-neutral-300"}`,children:l?s:"Default JaZeR Neon"})]})]})})}function Ha({onSelect:e,onBrandGenerator:o}){return(0,r.jsx)("div",{className:"min-h-screen p-8 md:p-16 flex flex-col items-center",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:(0,r.jsxs)("div",{className:"max-w-6xl w-full space-y-12",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center p-3 rounded-full mb-4 animate-pulse-neon",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",border:"1px solid var(--jazer-electric-purple)"},children:(0,r.jsx)(er,{className:"w-8 h-8",style:{color:"var(--jazer-electric-purple)"}})}),(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-black tracking-tight gradient-text neon-text",style:{fontFamily:"Orbitron, sans-serif"},children:"NOTION WIDGETS"}),(0,r.jsxs)("p",{className:"text-xl max-w-2xl mx-auto",style:{color:"var(--jazer-soft-slate)"},children:["Premium, customizable widgets for your Notion workspace. ",(0,r.jsx)("span",{style:{color:"var(--jazer-neon-pink)"},children:"Cyberpunk aesthetics included."})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Object.values(Se).map(t=>(0,r.jsx)("div",{className:"group rounded-2xl p-1 transition-all duration-300 hover:-translate-y-2 card-neon",children:(0,r.jsxs)("div",{className:"h-full rounded-xl p-6 flex flex-col relative overflow-hidden",style:{backgroundColor:"var(--jazer-graphite)"},children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.cloneElement(t.icon,{className:"w-24 h-24",style:{color:"var(--jazer-electric-purple)"}})}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-colors",style:{backgroundColor:"rgba(59, 130, 246, 0.1)",color:"var(--jazer-cosmic-blue)"},children:t.icon}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-2 neon-text-blue",style:{fontFamily:"Orbitron, sans-serif"},children:t.label}),(0,r.jsx)("p",{className:"text-sm mb-6 flex-1 leading-relaxed",style:{color:"var(--jazer-soft-slate)"},children:t.description||`Create a beautiful ${t.label.toLowerCase()} widget for your Notion pages.`}),(0,r.jsxs)("button",{onClick:()=>e(t.id),className:"w-full py-3 px-4 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all btn-neon",style:{backgroundColor:"var(--jazer-electric-purple)",color:"var(--jazer-stardust-white)"},children:["Build Widget ",(0,r.jsx)(Ft,{className:"w-4 h-4 rotate-180"})]})]})},t.id))}),(0,r.jsx)("div",{className:"mt-12 p-1 rounded-2xl transition-all duration-300 hover:-translate-y-2",style:{background:"linear-gradient(135deg, var(--jazer-electric-purple), var(--jazer-neon-pink))"},children:(0,r.jsx)("div",{className:"rounded-xl p-8",style:{backgroundColor:"var(--jazer-graphite)"},children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",border:"1px solid var(--jazer-electric-purple)"},children:(0,r.jsx)(we,{className:"w-6 h-6",style:{color:"var(--jazer-electric-purple)"}})}),(0,r.jsx)("h3",{className:"text-2xl font-bold neon-text",style:{fontFamily:"Orbitron, sans-serif"},children:"BRAND THEME GENERATOR"})]}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",style:{color:"var(--jazer-soft-slate)"},children:["Upload your logo and automatically generate custom color presets for ",(0,r.jsx)("strong",{style:{color:"var(--jazer-neon-pink)"},children:"ALL widgets"}),". Create a unified brand experience across your entire Notion workspace."]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--jazer-aether-teal)"},children:[(0,r.jsx)(ye,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"8 Auto-Generated Presets"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--jazer-aether-teal)"},children:[(0,r.jsx)(ye,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Applies to All Widgets"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--jazer-aether-teal)"},children:[(0,r.jsx)(ye,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Save & Export"})]})]})]}),(0,r.jsxs)("button",{onClick:o,className:"px-8 py-4 rounded-lg font-bold text-lg flex items-center justify-center gap-3 transition-all btn-neon hover:scale-105 whitespace-nowrap",style:{backgroundColor:"var(--jazer-electric-purple)",color:"var(--jazer-stardust-white)"},children:[(0,r.jsx)(we,{className:"w-5 h-5"}),"Generate Theme",(0,r.jsx)(tr,{className:"w-5 h-5"})]})]})})}),(0,r.jsx)("footer",{className:"text-center pt-12 text-sm",style:{color:"var(--jazer-soft-slate)"},children:(0,r.jsx)("p",{children:"¬© 2025 JaZeR. All rights reserved."})})]})})}var St=(e,o)=>{if(!o)return e;const t={...e};return t.brandThemeSnapshot={...o,appliedAt:o.appliedAt||new Date().toISOString()},o.backgroundColor&&(t.bgColor=o.backgroundColor,t.backgroundColor!==void 0&&(t.backgroundColor=o.backgroundColor)),o.textColor&&t.textColor!==void 0&&(t.textColor=o.textColor),o.accentColor&&t.accentColor!==void 0&&(t.accentColor=o.accentColor),t.lightMode&&(t.lightMode={...t.lightMode,backgroundColor:o.backgroundColor||t.lightMode.backgroundColor,clockColor:o.clockColor||t.lightMode.clockColor,digitColor:o.digitColor||o.clockColor||t.lightMode.digitColor,textColor:o.textColor||t.lightMode.textColor}),t.darkMode&&(t.darkMode={...t.darkMode,backgroundColor:o.backgroundColor||t.darkMode.backgroundColor,clockColor:o.clockColor||t.darkMode.clockColor,digitColor:o.digitColor||o.clockColor||t.darkMode.digitColor,textColor:o.textColor||t.darkMode.textColor}),o.glow!==void 0&&t.glowEffect!==void 0&&(t.glowEffect=o.glow),o.texture&&t.backgroundTexture!==void 0&&(t.backgroundTexture=o.texture),t},ft=(e,o,t)=>{if(o==="custom"&&t)return St(e,t);if(o==="none"){const l={...e};return delete l.brandThemeSnapshot,l}const n=Fr[o];if(!n){const l={...e};return delete l.brandThemeSnapshot,l}const d={...e};return delete d.brandThemeSnapshot,n.fontFamily&&(d.fontFamily=n.fontFamily),n.bgColor&&(d.bgColor=n.bgColor),n.textColor&&(d.textColor=n.textColor),n.accentColor&&(d.accentColor=n.accentColor),o==="jazer"&&(d.glowEffect!==void 0&&(d.glowEffect=!0),d.gradientText!==void 0&&(d.gradientText=!0)),d};function Ga({initialWidgetId:e,onBack:o,globalBrandTheme:t,onBrandThemeUpdate:n,onLaunchBrandGenerator:d}){const[l,s]=(0,f.useState)(e),[h,c]=(0,f.useState)(t?"custom":"none"),[m,p]=(0,f.useState)(()=>{const a=Se[e].defaultConfig;return t?St(a,t):a}),[u,x]=(0,f.useState)(t),[k,j]=(0,f.useState)({}),[T,_]=(0,f.useState)(""),v=(0,f.useRef)({}),g=(0,f.useRef)(null),[y,B]=(0,f.useState)(null),[C,R]=(0,f.useState)(!1),[D,Y]=(0,f.useState)(""),[U,ie]=(0,f.useState)("all"),[H,F]=(0,f.useState)([]),[te,he]=(0,f.useState)(!1),ge=Ba(m,Na),K=u||t,Ne=!!K,_e=K?.presetName||K?.name||"Custom Brand Theme",V=Se[l],L=(0,f.useMemo)(()=>V?.sections?V.sections.map(a=>{const w=V.fields.filter(b=>(b.section||"general")===a.id).length;return{...a,controlCount:w}}).filter(a=>a.controlCount>0):[],[V]);(0,f.useEffect)(()=>{const a=document.createElement("link");return a.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap",a.rel="stylesheet",document.head.appendChild(a),()=>document.head.removeChild(a)},[]),(0,f.useEffect)(()=>{v.current={}},[l]),(0,f.useEffect)(()=>{if(!(typeof window>"u"))try{const a=localStorage.getItem("notion_wiz_pins");a&&F(JSON.parse(a))}catch{}},[]),(0,f.useEffect)(()=>{if(!(typeof window>"u"))try{localStorage.setItem("notion_wiz_pins",JSON.stringify(H))}catch{}},[H]),(0,f.useEffect)(()=>{if(!t){x(null),c(a=>a==="custom"?"none":a),p(a=>{if(!a.brandThemeSnapshot)return a;const w={...a};return delete w.brandThemeSnapshot,w});return}x(t),p(a=>St(a,t)),h==="none"&&c("custom")},[t,h]);const W=(0,f.useCallback)(a=>{a&&v.current[a]?(v.current[a].scrollIntoView({behavior:"smooth",block:"center"}),j(w=>({...w,[a]:!0})),B(a),setTimeout(()=>{B(w=>w===a?null:w)},1500)):g.current&&g.current.scrollIntoView({behavior:"smooth",block:"start"}),R(!0),setTimeout(()=>R(!1),1200)},[]),le=(0,f.useCallback)(a=>{j(w=>({...w,[a]:w[a]===!1}))},[]),ce=(0,f.useCallback)(a=>k[a]!==!1,[k]),We=a=>{s(a);const w=Se[a].defaultConfig;p(ft(w,h,K)),he(!1),Y("")},Ie=a=>{const w=ft(Se[l].defaultConfig,h,K);JSON.stringify(m)!==JSON.stringify(w)&&!window.confirm("Applying a brand kit will override your current customizations. Continue?")||(c(a),p(b=>ft(b,a,K)))},Re=(a,w)=>w.split(".").reduce((b,N)=>b?.[N],a),He=(a,w,b)=>{const N=w.split("."),z=N.pop(),I=N.reduce((J,M)=>(J[M]||(J[M]={}),J[M]),a);return I[z]=b,a},de=(a,w)=>{if(a.includes(".")){p(b=>{const N={...b};return He(N,a,w),N});return}a==="lightMode"||a==="darkMode"?p(b=>({...b,[a]:{...b[a],...w}})):(typeof m[a]=="number"&&typeof w=="string"&&(w=parseInt(w)||m[a]),p(b=>({...b,[a]:w})))},ke=(0,f.useCallback)(a=>{if(a){x(a),c("custom"),n?.(a);try{localStorage.setItem("jazer_global_brand_theme",JSON.stringify(a)),localStorage.setItem("jazer_global_brand_active","true")}catch{}return}x(null),c(w=>w==="custom"?"none":w),n?.(null);try{localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active")}catch{}},[n]),S=(0,f.useMemo)(()=>["all","pinned",...Array.from(new Set(Object.values(WIDGET_CATEGORIES)))],[]),A=(0,f.useMemo)(()=>{const a=D.trim().toLowerCase(),w=b=>H.indexOf(b);return Object.values(Se).map(b=>({...b,category:WIDGET_CATEGORIES[b.id]||"Other",isPinned:H.includes(b.id)})).filter(b=>a?[b.label,b.description].filter(Boolean).map(N=>String(N).toLowerCase()).some(N=>N.includes(a)):!0).filter(b=>U==="all"?!0:U==="pinned"?b.isPinned:b.category===U).sort((b,N)=>{const z=w(b.id),I=w(N.id);return z!==I?z===-1?1:I===-1?-1:z-I:b.label.localeCompare(N.label)})},[D,U,H]),q=(0,f.useCallback)(a=>{F(w=>w.includes(a)?w.filter(b=>b!==a):[...w,a])},[]);return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col md:flex-row font-sans h-screen overflow-hidden",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:[(0,r.jsxs)("div",{className:"w-full md:w-72 flex flex-col z-10 h-full",style:{backgroundColor:"var(--jazer-graphite)",borderRight:"1px solid var(--jazer-soft-slate)"},children:[(0,r.jsxs)("div",{className:"p-4 space-y-3",style:{borderBottom:"1px solid var(--jazer-soft-slate)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-500",children:"Builder"}),(0,r.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2 gradient-text neon-text",children:[(0,r.jsx)(er,{className:"w-5 h-5",style:{color:"var(--jazer-electric-purple)"}})," ",V?.label||"Widget"]})]}),(0,r.jsxs)("button",{"aria-label":"Navigate back to home",onClick:o,className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-neutral-300 hover:border-purple-400 hover:text-white transition-colors",children:[(0,r.jsx)(Ft,{className:"w-3 h-3"})," Exit"]})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:"Choose a widget to edit. Use search or pin your frequent favorites for faster access."})]}),(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-white/5 space-y-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(st,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text",value:D,onChange:a=>Y(a.target.value),placeholder:"Search widgets...",className:"w-full bg-white/5 border border-white/10 rounded-full py-2 pl-9 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-[10px] uppercase tracking-widest text-neutral-500",children:[(0,r.jsxs)("span",{children:[A.length," results"]}),(0,r.jsx)("span",{className:"text-neutral-400",children:"Pin favorites for quick access"})]})]}),(0,r.jsx)("div",{className:"px-4 py-2 border-b border-white/5 flex flex-wrap gap-2",children:S.map(a=>{const w=a==="all"?"All Widgets":a==="pinned"?"Pinned":a,b=U===a,N=a==="pinned"&&H.length===0;return(0,r.jsx)("button",{type:"button",disabled:N,onClick:()=>ie(a),className:`text-[10px] px-3 py-1.5 rounded-full border transition ${b?"border-purple-400 text-white bg-purple-500/20":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"} ${N?"opacity-30 cursor-not-allowed":""}`,children:w},a)})}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2",children:A.length===0?(0,r.jsx)("div",{className:"text-xs text-neutral-400 bg-white/5 border border-white/10 rounded-xl p-4",children:"No widgets match your search. Try a different phrase or reset filters."}):A.map(a=>{const w=a.description||`Customize the ${a.label} widget.`,b=l===a.id;return(0,r.jsxs)("div",{className:`border rounded-xl p-3 flex items-start gap-3 transition ${b?"border-purple-400 bg-purple-500/15 shadow-lg shadow-purple-900/30":"border-white/10 bg-white/5 hover:border-purple-300/70"}`,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>We(a.id),className:"flex-1 text-left flex items-start gap-3",children:[(0,r.jsx)("div",{className:`pt-1 px-2 py-1 rounded-lg text-sm ${b?"text-purple-300":"text-neutral-300"}`,children:a.icon}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-white",children:a.label}),b&&(0,r.jsx)("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded-full bg-purple-500/20 border border-purple-400 text-purple-200",children:"Active"})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:w}),(0,r.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-neutral-500",children:a.category})]})]}),(0,r.jsx)("button",{type:"button","aria-label":a.isPinned?"Unpin widget":"Pin widget",onClick:N=>{N.stopPropagation(),q(a.id)},className:`p-1.5 rounded-full border ${a.isPinned?"border-amber-300 text-amber-200 bg-amber-500/10":"border-white/10 text-neutral-400 hover:border-amber-200 hover:text-amber-200"}`,children:(0,r.jsx)(Jr,{className:"w-3.5 h-3.5",fill:a.isPinned?"#FCD34D":"none"})})]},a.id)})})]}),(0,r.jsx)(Wa,{activeBrandId:h,config:m,activeWidgetId:l,debouncedConfig:ge,handleConfigChange:de,brandTheme:u,ActiveWidget:V,showExport:te,setShowExport:he,onCustomizeRequest:W}),(0,r.jsxs)("div",{className:"w-full md:w-80 h-full flex flex-col",style:{backgroundColor:"var(--jazer-graphite)",borderLeft:"1px solid var(--jazer-soft-slate)"},children:[(0,r.jsxs)("div",{className:"p-5 flex justify-between items-center",style:{borderBottom:"1px solid var(--jazer-soft-slate)"},children:[(0,r.jsx)("h2",{className:"font-bold text-sm uppercase neon-text",style:{fontFamily:"Orbitron, sans-serif",color:"var(--jazer-electric-purple)",letterSpacing:"0.1em"},children:"Configuration"}),(0,r.jsxs)("button",{"aria-label":"Get export code",onClick:()=>he(!0),className:"text-xs px-3 py-1.5 rounded flex items-center gap-1 btn-neon transition-all",style:{backgroundColor:"var(--jazer-neon-pink)",color:"var(--jazer-night-black)",fontWeight:"bold"},children:[(0,r.jsx)(nr,{className:"w-3 h-3"})," Get Code"]})]}),(0,r.jsxs)("div",{ref:g,className:"flex-1 overflow-y-auto p-6 space-y-8 transition-all",style:{outline:C?"2px solid var(--jazer-electric-purple)":"none",outlineOffset:C?"2px":"0"},children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsx)(Xr,{className:"w-3 h-3"})," Brand Kit"]}),(0,r.jsxs)("select",{"aria-label":"Select brand kit",value:h,onChange:a=>Ie(a.target.value),className:"w-full p-2 text-sm border rounded",children:[(0,r.jsx)("option",{value:"none",children:"None"}),(0,r.jsx)("option",{value:"jazer",children:"JaZeR Neon"}),Ne&&(0,r.jsx)("option",{value:"custom",children:_e})]}),d&&(0,r.jsx)("button",{type:"button",onClick:d,className:"w-full text-xs px-3 py-2 rounded border border-purple-400/50 text-purple-200 hover:border-purple-300 transition-colors",children:"Launch Brand Theme Generator"}),h==="jazer"&&(0,r.jsxs)("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg text-xs space-y-1",children:[(0,r.jsxs)("div",{className:"font-bold text-purple-900 flex items-center gap-1",children:[(0,r.jsx)(we,{className:"w-3 h-3"})," Active Features:"]}),(0,r.jsxs)("ul",{className:"text-purple-700 space-y-0.5 ml-4 list-disc",children:[(0,r.jsx)("li",{children:"Orbitron + Montserrat fonts"}),(0,r.jsx)("li",{children:"Night Black background"}),(0,r.jsx)("li",{children:"Neon gradient effects"})]})]}),h==="custom"&&K&&(0,r.jsxs)("div",{className:"p-3 bg-cyan-50 border border-cyan-200 rounded-lg text-xs space-y-2",children:[(0,r.jsxs)("div",{className:"font-bold text-cyan-900 flex items-center gap-1",children:[(0,r.jsx)(we,{className:"w-3 h-3"})," ",_e]}),(0,r.jsx)("p",{className:"text-cyan-700",children:"Colors pulled from your Brand Theme Generator are now driving every widget."}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Background",color:K.backgroundColor||K.background},{label:"Primary",color:K.clockColor||K.primary},{label:"Digits",color:K.digitColor||K.secondary},{label:"Text",color:K.textColor||K.text}].map(({label:a,color:w})=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"h-10 rounded border border-white/40",style:{backgroundColor:w||"#0B0E12"}}),(0,r.jsx)("div",{className:"mt-1 text-[10px] font-semibold text-cyan-900",children:a}),(0,r.jsx)("div",{className:"text-[9px] font-mono text-cyan-600",children:w||"-"})]},a))})]})]}),h==="jazer"&&(0,r.jsx)(La,{}),h==="custom"&&K?.palette?.length>0&&(0,r.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-cyan-200/40",children:[(0,r.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-cyan-200 mb-3",children:"Brand Palette"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:K.palette.map((a,w)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded border border-white/10",style:{backgroundColor:a}}),(0,r.jsx)("div",{className:"text-[8px] text-cyan-100 truncate mt-1",children:a})]},`${a}-${w}`))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(st,{className:"w-3 h-3"})," Quick Find"]}),T&&(0,r.jsx)("button",{type:"button",onClick:()=>_(""),className:"text-[10px] text-neutral-300 hover:text-white transition-colors",children:"Clear"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(st,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text",value:T,onChange:a=>_(a.target.value),placeholder:"Search labels, sections, or controls...",className:"w-full bg-white/5 border border-white/10 rounded-lg py-2 pl-9 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0",style:{backgroundColor:"rgba(255,255,255,0.05)"}})]})]}),L.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsx)(yt,{className:"w-3 h-3"})," Section Outline"]}),(0,r.jsx)("div",{className:"space-y-2",children:L.map(a=>(0,r.jsxs)("button",{type:"button",onClick:()=>W(a.id),className:`w-full text-left p-3 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 transition ${y===a.id?"ring-2 ring-purple-400":""}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs font-semibold text-white",children:[(0,r.jsx)("span",{children:a.label}),(0,r.jsxs)("span",{className:"text-[10px] text-neutral-400",children:[a.controlCount," controls"]})]}),a.description&&(0,r.jsx)("p",{className:"mt-1 text-[11px] text-neutral-300",children:a.description}),a.notes?.length>0&&(0,r.jsx)("div",{className:"mt-1 space-y-1 text-[10px] text-neutral-400",children:a.notes.map(w=>(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(yt,{className:"w-3 h-3 text-neutral-500"}),(0,r.jsx)("span",{children:w.title})]},`${a.id}-${w.title}`))})]},a.id))})]}),(0,r.jsx)(Nr,{onColorsExtracted:a=>{if(!a){ke(null),p(N=>{if(!N.brandThemeSnapshot)return N;const z={...N};return delete z.brandThemeSnapshot,z});return}if(!a.text||!a.background||!a.primary)return;const w={...a,appliedAt:new Date().toISOString()};ke(w);const b={...m,brandThemeSnapshot:w};l==="clock"?(b.lightMode={...b.lightMode,textColor:a.text,panelColor:a.background,digitColor:a.primary,clockColor:a.primary,backgroundColor:a.background},b.darkMode={...b.darkMode,textColor:a.background,panelColor:a.text,digitColor:a.secondary,clockColor:a.accent,backgroundColor:a.text},b.bgColor=a.background):l==="countdown"?(b.lightMode={...b.lightMode,textColor:a.text,panelColor:a.background,digitColor:a.primary,backgroundColor:a.background},b.darkMode={...b.darkMode,textColor:a.background,panelColor:a.text,digitColor:a.secondary,backgroundColor:a.text},b.bgColor=a.background):l==="quotes"?(b.lightMode={...b.lightMode,textColor:a.text,authorColor:a.secondary,backgroundColor:a.background},b.darkMode={...b.darkMode,textColor:a.background,authorColor:a.accent,backgroundColor:a.text},b.bgColor=a.background):l==="lifeProgress"?(b.lightMode={...b.lightMode,textColor:a.text,barColor:a.primary,backgroundColor:a.background},b.darkMode={...b.darkMode,textColor:a.background,barColor:a.accent,backgroundColor:a.text},b.bgColor=a.background):l==="counter"?(b.lightTextColor=a.text,b.darkTextColor=a.background,b.bgColor=a.background):l==="weather"?(b.bgColor=a.background,b.textColor=a.text,b.accentColor=a.primary):l==="imageGallery"?b.bgColor=a.background:l==="newButtonGenerator"?(b.buttons&&Array.isArray(b.buttons)&&(b.buttons=b.buttons.map((N,z)=>({...N,backgroundColor:a.palette[z%a.palette.length]||a.primary,textColor:a.background,outlineColor:a.accent,hoverBackgroundColor:a.background,hoverTextColor:a.palette[z%a.palette.length]||a.primary}))),b.bgColor=a.background):l==="simpleList"||l==="pomodoro"?(b.bgColor=a.background,b.textColor=a.text,b.accentColor=a.primary):l==="logo"?(b.bgColor=a.background,b.glowColor=a.primary):l==="cosmic"?(b.bgColor=a.text,b.accentColor=a.primary):(b.bgColor=a.background,b.textColor=a.text,b.accentColor!==void 0&&(b.accentColor=a.primary)),p(b)}}),(0,r.jsx)("hr",{className:"border-neutral-100"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsx)(Pe,{className:"w-3 h-3"})," Appearance"]}),m.fontSize!==void 0&&(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Font Size"}),(0,r.jsxs)("span",{className:"text-xs text-neutral-400",children:[m.fontSize,"px"]})]}),(0,r.jsx)("input",{"aria-label":"Font size slider",type:"range",min:Ta,max:Fa,value:m.fontSize,onChange:a=>de("fontSize",parseInt(a.target.value)),className:"w-full h-1.5 bg-neutral-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5",children:"Background"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{"aria-label":"Background color",type:"color",value:m.bgColor,onChange:a=>de("bgColor",a.target.value),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.bgColor})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5",children:"Text"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{"aria-label":"Text color",type:"color",value:m.textColor||"#000000",onChange:a=>de("textColor",a.target.value),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.textColor})]})]})]})]}),(0,r.jsx)("hr",{className:"border-neutral-100"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsx)(eo,{className:"w-3 h-3"})," Widget Controls"]}),(()=>{const a=T.trim().toLowerCase(),w=V.sections?V.sections.map(I=>I.id):[...new Set(V.fields.map(I=>I.section))].filter(Boolean),b=V.fields.filter(I=>!I.section);b.length>0&&!w.includes("general")&&w.unshift("general");const N=I=>a?[I.label,I.name,I.placeholder,I.section].filter(Boolean).map(J=>String(J).toLowerCase()).some(J=>J.includes(a)):!0,z=w.map(I=>{const J=I==="general"?b:V.fields.filter($=>$.section===I);if(J.length===0)return null;let M=I,G=null;V.sections?(G=V.sections.find($=>$.id===I),M=G?G.label:I):M={time:"Time Display",style:"Clock Style",analog:"Analog Customization",typography:"Typography",background:"Background",interactive:"Interactive Mode",theme:"Preset Themes",appearance:"Appearance Mode",features:"Additional Features",effects:"Visual Effects",event:"Event Setup",units:"Time Units",completion:"Completion",general:"General Settings"}[I]||I;const re=M.toLowerCase(),oe=a&&G?.description?.toLowerCase().includes(a),ae=a&&G?.notes?.some($=>[$.title,$.body].filter(Boolean).some(se=>se.toLowerCase().includes(a))),Q=a&&(re.includes(a)||oe||ae)?J:J.filter(N);if(Q.length===0)return null;const E=a?!0:ce(I);return(0,r.jsxs)("div",{ref:$=>{$&&(v.current[I]=$)},className:`border border-white/10 rounded-lg bg-white/5 overflow-hidden ${y===I?"ring-2 ring-purple-400":""}`,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>le(I),className:"w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold text-white",children:[(0,r.jsxs)("div",{className:"flex flex-col text-left",children:[(0,r.jsx)("span",{children:M}),G?.description&&(0,r.jsx)("span",{className:"text-[11px] font-normal text-neutral-400",children:G.description})]}),(0,r.jsx)(or,{className:"w-4 h-4 transition-transform",style:{transform:E?"rotate(180deg)":"rotate(0deg)"}})]}),E&&(0,r.jsxs)("div",{className:"p-3 space-y-3 border-t border-white/5",children:[G?.notes?.length>0&&(0,r.jsx)("div",{className:"space-y-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2",children:G.notes.map($=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-white",children:$.title}),$.body&&(0,r.jsx)("p",{children:$.body})]},`${I}-${$.title}`))}),Q.map($=>{let se=$;if($.name==="presetTheme"&&u&&l==="clock"){const ue=[{label:"--- Brand-Based Themes ---",value:"__separator__",disabled:!0},{label:"Brand Monochrome",value:"brand-monochrome"},{label:"Brand Contrast",value:"brand-contrast"},{label:"Brand Vibrant",value:"brand-vibrant"},{label:"Brand Professional",value:"brand-professional"},{label:"Brand Dark",value:"brand-dark"},{label:"Brand Light",value:"brand-light"},{label:"Brand Neon",value:"brand-neon"},{label:"Brand Minimal",value:"brand-minimal"}];se={...$,options:[...$.options,...ue]}}return(0,r.jsx)(Pa,{field:se,value:$.name.includes(".")?Re(m,$.name):m[$.name],onChange:ue=>de($.name,ue)},$.name)})]})]},I)}).filter(Boolean);return z.length===0?(0,r.jsx)("div",{className:"text-xs text-neutral-400 italic",children:a?`No settings match "${T}".`:"No configurable settings available."}):z})()]}),(0,r.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,r.jsx)(Pe,{className:"w-3 h-3"})," Light Mode Colors"]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.lightMode?.textColor||P.colors.graphite,onChange:a=>de("lightMode",{textColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.lightMode?.textColor||P.colors.graphite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.lightMode?.panelColor||P.colors.stardustWhite,onChange:a=>de("lightMode",{panelColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.lightMode?.panelColor||P.colors.stardustWhite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.lightMode?.digitColor||P.colors.nightBlack,onChange:a=>de("lightMode",{digitColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.lightMode?.digitColor||P.colors.nightBlack})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,r.jsx)(Pe,{className:"w-3 h-3"})," Dark Mode Colors"]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.darkMode?.textColor||P.colors.stardustWhite,onChange:a=>de("darkMode",{textColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.darkMode?.textColor||P.colors.stardustWhite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.darkMode?.panelColor||P.colors.graphite,onChange:a=>de("darkMode",{panelColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.darkMode?.panelColor||P.colors.graphite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:m.darkMode?.digitColor||P.colors.stardustWhite,onChange:a=>de("darkMode",{digitColor:a.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:m.darkMode?.digitColor||P.colors.stardustWhite})]})]})]}),(0,r.jsx)("hr",{className:"border-neutral-100"}),l==="clock"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-neutral-100 my-4"}),(0,r.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["üí° ",(0,r.jsx)("strong",{children:"Advanced Clock Features:"})," Full light/dark mode support, 7+ clock styles, and custom fonts available in the full version."]})]})]})]})]})}function qa(){const e=(0,f.useMemo)(()=>new URLSearchParams(window.location.search),[]),o=e.get("embed")==="1",t=e.get("widget"),n=e.get("config"),[d,l]=(0,f.useState)("landing"),[s,h]=(0,f.useState)("clock"),[c,m]=(0,f.useState)(null),[p,u]=(0,f.useState)("landing"),x=g=>{h(g),l("builder")},k=()=>{u(d),l("brand-generator")},j=()=>{l("landing")},T=(0,f.useCallback)(()=>{l(p||"landing")},[p]),_=g=>{m(g)};if((0,f.useEffect)(()=>{const g=localStorage.getItem("jazer_global_brand_theme"),y=localStorage.getItem("jazer_global_brand_active");if(g&&y==="true"){try{m(JSON.parse(g))}catch{}return}const B=localStorage.getItem("jazer_brand_theme");if(B)try{m(JSON.parse(B))}catch{}},[]),o&&t&&Se[t]){const g=Se[t];let y=g.defaultConfig||{};n&&(y=Aa(n)||y);const B=Ma(y,!1),C=g.Component;return(0,r.jsx)("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:B.bg,color:B.text,fontFamily:"sans-serif",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)(C,{config:y,brandTheme:y.brandThemeSnapshot})})})}const v=c?.presetName||c?.name||"Custom Brand Theme";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap');
        ${Fr.jazer.extraCSS}
      `}),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,r.jsx)(Ra,{currentView:d,onNavigateHome:j,onNavigateBuilder:()=>x(s||"clock"),onNavigateBrand:k,selectedWidgetId:s,hasBrandTheme:!!c,brandLabel:v}),(0,r.jsx)("div",{className:"flex-1 w-full",children:d==="landing"?(0,r.jsx)(Ha,{onSelect:x,onBrandGenerator:k}):d==="brand-generator"?(0,r.jsx)(Tr,{children:(0,r.jsx)(Sa,{onBack:T,onThemeGenerated:_})}):(0,r.jsx)(Ga,{initialWidgetId:s,onBack:j,globalBrandTheme:c,onBrandThemeUpdate:_,onLaunchBrandGenerator:k})})]})]})}(0,lo.createRoot)(document.getElementById("root")).render((0,r.jsx)(f.StrictMode,{children:(0,r.jsx)(po,{children:(0,r.jsx)(qa,{})})}));
