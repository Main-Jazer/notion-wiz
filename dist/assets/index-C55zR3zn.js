import{a as Ur,i as ct,n as Ke,r as Jr,t as _e}from"./rolldown-runtime-Dq6TatWD.js";import{$ as Zr,A as Yr,B as Ht,C as dr,D as Qr,E as Kr,F as ur,G as Ye,H as Xr,I as gt,J as Zt,K as wt,L as ot,M as Vr,N as pr,O as $r,P as mr,Q as hr,R as eo,S as xr,T as to,U as Gt,V as ro,W as oo,X as bt,Y as ao,Z as so,_ as gr,a as qt,at as no,b as Mt,c as qe,ct as lo,d as io,et as co,f as uo,g as po,h as nt,i as mo,it as ho,j as xo,k as go,l as Yt,lt as bo,m as fo,n as lt,nt as br,o as fr,ot as Ut,p as Me,q as yo,r as Ie,rt as Te,s as vo,st as wo,t as ko,tt as _o,u as Ue,v as yr,w as Qt,x as Oe,y as vr,z as Se}from"./vendor-GRE5BFWL.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerPolicy&&(c.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?c.credentials="include":d.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(d){if(d.ep)return;d.ep=!0;const c=t(d);fetch(d.href,c)}})();var Co=lo(),h=bo(),ft=function(e,o){return e<o?-1:e>o?1:0},Kt=function(e){return e.reduce(function(o,t){return o+t},0)},jo=(function(){function e(t){this.colors=t}var o=e.prototype;return o.palette=function(){return this.colors},o.map=function(t){return t},e})(),So=(function(){function e(c,a,m){return(c<<10)+(a<<5)+m}function o(c){var a=[],m=!1;function n(){a.sort(c),m=!0}return{push:function(x){a.push(x),m=!1},peek:function(x){return m||n(),x===void 0&&(x=a.length-1),a[x]},pop:function(){return m||n(),a.pop()},size:function(){return a.length},map:function(x){return a.map(x)},debug:function(){return m||n(),a}}}function t(c,a,m,n,x,l,u){var b=this;b.r1=c,b.r2=a,b.g1=m,b.g2=n,b.b1=x,b.b2=l,b.histo=u}function s(){this.vboxes=new o(function(c,a){return ft(c.vbox.count()*c.vbox.volume(),a.vbox.count()*a.vbox.volume())})}function d(c,a){if(a.count()){var m=a.r2-a.r1+1,n=a.g2-a.g1+1,x=Math.max.apply(null,[m,n,a.b2-a.b1+1]);if(a.count()==1)return[a.copy()];var l,u,b,_,I=0,v=[],y=[];if(x==m)for(l=a.r1;l<=a.r2;l++){for(_=0,u=a.g1;u<=a.g2;u++)for(b=a.b1;b<=a.b2;b++)_+=c[e(l,u,b)]||0;v[l]=I+=_}else if(x==n)for(l=a.g1;l<=a.g2;l++){for(_=0,u=a.r1;u<=a.r2;u++)for(b=a.b1;b<=a.b2;b++)_+=c[e(u,l,b)]||0;v[l]=I+=_}else for(l=a.b1;l<=a.b2;l++){for(_=0,u=a.r1;u<=a.r2;u++)for(b=a.g1;b<=a.g2;b++)_+=c[e(u,b,l)]||0;v[l]=I+=_}return v.forEach(function(w,j){y[j]=I-w}),(function(w){var j,k,N,f,E,P=w+"1",Z=w+"2",ce=0;for(l=a[P];l<=a[Z];l++)if(v[l]>I/2){for(N=a.copy(),f=a.copy(),E=(j=l-a[P])<=(k=a[Z]-l)?Math.min(a[Z]-1,~~(l+k/2)):Math.max(a[P],~~(l-1-j/2));!v[E];)E++;for(ce=y[E];!ce&&v[E-1];)ce=y[--E];return N[Z]=E,f[P]=N[Z]+1,[N,f]}})(x==m?"r":x==n?"g":"b")}}return t.prototype={volume:function(c){var a=this;return a._volume&&!c||(a._volume=(a.r2-a.r1+1)*(a.g2-a.g1+1)*(a.b2-a.b1+1)),a._volume},count:function(c){var a=this,m=a.histo;if(!a._count_set||c){var n,x,l,u=0;for(n=a.r1;n<=a.r2;n++)for(x=a.g1;x<=a.g2;x++)for(l=a.b1;l<=a.b2;l++)u+=m[e(n,x,l)]||0;a._count=u,a._count_set=!0}return a._count},copy:function(){var c=this;return new t(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,c.histo)},avg:function(c){var a=this,m=a.histo;if(!a._avg||c){var n,x,l,u,b=0,_=0,I=0,v=0;if(a.r1===a.r2&&a.g1===a.g2&&a.b1===a.b2)a._avg=[a.r1<<3,a.g1<<3,a.b1<<3];else{for(x=a.r1;x<=a.r2;x++)for(l=a.g1;l<=a.g2;l++)for(u=a.b1;u<=a.b2;u++)b+=n=m[e(x,l,u)]||0,_+=n*(x+.5)*8,I+=n*(l+.5)*8,v+=n*(u+.5)*8;a._avg=b?[~~(_/b),~~(I/b),~~(v/b)]:[~~(8*(a.r1+a.r2+1)/2),~~(8*(a.g1+a.g2+1)/2),~~(8*(a.b1+a.b2+1)/2)]}}return a._avg},contains:function(c){var a=this,m=c[0]>>3;return gval=c[1]>>3,bval=c[2]>>3,m>=a.r1&&m<=a.r2&&gval>=a.g1&&gval<=a.g2&&bval>=a.b1&&bval<=a.b2}},s.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var a=this.vboxes,m=0;m<a.size();m++)if(a.peek(m).vbox.contains(c))return a.peek(m).color;return this.nearest(c)},nearest:function(c){for(var a,m,n,x=this.vboxes,l=0;l<x.size();l++)((m=Math.sqrt(Math.pow(c[0]-x.peek(l).color[0],2)+Math.pow(c[1]-x.peek(l).color[1],2)+Math.pow(c[2]-x.peek(l).color[2],2)))<a||a===void 0)&&(a=m,n=x.peek(l).color);return n},forcebw:function(){var c=this.vboxes;c.sort(function(x,l){return ft(Kt(x.color),Kt(l.color))});var a=c[0].color;a[0]<5&&a[1]<5&&a[2]<5&&(c[0].color=[0,0,0]);var m=c.length-1,n=c[m].color;n[0]>251&&n[1]>251&&n[2]>251&&(c[m].color=[255,255,255])}},{quantize:function(c,a){if(!Number.isInteger(a)||a<1||a>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!c.length||a<2||a>256||!c.length||a<2||a>256)return!1;for(var m=[],n=new Set,x=0;x<c.length;x++){var l=c[x],u=l.join(",");n.has(u)||(n.add(u),m.push(l))}if(m.length<=a)return new jo(m);var b=(function(j){var k,N=new Array(32768);return j.forEach(function(f){k=e(f[0]>>3,f[1]>>3,f[2]>>3),N[k]=(N[k]||0)+1}),N})(c);b.forEach(function(){});var _=(function(j,k){var N,f,E,P=1e6,Z=0,ce=1e6,Y=0,xe=1e6,ee=0;return j.forEach(function(oe){(N=oe[0]>>3)<P?P=N:N>Z&&(Z=N),(f=oe[1]>>3)<ce?ce=f:f>Y&&(Y=f),(E=oe[2]>>3)<xe?xe=E:E>ee&&(ee=E)}),new t(P,Z,ce,Y,xe,ee,k)})(c,b),I=new o(function(j,k){return ft(j.count(),k.count())});function v(j,k){for(var N,f=j.size(),E=0;E<1e3;){if(f>=k||E++>1e3)return;if((N=j.pop()).count()){var P=d(b,N),Z=P[0],ce=P[1];if(!Z)return;j.push(Z),ce&&(j.push(ce),f++)}else j.push(N),E++}}I.push(_),v(I,.75*a);for(var y=new o(function(j,k){return ft(j.count()*j.volume(),k.count()*k.volume())});I.size();)y.push(I.pop());v(y,a);for(var w=new s;y.size();)w.push(y.pop());return w}}})().quantize,wr=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};wr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Ze=function(){};Ze.prototype.getColor=function(e,o){return o===void 0&&(o=10),this.getPalette(e,5,o)[0]},Ze.prototype.getPalette=function(e,o,t){var s=(function(a){var m=a.colorCount,n=a.quality;if(m!==void 0&&Number.isInteger(m)){if(m===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");m=Math.max(m,2),m=Math.min(m,20)}else m=10;return(n===void 0||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:m,quality:n}})({colorCount:o,quality:t}),d=new wr(e),c=So((function(a,m,n){for(var x,l,u,b,_,I=a,v=[],y=0;y<m;y+=n)l=I[0+(x=4*y)],u=I[x+1],b=I[x+2],((_=I[x+3])===void 0||_>=125)&&(l>250&&u>250&&b>250||v.push([l,u,b]));return v})(d.getImageData().data,d.width*d.height,s.quality),s.colorCount);return c?c.palette():null},Ze.prototype.getColorFromUrl=function(e,o,t){var s=this,d=document.createElement("img");d.addEventListener("load",function(){o(s.getPalette(d,5,t)[0],e)}),d.src=e},Ze.prototype.getImageData=function(e,o){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var d=new Array(i),c=0;c<s.length;c++)d[c]=String.fromCharCode(s[c]);var a=d.join("");o("data:image/png;base64,"+window.btoa(a))}},t.send()},Ze.prototype.getColorAsync=function(e,o,t){var s=this;this.getImageData(e,function(d){var c=document.createElement("img");c.addEventListener("load",function(){o(s.getPalette(c,5,t)[0],this)}),c.src=d})};var he={electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},kr={deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},at={heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},Lt='"Montserrat", system-ui, sans-serif',st={h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},Ne={letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)"},kt={gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)"},_r={minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}};const Je={colors:he,ui:kr,fonts:at,fontFamily:Lt,sizes:st,glowBlur:Ne.glowBlur,glowBlurSubtle:Ne.glowBlurSubtle,glow:Ne.glow,glowStrong:Ne.glowStrong,gradient:kt.gradient,borderGradient:kt.borderGradient,logo:_r},O={id:"jazer-neon",name:"JaZeR Neon",colors:he,ui:kr,fonts:at,fontFamily:Lt,sizes:st,effects:Ne,gradients:kt,logo:_r,fontLinks:`
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
  `,cssVariables:`:root {
    --jazer-electric-purple: ${he.electricPurple};
    --jazer-cosmic-blue: ${he.cosmicBlue};
    --jazer-neon-pink: ${he.neonPink};
    --jazer-sunburst-gold: ${he.sunburstGold};
    --jazer-aether-teal: ${he.aetherTeal};
    --jazer-ultraviolet: ${he.ultraviolet};
    --jazer-night-black: ${he.nightBlack};
    --jazer-stardust-white: ${he.stardustWhite};
    --jazer-graphite: ${he.graphite};
    --jazer-soft-slate: ${he.softSlate};
    
    --jazer-glow-blur: ${Ne.glowBlur};
    --jazer-glow-purple: ${Ne.glow};
  }`,extraCSS:`
  body {
    background-color: ${he.nightBlack};
    color: ${he.stardustWhite};
    font-family: ${Lt};
  }

  .neon-text { 
    font-family: "${at.heading}", system-ui, sans-serif; 
    color: ${he.stardustWhite}; 
    text-shadow: ${Ne.glow}; 
    letter-spacing: ${Ne.letterSpacing}; 
  }
  .neon-gradient-text { 
    font-family: "${at.heading}", system-ui, sans-serif; 
    background: ${kt.gradient}; 
    -webkit-background-clip: text; 
    background-clip: text; 
    color: transparent; 
    text-shadow: ${Ne.glow}; 
    letter-spacing: ${Ne.letterSpacing}; 
  }
  h1, h2, h3 { letter-spacing: ${Ne.letterSpacing}; font-family: "${at.heading}", system-ui, sans-serif; } 
  h1 { font-size: ${st.h1}; }
  h2 { font-size: ${st.h2}; color: ${he.electricPurple}; }
  h3 { font-size: ${st.h3}; color: ${he.cosmicBlue}; } 
  
  button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${he.cosmicBlue}; outline-offset: 2px; }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 10px; }
  ::-webkit-scrollbar-track { background: ${he.nightBlack}; }
  ::-webkit-scrollbar-thumb { background: ${he.graphite}; border-radius: 5px; border: 1px solid ${he.nightBlack}; }
  ::-webkit-scrollbar-thumb:hover { background: ${he.softSlate}; }
  
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes roulette { 
    0% { transform: translateY(-20px); opacity: 0; } 
    100% { transform: translateY(0); opacity: 1; } 
  }
  `},No={id:"counter",label:"Counter",description:"Track habits and count things",defaultConfig:{counterTitle:"Counter",preferredIcons:"plusMinus",counterSize:"medium",centerText:!0,textShadows:!1,transparentBg:!1,backgroundColor:O.colors.stardustWhite,hideResetButton:!1,step:1,minValue:null,maxValue:null,resetValue:0,textColorLight:O.colors.nightBlack,textColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"counterTitle",label:"Counter Title",type:"text",section:"settings"},{name:"preferredIcons",label:"Preferred Icons",type:"select",section:"settings",options:[{label:"Plus and Minus",value:"plusMinus"},{label:"Arrows",value:"arrows"}]},{name:"counterSize",label:"Counter Size",type:"select",section:"settings",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"centerText",label:"Center Text",type:"boolean",section:"style"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"style"},{name:"transparentBg",label:"Use Transparent Background",type:"boolean",section:"style"},{name:"backgroundColor",label:"Background Color",type:"color",section:"style"},{name:"hideResetButton",label:"Hide Reset Button",type:"boolean",section:"behavior"},{name:"step",label:"Step",type:"number",section:"behavior"},{name:"minValue",label:"Min Value",type:"number",section:"behavior"},{name:"maxValue",label:"Max Value",type:"number",section:"behavior"},{name:"resetValue",label:"Reset Value",type:"number",section:"behavior"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Cr=(0,h.createContext)(),dt=()=>{const e=(0,h.useContext)(Cr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};var r=ko();const To=({config:e,onCustomizeRequest:o})=>{const{getColor:t}=dt(),[s,d]=(0,h.useState)(e.resetValue||0),[c,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const I=window.matchMedia("(prefers-color-scheme: dark)"),v=y=>a(y.matches);return I.addEventListener("change",v),()=>I.removeEventListener("change",v)},[e.appearanceMode]);const m=(0,h.useMemo)(()=>e.appearanceMode==="system"?c:e.appearanceMode==="dark",[e.appearanceMode,c]),n={small:{container:"text-4xl p-4",button:"text-2xl px-3 py-1",title:"text-sm"},medium:{container:"text-6xl p-6",button:"text-3xl px-4 py-2",title:"text-base"},large:{container:"text-8xl p-8",button:"text-4xl px-5 py-2",title:"text-lg"},xlarge:{container:"text-9xl p-10",button:"text-5xl px-6 py-3",title:"text-xl"}},x=n[e.counterSize]||n.medium,l=m?e.textColorDark||t("stardustWhite"):e.textColorLight||t("graphite"),u=e.transparentBg?"transparent":e.backgroundColor||t("stardustWhite"),b={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"‚Üë",decrement:"‚Üì"}},_=b[e.preferredIcons]||b.plusMinus;return(0,r.jsxs)("div",{style:{backgroundColor:u,color:l,textAlign:e.centerText?"center":"left",textShadow:e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none",borderRadius:"8px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:e.centerText?"center":"flex-start"},className:`${x.container} relative`,children:[(0,r.jsx)("div",{className:`font-bold mb-4 ${x.title}`,children:e.counterTitle}),(0,r.jsx)("div",{className:"font-bold mb-6",children:s}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>d(I=>{const v=I-(e.step||1);return e.minValue!==null&&v<e.minValue?e.minValue:v}),className:`${x.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l,border:`2px solid ${l}`},children:_.decrement}),(0,r.jsx)("button",{onClick:()=>d(I=>{const v=I+(e.step||1);return e.maxValue!==null&&v>e.maxValue?e.maxValue:v}),className:`${x.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l,border:`2px solid ${l}`},children:_.increment}),!e.hideResetButton&&(0,r.jsx)("button",{onClick:()=>d(e.resetValue||0),className:`${x.button} rounded-lg hover:opacity-80 transition-opacity text-sm`,style:{backgroundColor:m?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:l,border:`1px solid ${l}`},children:"Reset"})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-xs font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>o?.("features"),children:"Customize"})]})};var Xt=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const Fo=e=>{const o={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"‚Üë",decrement:"‚Üì"}},t=o[e.preferredIcons]||o.plusMinus;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${Xt(e.counterTitle)}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      background: ${e.transparentBg?"transparent":e.backgroundColor};
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .counter-container {
      text-align: ${e.centerText?"center":"left"};
      color: ${e.textColorLight};
      padding: ${e.counterSize==="small"?"1rem":e.counterSize==="large"?"2rem":e.counterSize==="xlarge"?"2.5rem":"1.5rem"};
    }
    .counter-title {
      font-size: ${e.counterSize==="small"?"0.875rem":e.counterSize==="large"?"1.125rem":e.counterSize==="xlarge"?"1.25rem":"1rem"};
      font-weight: bold;
      margin-bottom: 1rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-value {
      font-size: ${e.counterSize==="small"?"2.25rem":e.counterSize==="large"?"6rem":e.counterSize==="xlarge"?"8rem":"3.75rem"};
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-buttons {
      display: flex;
      gap: 1rem;
      justify-content: ${e.centerText?"center":"flex-start"};
    }
    button {
      font-size: ${e.counterSize==="small"?"1.5rem":e.counterSize==="large"?"2.25rem":e.counterSize==="xlarge"?"3rem":"1.875rem"};
      padding: ${e.counterSize==="small"?"0.25rem 0.75rem":e.counterSize==="large"?"0.5rem 1.25rem":e.counterSize==="xlarge"?"0.75rem 1.5rem":"0.5rem 1rem"};
      border-radius: 0.5rem;
      border: 2px solid currentColor;
      background: rgba(0,0,0,0.1);
      cursor: pointer;
      transition: opacity 0.2s;
    }
    button:hover { opacity: 0.8; }
    button.reset {
      font-size: 0.875rem;
      border-width: 1px;
      background: rgba(0,0,0,0.05);
    }
    @media (prefers-color-scheme: dark) {
      .counter-container { color: ${e.textColorDark}; }
      button { background: rgba(255,255,255,0.2); }
      button.reset { background: rgba(255,255,255,0.1); }
    }
  </style>
</head>
<body>
  <div class="counter-container">
    <div class="counter-title">${Xt(e.counterTitle)}</div>
    <div class="counter-value" id="count">0</div>
    <div class="counter-buttons">
      <button onclick="changeCount(-1)">${t.decrement}</button>
      <button onclick="changeCount(1)">${t.increment}</button>
      ${e.hideResetButton?"":'<button class="reset" onclick="resetCount()">Reset</button>'}
    </div>
  </div>
  <script>
    let count = parseInt(localStorage.getItem('counter_value') || '0');
    document.getElementById('count').textContent = count;
    
    function changeCount(delta) {
      count += delta;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
    
    function resetCount() {
      count = 0;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
  <\/script>
</body>
</html>`},Io=()=>"",Bo={id:"imageGallery",label:"Image Gallery",description:"Dynamic image gallery with advanced controls.",defaultConfig:{images:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e","https://images.unsplash.com/photo-1506744038136-462a42ee7a1b"],captions:[],minImagesRequired:1,sizingMode:"cover",animateGallerySpeedToggle:!1,scrollSpeed:"1s",dotsIndicator:!0,overlayArrows:!1,slideBackgroundColor:O.colors.stardustWhite,textColor:O.colors.nightBlack,dropShadows:!1,transparentBackground:!1,setBackgroundColor:!0,arrowColorLight:O.colors.graphite,arrowColorDark:O.colors.stardustWhite,dotsColorLight:O.colors.graphite,dotsColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"images",label:"Image URLs (one per line)",type:"textarea",section:"imageManagement"},{name:"captions",label:"Image Captions (one per line)",type:"textarea",section:"imageManagement"},{name:"sizingMode",label:"Image Sizing Mode",type:"select",section:"imageDisplay",options:[{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"Wrap Around Image Size",value:"wrap"}]},{name:"animateGallerySpeedToggle",label:"Animate Gallery Speed",type:"boolean",section:"animationControls"},{name:"scrollSpeed",label:"Scroll Speed",type:"select",section:"animationControls",options:[{label:"Very Slow (3s)",value:"3s"},{label:"Slow (2s)",value:"2s"},{label:"Regular (1s)",value:"1s"},{label:"Fast (0.5s)",value:"0.5s"},{label:"Very Fast (0.3s)",value:"0.3s"},{label:"Extremely Fast (0.2s)",value:"0.2s"},{label:"Warp Speed (0.1s)",value:"0.1s"}]},{name:"dotsIndicator",label:"Show Dots Indicator",type:"boolean",section:"navigation"},{name:"overlayArrows",label:"Show Overlay Arrows",type:"boolean",section:"navigation"},{name:"slideBackgroundColor",label:"Slide Background Color",type:"color",section:"style"},{name:"textColor",label:"Text Color",type:"color",section:"style"},{name:"dropShadows",label:"Drop Shadows",type:"boolean",section:"style"},{name:"transparentBackground",label:"Transparent Background",type:"boolean",section:"style"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"style"},{name:"arrowColorLight",label:"Arrow Color (Light Mode)",type:"color",section:"colors"},{name:"arrowColorDark",label:"Arrow Color (Dark Mode)",type:"color",section:"colors"},{name:"dotsColorLight",label:"Dots Color (Light Mode)",type:"color",section:"colors"},{name:"dotsColorDark",label:"Dots Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Ao=({config:e,onCustomizeRequest:o})=>{const t=(e.images||[]).filter(Boolean),[s,d]=(0,h.useState)(0),[c,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[m,n]=(0,h.useState)(!1),x=(0,h.useMemo)(()=>{const y=parseFloat(e.scrollSpeed);return(Number.isFinite(y)&&y>0?y:5)*1e3},[e.scrollSpeed]);(0,h.useEffect)(()=>{if(typeof window>"u")return;const y=window.matchMedia("(prefers-color-scheme: dark)"),w=j=>a(j.matches);return y.addEventListener("change",w),()=>y.removeEventListener("change",w)},[]);const l=(0,h.useMemo)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:c,[e.appearanceMode,c]);if((0,h.useEffect)(()=>{let y=requestAnimationFrame(()=>{});return t.length===0?y=requestAnimationFrame(()=>d(0)):y=requestAnimationFrame(()=>{d(w=>Math.min(w,t.length-1))}),()=>cancelAnimationFrame(y)},[t.length]),(0,h.useEffect)(()=>{if(e.animateGallerySpeedToggle&&t.length>1){const w=setInterval(()=>{d(j=>(j+1)%t.length)},x);return()=>clearInterval(w)}},[e.animateGallerySpeedToggle,t.length,x]),t.length===0)return(0,r.jsx)("div",{className:"flex items-center justify-center h-full w-full text-neutral-500",children:"No images configured. Please add at least one image URL."});const u=()=>{n(!1),d(y=>(y+1)%t.length)},b=()=>{n(!1),d(y=>(y-1+t.length)%t.length)},_=t[s],I=l?e.arrowColorDark:e.arrowColorLight,v=l?e.dotsColorDark:e.dotsColorLight;return(0,r.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",style:{backgroundColor:e.transparentBackground?"transparent":e.slideBackgroundColor,boxShadow:e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none"},children:[m?(0,r.jsx)("div",{className:"flex items-center justify-center h-full w-full bg-neutral-200 text-neutral-500",children:"Error loading image."}):(0,r.jsx)("img",{src:_,alt:"Gallery Image",className:"max-w-full max-h-full transition-opacity duration-500",style:{objectFit:e.sizingMode==="wrap"?"unset":e.sizingMode,height:"100%"},onError:()=>n(!0),onLoad:()=>n(!1)}),e.overlayArrows&&t.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:I},children:"<"}),(0,r.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:I},children:">"})]}),e.dotsIndicator&&t.length>1&&(0,r.jsx)("div",{className:"absolute bottom-4 flex gap-2",children:t.map((y,w)=>(0,r.jsx)("span",{className:`block w-3 h-3 rounded-full ${w===s?"opacity-100":"opacity-50"}`,style:{backgroundColor:v,cursor:"pointer"},onClick:()=>d(w)},w))}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white",onClick:()=>o?.("imageManagement"),children:"Customize"})]})};var zo=e=>typeof e!="string"?e:e.replace(/[&<>'"]/,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const Mo=e=>{const o=e.images.filter(Boolean);if(o.length===0)return`<div style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; color: ${O.colors.softSlate};">No images configured.</div>`;const t=e.appearanceMode==="dark"?e.arrowColorDark:e.arrowColorLight,s=e.appearanceMode==="dark"?e.dotsColorDark:e.dotsColorLight,d=e.transparentBackground?"transparent":e.slideBackgroundColor,c=e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none",a=parseFloat(e.scrollSpeed)*1e3;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Widget</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        .gallery-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: ${d};
            box-shadow: ${c};
            overflow: hidden;
        }
        .gallery-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: ${e.sizingMode==="wrap"?"unset":e.sizingMode};
            display: none; /* Controlled by JS */
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            height: 100%;
        }
        .gallery-image.active { display: block; opacity: 1; }
        .gallery-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: ${t};
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            border: none;
            z-index: 10;
        }
        .gallery-nav-arrow.left { left: 1rem; }
        .gallery-nav-arrow.right { right: 1rem; }
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .gallery-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: ${s};
            opacity: 0.5;
            cursor: pointer;
        }
        .gallery-dot.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="gallery-container">
        ${o.map((m,n)=>`<img src="${zo(m)}" class="gallery-image ${n===0?"active":""}" alt="Gallery Image ${n+1}">`).join("")}
        
        ${e.overlayArrows&&o.length>1?`
          <button class="gallery-nav-arrow left" onclick="prevImage()"></button>
          <button class="gallery-nav-arrow right" onclick="nextImage()">></button>
        `:""}

        ${e.dotsIndicator&&o.length>1?`
          <div class="gallery-dots">
            ${o.map((m,n)=>`<span class="gallery-dot ${n===0?"active":""}" onclick="goToImage(${n})"></span>`).join("")}
          </div>
        `:""}
    </div>
    <script>
        const images = ${JSON.stringify(o)};
        let currentIndex = 0;
        const galleryImages = document.querySelectorAll('.gallery-image');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        const animateGallery = ${e.animateGallerySpeedToggle};
        const scrollSpeed = ${a};
        let intervalId;

        function updateGallery() {
            galleryImages.forEach((img, idx) => {
                img.classList.toggle('active', idx === currentIndex);
            });
            galleryDots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === currentIndex);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updateGallery();
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateGallery();
        }

        function goToImage(index) {
            currentIndex = index;
            updateGallery();
        }

        if (animateGallery && images.length > 1) {
            intervalId = setInterval(nextImage, scrollSpeed);
        }

        // Initial display
        updateGallery();

        // Clear interval on window unload to prevent memory leaks (important for iframes)
        window.addEventListener('beforeunload', () => {
          if (intervalId) clearInterval(intervalId);
        });
    <\/script>
</body>
</html>`},Lo=()=>"",Eo={id:"quotes",label:"Quotes",description:"Dynamic quotes from Instagram with custom styling and typography.",defaultConfig:{instagramAccount:"positivemindsetdaily",quoteText:"Design is how it works.",author:"Steve Jobs",showRefreshIcon:!0,autoRefreshInterval:0,useQuoteAPI:!0,useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:"jazerNeonTheme.colors.stardustWhite",quoteTextFont:"body",attributionFont:"heading",textAlign:"center",textShadows:!1,textColorLight:"jazerNeonTheme.colors.nightBlack",textColorDark:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundLight:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundDark:"jazerNeonTheme.ui.deepSpace",refreshIconColor:"jazerNeonTheme.colors.electricPurple",authorColor:"jazerNeonTheme.colors.aetherTeal",appearanceMode:"system",gradientQuoteText:!1,gradientQuoteCardBorder:!1,glowQuoteCard:!1,glowRefreshIconHover:!1,useGradientRefreshIcon:!1,showHoverMenu:!0,showCustomizeButton:!0,fontSize:32,glowEffect:!1,gradientText:!1},fields:[{name:"instagramAccount",label:"Instagram Account",type:"text",section:"contentSource",placeholder:"positivemindsetdaily"},{name:"quoteText",label:"Quote Text",type:"textarea",section:"contentSource"},{name:"author",label:"Author",type:"text",section:"contentSource"},{name:"showRefreshIcon",label:"Show Refresh Icon",type:"boolean",section:"displayOptions"},{name:"useQuoteAPI",label:"Fetch Quotes from API",type:"boolean",section:"displayOptions"},{name:"autoRefreshInterval",label:"Auto-refresh Interval",type:"select",section:"displayOptions",options:[{label:"Disabled",value:0},{label:"1 Minute",value:1},{label:"5 Minutes",value:5},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"background"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"background"},{name:"backgroundColor",label:"Background Color",type:"color",section:"background"},{name:"quoteTextFont",label:"Quote Text Font",type:"select",section:"typography",options:[{label:"Default (Body)",value:"body"},{label:"Heading",value:"heading"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"attributionFont",label:"Attribution Font",type:"select",section:"typography",options:[{label:"Default (Heading)",value:"heading"},{label:"Body",value:"body"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"quoteBackgroundLight",label:"Quote Background (Light)",type:"color",section:"colors"},{name:"quoteBackgroundDark",label:"Quote Background (Dark)",type:"color",section:"colors"},{name:"refreshIconColor",label:"Refresh Icon Color",type:"color",section:"colors"},{name:"authorColor",label:"Author Color",type:"color",section:"colors"},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"do-nothing"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"gradientQuoteText",label:"Gradient Quote Text",type:"boolean",section:"effects"},{name:"gradientQuoteCardBorder",label:"Gradient Quote Card Border",type:"boolean",section:"effects"},{name:"glowQuoteCard",label:"Glow Effect on Quote Card",type:"boolean",section:"effects"},{name:"glowRefreshIconHover",label:"Glow on Refresh Icon Hover",type:"boolean",section:"effects"},{name:"useGradientRefreshIcon",label:"Use Gradient for Refresh Icon",type:"boolean",section:"effects"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Do=({config:e,onCustomizeRequest:o})=>{const{theme:t}=dt(),[s,d]=(0,h.useState)({text:e.quoteText,author:e.author}),[c,a]=(0,h.useState)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:e.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[m,n]=(0,h.useState)(!1),x=(0,h.useRef)(!0);(0,h.useEffect)(()=>()=>{x.current=!1},[]),(0,h.useEffect)(()=>{if(e.appearanceMode==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),E=P=>a(P.matches);return f.addEventListener("change",E),()=>f.removeEventListener("change",E)}else e.appearanceMode==="dark"?a(!0):e.appearanceMode==="light"&&a(!1)},[e.appearanceMode]),(0,h.useEffect)(()=>{d({text:e.quoteText,author:e.author})},[e.quoteText,e.author]);const l=(0,h.useCallback)(async f=>{if(e.useQuoteAPI){n(!0);try{const E=await fetch("https://api.quotable.io/random",{signal:f});if(!E.ok)throw new Error("Failed to fetch quote");const P=await E.json();!f?.aborted&&x.current&&d({text:P.content,author:P.author})}catch(E){E.name}finally{!f?.aborted&&x.current&&n(!1)}}},[e.useQuoteAPI]);(0,h.useEffect)(()=>{if(!e.useQuoteAPI)return;const f=new AbortController;return l(f.signal),()=>f.abort()},[e.useQuoteAPI,l]),(0,h.useEffect)(()=>{if(!e.useQuoteAPI||e.autoRefreshInterval<=0)return;const f=setInterval(()=>{l()},e.autoRefreshInterval*60*1e3);return()=>clearInterval(f)},[e.autoRefreshInterval,e.useQuoteAPI,l]);const u=f=>({body:t.fonts.body,heading:t.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[f]||t.fonts.body,b=c?e.textColorDark:e.textColorLight,_=c?e.quoteBackgroundDark:e.quoteBackgroundLight,I=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:_,v=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",y={fontSize:`${e.fontSize}px`,fontFamily:u(e.quoteTextFont),fontStyle:"italic",lineHeight:"1.6",textShadow:v,...e.gradientQuoteText&&{background:t.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},w={fontFamily:u(e.attributionFont),color:e.authorColor,fontSize:"14px",fontWeight:"bold",opacity:.7,textTransform:"uppercase",letterSpacing:"2px",textShadow:v},j={background:I,color:(e.gradientQuoteText,b),textAlign:e.textAlign,padding:"48px",borderRadius:"16px",...e.gradientQuoteCardBorder&&{border:"2px solid transparent",backgroundImage:`${t.gradients.gradient}, ${I}`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},...e.glowQuoteCard&&{boxShadow:t.effects.glow}},k={marginTop:"16px",padding:"12px",borderRadius:"50%",backgroundColor:e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`,border:e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none",color:e.refreshIconColor,cursor:"pointer",transition:"all 0.3s ease",...e.useGradientRefreshIcon&&{background:t.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},N=e.glowRefreshIconHover?{filter:`drop-shadow(${t.effects.glow})`}:{};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 relative",style:{background:I,color:b},children:[m&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 backdrop-blur-sm z-10 rounded-lg",children:(0,r.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:t.fonts.heading},children:"Loading..."})}),(0,r.jsxs)("div",{style:j,className:"max-w-3xl w-full",children:[(0,r.jsxs)("p",{className:"mb-6",style:y,children:['"',s.text,'"']}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsxs)("span",{style:w,children:["‚Äî ",s.author]}),e.instagramAccount&&(0,r.jsxs)("a",{href:`https://www.instagram.com/${e.instagramAccount}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs opacity-50 hover:opacity-100 hover:underline transition-opacity",style:{color:b},children:[(0,r.jsx)(xo,{className:"w-3 h-3"}),"@",e.instagramAccount]})]}),e.showRefreshIcon&&(0,r.jsx)("button",{onClick:()=>l(),className:"mx-auto hover:scale-110 transition-transform",style:k,onMouseEnter:f=>{e.glowRefreshIconHover&&Object.assign(f.currentTarget.style,N)},onMouseLeave:f=>{e.glowRefreshIconHover&&(f.currentTarget.style.filter="none")},"aria-label":"Refresh Quote",disabled:m||!e.useQuoteAPI,children:(0,r.jsx)(gr,{className:`w-5 h-5 ${m?"animate-spin":""}`})})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:t.colors.cosmicBlue,color:t.colors.stardustWhite,fontFamily:t.fonts.heading},onClick:()=>o?.("contentSource"),children:"Customize"})]})};var ke=O,et=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},Vt=e=>({body:ke.fonts.body,heading:ke.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[e]||ke.fonts.body;const Po=e=>{const o=e.appearanceMode==="dark",t=o?e.textColorDark:e.textColorLight,s=o?e.quoteBackgroundDark:e.quoteBackgroundLight,d=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:s,c=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",a=`
    font-size: ${e.fontSize}px;
    font-family: ${Vt(e.quoteTextFont)};
    font-style: italic;
    line-height: 1.6;
    text-shadow: ${c};
    ${e.gradientQuoteText?`
      background: ${ke.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:`color: ${t};`}
  `,m=`
    background: ${d};
    color: ${t};
    text-align: ${e.textAlign};
    padding: 48px;
    border-radius: 16px;
    max-width: 768px;
    width: 100%;
    ${e.gradientQuoteCardBorder?`
      border: 2px solid transparent;
      background-image: ${ke.gradients.gradient}, ${d};
      background-origin: border-box;
      background-clip: padding-box, border-box;
    `:""}
    ${e.glowQuoteCard?`box-shadow: ${ke.effects.glow};`:""}
  `,n=`
    margin-top: 16px;
    padding: 12px;
    border-radius: 50%;
    background-color: ${e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`};
    border: ${e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none"};
    color: ${e.refreshIconColor};
    cursor: pointer;
    transition: all 0.3s ease;
    ${e.useGradientRefreshIcon?`
      background: ${ke.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:""}
  `;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${et(e.author)} - Quote Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: ${d};
      font-family: ${ke.fonts.body};
      padding: 32px;
    }

    .quote-card {
      ${m}
    }

    .quote-text {
      ${a}
      margin-bottom: 24px;
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .author {
      font-family: ${Vt(e.attributionFont)};
      color: ${e.authorColor};
      font-size: 14px;
      font-weight: bold;
      opacity: 0.7;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: ${c};
    }

    .instagram-link {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      opacity: 0.5;
      color: ${t};
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .instagram-link:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .refresh-button {
      ${n}
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .refresh-button:hover {
      transform: scale(1.1);
      ${e.glowRefreshIconHover?`filter: drop-shadow(${ke.effects.glow});`:""}
    }

    .refresh-button:active {
      transform: scale(0.95);
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      background-color: ${ke.colors.cosmicBlue};
      color: ${ke.colors.stardustWhite};
      font-family: ${ke.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 16px;
      z-index: 10;
    }

    .loading-text {
      font-size: 20px;
      font-weight: bold;
      font-family: ${ke.fonts.heading};
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body { background: ${e.quoteBackgroundDark}; }
        .quote-card { background: ${e.quoteBackgroundDark}; color: ${e.textColorDark}; }
        .instagram-link { color: ${e.textColorDark}; }
      `:""}
    }
  </style>
</head>
<body>
  <div class="quote-card" id="quote-card">
    <div id="loading" class="loading" style="display: none;">
      <span class="loading-text">Loading...</span>
    </div>

    <p class="quote-text" id="quote-text">
      "${et(e.quoteText)}"
    </p>

    <div class="attribution">
      <span class="author" id="author">
        ‚Äî ${et(e.author)}
      </span>

      ${e.instagramAccount?`
        <a href="https://www.instagram.com/${et(e.instagramAccount)}"
           target="_blank"
           rel="noopener noreferrer"
           class="instagram-link">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
          @${et(e.instagramAccount)}
        </a>
      `:""}
    </div>

    ${e.showRefreshIcon?`
      <button class="refresh-button" id="refresh-btn" onclick="fetchQuote()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.8L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.8L21 16"/><path d="M21 21v-5h-5"/></svg>
      </button>
    `:""}
  </div>

  ${e.showCustomizeButton?`
    <button class="customize-button">
      Customize
    </button>
  `:""}

  <script>
    ${jr(e)}
  <\/script>
</body>
</html>`},jr=()=>`
    const exampleQuotes = [
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
      { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
      { text: "Life is 10% what happens to you and 90% how you react to it.", author: "Charles R. Swindoll" },
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" }
    ];

    function fetchQuote() {
      const loading = document.getElementById('loading');
      const quoteText = document.getElementById('quote-text');
      const author = document.getElementById('author');

      loading.style.display = 'flex';

      setTimeout(() => {
        const randomQuote = exampleQuotes[Math.floor(Math.random() * exampleQuotes.length)];
        quoteText.textContent = '"' + randomQuote.text + '"';
        author.textContent = '‚Äî ' + randomQuote.author;
        loading.style.display = 'none';
      }, 500);
    }
  `,Wo={id:"weather",label:"Weather",description:"Dynamic weather widget with forecast and customization.",sections:[{id:"locationSettings",label:"Location Settings",icon:"üìç",order:1},{id:"displayConfiguration",label:"Display Configuration",icon:"üìä",order:2},{id:"forecastOptions",label:"Forecast Options",icon:"üìÖ",order:3},{id:"layoutOptions",label:"Layout Options",icon:"üìê",order:4},{id:"appearance",label:"Appearance",icon:"üé®",order:5},{id:"typography",label:"Typography",icon:"üî§",order:6},{id:"background",label:"Background",icon:"üñºÔ∏è",order:7},{id:"theme",label:"Preset Themes",icon:"üé≠",order:8},{id:"effects",label:"Effects",icon:"‚ú®",order:9},{id:"features",label:"Additional Features",icon:"‚öôÔ∏è",order:10}],defaultConfig:{weatherLocation:"Austin, TX",useGeolocation:!0,preferredUnits:"imperial",numberOfDays:5,currentWeatherFields:["temperature","condition","humidity","wind"],dailyWeatherFields:["high","low","condition","precipitation"],hideTodayInForecast:!1,displayDates:!1,orientation:"auto",widgetSize:"medium",animateIcons:!0,greyscaleIcons:!1,textShadows:!1,fontScale:1,appearanceMode:"system",useTransparentBackground:!1,textColorLight:O.colors.graphite,textColorDark:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack,setBackgroundColor:!1,theme:{light:{textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},dark:{textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack}},textFontFamily:"default",googleFont:"none",textAlign:"center",backgroundTexture:"none",presetTheme:"none",glowEffect:!1,gradientText:!1,visuallyGroupForecast:!1,showHoverMenu:!0,showCustomizeButton:!0,timeFormat:"12h",showSevereAlerts:!0},validation:{weatherLocation:{required:!0,type:"string",minLength:2},currentWeatherFields:{required:!0,type:"array",minItems:1,maxItems:6},dailyWeatherFields:{required:!0,type:"array",minItems:1},numberOfDays:{type:"number",min:3,max:10},fontScale:{type:"number",min:.8,max:1.2,step:.1}},fields:[{name:"weatherLocation",label:"Weather Location",type:"text",section:"locationSettings",placeholder:"City, State or ZIP",helpText:"Uses free Open-Meteo API - no key required",required:!0},{name:"useGeolocation",label:"Auto-Detect Location",type:"boolean",section:"locationSettings",helpText:"Automatically detect user location (requires permission)"},{name:"preferredUnits",label:"Preferred Units",type:"select",section:"locationSettings",options:[{label:"Imperial (¬∞F, mph)",value:"imperial"},{label:"Metric (¬∞C, km/h)",value:"metric"}]},{name:"numberOfDays",label:"Number of Days",type:"select",section:"locationSettings",options:[{label:"3 Days",value:3},{label:"5 Days",value:5},{label:"7 Days",value:7},{label:"10 Days",value:10}]},{name:"currentWeatherFields",label:"Current Weather Fields",type:"multiselect",section:"displayConfiguration",helpText:"Select 1-6 fields to display",maxItems:6,options:[{label:"Temperature",value:"temperature"},{label:"Condition",value:"condition"},{label:"Humidity",value:"humidity"},{label:"Wind Speed",value:"wind"},{label:"Feels Like",value:"feelsLike"},{label:"UV Index",value:"uvIndex"},{label:"Cloud Cover",value:"cloudCover"},{label:"Pressure",value:"pressure"},{label:"Visibility",value:"visibility"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"dailyWeatherFields",label:"Daily Weather Fields",type:"multiselect",section:"displayConfiguration",options:[{label:"High Temp",value:"high"},{label:"Low Temp",value:"low"},{label:"Condition",value:"condition"},{label:"Precipitation",value:"precipitation"},{label:"Wind",value:"wind"},{label:"UV Index",value:"uvIndex"},{label:"Humidity",value:"humidity"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"hideTodayInForecast",label:"Hide Today in Forecast",type:"boolean",section:"forecastOptions",helpText:"Show forecast starting from tomorrow"},{name:"displayDates",label:"Display Dates",type:"boolean",section:"forecastOptions",helpText:"Show dates alongside day names"},{name:"orientation",label:"Orientation",type:"select",section:"layoutOptions",options:[{label:"Auto (Responsive)",value:"auto"},{label:"Horizontal",value:"horizontal"},{label:"Compact",value:"compact"},{label:"Wide",value:"wide"}]},{name:"widgetSize",label:"Widget Size",type:"select",section:"layoutOptions",helpText:"Control the overall dimensions of the widget",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}]},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",helpText:"Control light/dark mode behavior",options:[{label:"Use System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"appearance",helpText:"Override background colors with transparency"},{name:"theme.light.textColor",label:"Light Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.light.backgroundColor",label:"Light Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.textColor",label:"Dark Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.backgroundColor",label:"Dark Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"animateIcons",label:"Animate Weather Icons",type:"boolean",section:"appearance"},{name:"greyscaleIcons",label:"Greyscale Icons",type:"boolean",section:"appearance"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"appearance",helpText:"Add subtle shadows for better readability"},{name:"fontScale",label:"Font Scale",type:"range",section:"appearance",min:.8,max:1.2,step:.1},{name:"textFontFamily",label:"Base Font Style",type:"select",section:"typography",options:[{label:"Default (Sans-serif)",value:"default"},{label:"Serif",value:"serif"},{label:"Monospace",value:"mono"}]},{name:"googleFont",label:"Google Font Override",type:"select",section:"typography",helpText:"Apply a custom Google Font (overrides base font)",options:[{label:"None",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",helpText:"Add a subtle pattern overlay",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",helpText:"Quick-apply a pre-designed theme (overrides custom colors)",options:[{label:"None (Use Custom Settings)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects",helpText:"Add a subtle glow around elements"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects",helpText:"Apply color gradients to text"},{name:"visuallyGroupForecast",label:"Visually Group Forecast",type:"boolean",section:"features",helpText:"Add visual separation between forecast days"},{name:"timeFormat",label:"Time Format",type:"select",section:"features",options:[{label:"12-hour (AM/PM)",value:"12h"},{label:"24-hour",value:"24h"}]},{name:"showSevereAlerts",label:"Show Severe Weather Alerts",type:"boolean",section:"features",helpText:"Display warnings for severe weather conditions"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features",helpText:"Display interactive menu on hover"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features",helpText:"Show button to open customization panel"}]};var Ro=_e({"node_modules/prop-types/lib/ReactPropTypesSecret.js":((e,o)=>{var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=t})}),Oo=_e({"node_modules/prop-types/factoryWithThrowingShims.js":((e,o)=>{var t=Ro();function s(){}function d(){}d.resetWarningCache=s,o.exports=function(){function c(n,x,l,u,b,_){if(_!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}c.isRequired=c;function a(){return c}var m={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:a,element:c,elementType:c,instanceOf:a,node:c,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:d,resetWarningCache:s};return m.PropTypes=m,m}})}),Ho=_e({"node_modules/prop-types/index.js":((e,o)=>{o.exports=Oo()()})}),Go,qo,Uo,Jo,Jt=Ke({"node_modules/flatbuffers/mjs/constants.js":(()=>{Go=2,qo=4,Uo=4,Jo=4})}),ze,_t,Ct,Qe,Sr=Ke({"node_modules/flatbuffers/mjs/utils.js":(()=>{ze=new Int32Array(2),_t=new Float32Array(ze.buffer),Ct=new Float64Array(ze.buffer),Qe=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1})}),jt,Nr=Ke({"node_modules/flatbuffers/mjs/encoding.js":(()=>{(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(jt||(jt={}))})}),St,Tr=Ke({"node_modules/flatbuffers/mjs/byte-buffer.js":(()=>{Jt(),Nr(),Sr(),St=class Fr{constructor(o){this.bytes_=o,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(o){return new Fr(new Uint8Array(o))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(o){this.position_=o}capacity(){return this.bytes_.length}readInt8(o){return this.readUint8(o)<<24>>24}readUint8(o){return this.bytes_[o]}readInt16(o){return this.readUint16(o)<<16>>16}readUint16(o){return this.bytes_[o]|this.bytes_[o+1]<<8}readInt32(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24}readUint32(o){return this.readInt32(o)>>>0}readInt64(o){return BigInt.asIntN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readUint64(o){return BigInt.asUintN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readFloat32(o){return ze[0]=this.readInt32(o),_t[0]}readFloat64(o){return ze[Qe?0:1]=this.readInt32(o),ze[Qe?1:0]=this.readInt32(o+4),Ct[0]}writeInt8(o,t){this.bytes_[o]=t}writeUint8(o,t){this.bytes_[o]=t}writeInt16(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8}writeUint16(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8}writeInt32(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8,this.bytes_[o+2]=t>>16,this.bytes_[o+3]=t>>24}writeUint32(o,t){this.bytes_[o]=t,this.bytes_[o+1]=t>>8,this.bytes_[o+2]=t>>16,this.bytes_[o+3]=t>>24}writeInt64(o,t){this.writeInt32(o,Number(BigInt.asIntN(32,t))),this.writeInt32(o+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(o,t){this.writeUint32(o,Number(BigInt.asUintN(32,t))),this.writeUint32(o+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(o,t){_t[0]=t,this.writeInt32(o,ze[0])}writeFloat64(o,t){Ct[0]=t,this.writeInt32(o,ze[Qe?0:1]),this.writeInt32(o+4,ze[Qe?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let o="";for(let t=0;t<4;t++)o+=String.fromCharCode(this.readInt8(this.position_+4+t));return o}__offset(o,t){const s=o-this.readInt32(o);return t<this.readInt16(s)?this.readInt16(s+t):0}__union(o,t){return o.bb_pos=t+this.readInt32(t),o.bb=this,o}__string(o,t){o+=this.readInt32(o);const s=this.readInt32(o);o+=4;const d=this.bytes_.subarray(o,o+s);return t===jt.UTF8_BYTES?d:this.text_decoder_.decode(d)}__union_with_string(o,t){return typeof o=="string"?this.__string(t):this.__union(o,t)}__indirect(o){return o+this.readInt32(o)}__vector(o){return o+this.readInt32(o)+4}__vector_len(o){return this.readInt32(o+this.readInt32(o))}__has_identifier(o){if(o.length!=4)throw new Error("FlatBuffers: file identifier must be length 4");for(let t=0;t<4;t++)if(o.charCodeAt(t)!=this.readInt8(this.position()+4+t))return!1;return!0}createScalarList(o,t){const s=[];for(let d=0;d<t;++d){const c=o(d);c!==null&&s.push(c)}return s}createObjList(o,t){const s=[];for(let d=0;d<t;++d){const c=o(d);c!==null&&s.push(c.unpack())}return s}}})}),Ir,Zo=Ke({"node_modules/flatbuffers/mjs/builder.js":(()=>{Tr(),Jt(),Ir=class Br{constructor(o){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let t;o?t=o:t=1024,this.bb=St.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(o){this.force_defaults=o}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(o,t){o>this.minalign&&(this.minalign=o);const s=~(this.bb.capacity()-this.space+t)+1&o-1;for(;this.space<s+o+t;){const d=this.bb.capacity();this.bb=Br.growByteBuffer(this.bb),this.space+=this.bb.capacity()-d}this.pad(s)}pad(o){for(let t=0;t<o;t++)this.bb.writeInt8(--this.space,0)}writeInt8(o){this.bb.writeInt8(this.space-=1,o)}writeInt16(o){this.bb.writeInt16(this.space-=2,o)}writeInt32(o){this.bb.writeInt32(this.space-=4,o)}writeInt64(o){this.bb.writeInt64(this.space-=8,o)}writeFloat32(o){this.bb.writeFloat32(this.space-=4,o)}writeFloat64(o){this.bb.writeFloat64(this.space-=8,o)}addInt8(o){this.prep(1,0),this.writeInt8(o)}addInt16(o){this.prep(2,0),this.writeInt16(o)}addInt32(o){this.prep(4,0),this.writeInt32(o)}addInt64(o){this.prep(8,0),this.writeInt64(o)}addFloat32(o){this.prep(4,0),this.writeFloat32(o)}addFloat64(o){this.prep(8,0),this.writeFloat64(o)}addFieldInt8(o,t,s){(this.force_defaults||t!=s)&&(this.addInt8(t),this.slot(o))}addFieldInt16(o,t,s){(this.force_defaults||t!=s)&&(this.addInt16(t),this.slot(o))}addFieldInt32(o,t,s){(this.force_defaults||t!=s)&&(this.addInt32(t),this.slot(o))}addFieldInt64(o,t,s){(this.force_defaults||t!==s)&&(this.addInt64(t),this.slot(o))}addFieldFloat32(o,t,s){(this.force_defaults||t!=s)&&(this.addFloat32(t),this.slot(o))}addFieldFloat64(o,t,s){(this.force_defaults||t!=s)&&(this.addFloat64(t),this.slot(o))}addFieldOffset(o,t,s){(this.force_defaults||t!=s)&&(this.addOffset(t),this.slot(o))}addFieldStruct(o,t,s){t!=s&&(this.nested(t),this.slot(o))}nested(o){if(o!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(o){this.vtable!==null&&(this.vtable[o]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(o){const t=o.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const s=t<<1,d=St.allocate(s);return d.setPosition(s-t),d.bytes().set(o.bytes(),s-t),d}addOffset(o){this.prep(4,0),this.writeInt32(this.offset()-o+4)}startObject(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(let t=0;t<o;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const o=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const s=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?o-this.vtable[t]:0);const d=2;this.addInt16(o-this.object_start);const c=(s+d)*2;this.addInt16(c);let a=0;const m=this.space;e:for(t=0;t<this.vtables.length;t++){const n=this.bb.capacity()-this.vtables[t];if(c==this.bb.readInt16(n)){for(let x=2;x<c;x+=2)if(this.bb.readInt16(m+x)!=this.bb.readInt16(n+x))continue e;a=this.vtables[t];break}}return a?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,a-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o}finish(o,t,s){const d=s?4:0;if(t){const c=t;if(this.prep(this.minalign,8+d),c.length!=4)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let a=3;a>=0;a--)this.writeInt8(c.charCodeAt(a))}this.prep(this.minalign,4+d),this.addOffset(o),d&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(o,t){this.finish(o,t,!0)}requiredField(o,t){const s=this.bb.capacity()-o,d=s-this.bb.readInt32(s);if(!(t<this.bb.readInt16(d)&&this.bb.readInt16(d+t)!=0))throw new TypeError("FlatBuffers: field "+t+" must be set")}startVector(o,t,s){this.notNested(),this.vector_num_elems=t,this.prep(4,o*t),this.prep(s,o*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(o){if(!o)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(o))return this.string_maps.get(o);const t=this.createString(o);return this.string_maps.set(o,t),t}createString(o){if(o==null)return 0;let t;return o instanceof Uint8Array?t=o:t=this.text_encoder.encode(o),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()}createByteVector(o){return o==null?0:(this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length),this.bb.bytes().set(o,this.space),this.endVector())}createObjectOffset(o){return o===null?0:typeof o=="string"?this.createString(o):o.pack(this)}createObjectOffsetList(o){const t=[];for(let s=0;s<o.length;++s){const d=o[s];if(d!==null)t.push(this.createObjectOffset(d));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(o,t){return t(this,o.length),this.createObjectOffsetList(o.slice().reverse()),this.endVector()}}})}),ut=Jr({Builder:()=>Ir,ByteBuffer:()=>St,Encoding:()=>jt,FILE_IDENTIFIER_LENGTH:()=>4,SIZEOF_INT:()=>4,SIZEOF_SHORT:()=>2,SIZE_PREFIX_LENGTH:()=>4,float32:()=>_t,float64:()=>Ct,int32:()=>ze,isLittleEndian:()=>Qe}),pt=Ke({"node_modules/flatbuffers/mjs/flatbuffers.js":(()=>{Jt(),Sr(),Zo(),Tr(),Nr()})}),Yo=_e({"node_modules/@openmeteo/sdk/model.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.best_match=1]="best_match",t[t.gfs_seamless=2]="gfs_seamless",t[t.gfs_global=3]="gfs_global",t[t.gfs_hrrr=4]="gfs_hrrr",t[t.meteofrance_seamless=5]="meteofrance_seamless",t[t.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",t[t.meteofrance_arpege_world=7]="meteofrance_arpege_world",t[t.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",t[t.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",t[t.meteofrance_arome_france=10]="meteofrance_arome_france",t[t.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",t[t.jma_seamless=12]="jma_seamless",t[t.jma_msm=13]="jma_msm",t[t.jms_gsm=14]="jms_gsm",t[t.jma_gsm=15]="jma_gsm",t[t.gem_seamless=16]="gem_seamless",t[t.gem_global=17]="gem_global",t[t.gem_regional=18]="gem_regional",t[t.gem_hrdps_continental=19]="gem_hrdps_continental",t[t.icon_seamless=20]="icon_seamless",t[t.icon_global=21]="icon_global",t[t.icon_eu=22]="icon_eu",t[t.icon_d2=23]="icon_d2",t[t.ecmwf_ifs04=24]="ecmwf_ifs04",t[t.metno_nordic=25]="metno_nordic",t[t.era5_seamless=26]="era5_seamless",t[t.era5=27]="era5",t[t.cerra=28]="cerra",t[t.era5_land=29]="era5_land",t[t.ecmwf_ifs=30]="ecmwf_ifs",t[t.gwam=31]="gwam",t[t.ewam=32]="ewam",t[t.glofas_seamless_v3=33]="glofas_seamless_v3",t[t.glofas_forecast_v3=34]="glofas_forecast_v3",t[t.glofas_consolidated_v3=35]="glofas_consolidated_v3",t[t.glofas_seamless_v4=36]="glofas_seamless_v4",t[t.glofas_forecast_v4=37]="glofas_forecast_v4",t[t.glofas_consolidated_v4=38]="glofas_consolidated_v4",t[t.gfs025=39]="gfs025",t[t.gfs05=40]="gfs05",t[t.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",t[t.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",t[t.FGOALS_f3_H=43]="FGOALS_f3_H",t[t.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",t[t.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",t[t.EC_Earth3P_HR=46]="EC_Earth3P_HR",t[t.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",t[t.NICAM16_8S=48]="NICAM16_8S",t[t.cams_europe=49]="cams_europe",t[t.cams_global=50]="cams_global",t[t.cfsv2=51]="cfsv2",t[t.era5_ocean=52]="era5_ocean",t[t.cma_grapes_global=53]="cma_grapes_global",t[t.bom_access_global=54]="bom_access_global",t[t.bom_access_global_ensemble=55]="bom_access_global_ensemble",t[t.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",t[t.arpae_cosmo_2i=57]="arpae_cosmo_2i",t[t.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",t[t.arpae_cosmo_5m=59]="arpae_cosmo_5m",t[t.ecmwf_ifs025=60]="ecmwf_ifs025",t[t.ecmwf_aifs025=61]="ecmwf_aifs025",t[t.gfs013=62]="gfs013",t[t.gfs_graphcast025=63]="gfs_graphcast025",t[t.ecmwf_wam025=64]="ecmwf_wam025",t[t.meteofrance_wave=65]="meteofrance_wave",t[t.meteofrance_currents=66]="meteofrance_currents",t[t.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",t[t.ncep_gfswave025=68]="ncep_gfswave025",t[t.ncep_gefswave025=69]="ncep_gefswave025",t[t.knmi_seamless=70]="knmi_seamless",t[t.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",t[t.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",t[t.dmi_seamless=73]="dmi_seamless",t[t.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",t[t.metno_seamless=75]="metno_seamless",t[t.era5_ensemble=76]="era5_ensemble",t[t.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",t[t.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",t[t.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",t[t.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",t[t.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",t[t.ukmo_seamless=82]="ukmo_seamless",t[t.ncep_gfswave016=83]="ncep_gfswave016",t[t.ncep_nbm_conus=84]="ncep_nbm_conus",t[t.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",t[t.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",t[t.jma_jaxa_himawari=87]="jma_jaxa_himawari",t[t.eumetsat_sarah3=88]="eumetsat_sarah3",t[t.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",t[t.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",t[t.satellite_radiation_seamless=91]="satellite_radiation_seamless",t[t.kma_gdps=92]="kma_gdps",t[t.kma_ldps=93]="kma_ldps",t[t.kma_seamless=94]="kma_seamless",t[t.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",t[t.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",t[t.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",t[t.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",t[t.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",t[t.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",t[t.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",t[t.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",t[t.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",t[t.ncep_nam_conus=104]="ncep_nam_conus",t[t.icon_d2_ruc=105]="icon_d2_ruc",t[t.ecmwf_seas5=106]="ecmwf_seas5",t[t.ecmwf_ec46=107]="ecmwf_ec46",t[t.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",t[t.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",t[t.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",t[t.gem_hrdps_west=111]="gem_hrdps_west"})(o||(e.Model=o={}))})}),Qo=_e({"node_modules/@openmeteo/sdk/aggregation.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregation=void 0;var o;(function(t){t[t.none=0]="none",t[t.minimum=1]="minimum",t[t.maximum=2]="maximum",t[t.mean=3]="mean",t[t.p10=4]="p10",t[t.p25=5]="p25",t[t.median=6]="median",t[t.p75=7]="p75",t[t.p90=8]="p90",t[t.dominant=9]="dominant",t[t.sum=10]="sum",t[t.spread=11]="spread",t[t.anomaly=12]="anomaly",t[t.sot10=13]="sot10",t[t.sot90=14]="sot90",t[t.efi=15]="efi"})(o||(e.Aggregation=o={}))})}),Ko=_e({"node_modules/@openmeteo/sdk/probability.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Probability=void 0;var o;(function(t){t[t.none=0]="none",t[t.gt0=1]="gt0",t[t.gt0p1=2]="gt0p1",t[t.gt1=3]="gt1",t[t.gt2=4]="gt2",t[t.gt3=5]="gt3",t[t.gt4=6]="gt4",t[t.gt5=7]="gt5",t[t.gt8=8]="gt8",t[t.gt10=9]="gt10",t[t.gt15=10]="gt15",t[t.gt20=11]="gt20",t[t.gt25=12]="gt25",t[t.gt30=13]="gt30",t[t.gt35=14]="gt35",t[t.gt40=15]="gt40",t[t.gt50=16]="gt50",t[t.gt60=17]="gt60",t[t.gt75=18]="gt75",t[t.gt80=19]="gt80",t[t.gt100=20]="gt100",t[t.lt0=21]="lt0",t[t.lt0p1=22]="lt0p1",t[t.lt1=23]="lt1",t[t.ltm1=24]="ltm1",t[t.ltm2=25]="ltm2",t[t.ltm3=26]="ltm3",t[t.ltm4=27]="ltm4",t[t.ltm5=28]="ltm5",t[t.ltm8=29]="ltm8",t[t.ltm10=30]="ltm10",t[t.ltm15=31]="ltm15",t[t.ltm20=32]="ltm20",t[t.gt1stdev=33]="gt1stdev",t[t.gt1p5stdev=34]="gt1p5stdev",t[t.gt2stdev=35]="gt2stdev",t[t.lt1stdev=36]="lt1stdev",t[t.lt1p5stdev=37]="lt1p5stdev",t[t.lt2stdev=38]="lt2stdev"})(o||(e.Probability=o={}))})}),Xo=_e({"node_modules/@openmeteo/sdk/unit.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unit=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.celsius=1]="celsius",t[t.centimetre=2]="centimetre",t[t.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",t[t.cubic_metre_per_second=4]="cubic_metre_per_second",t[t.degree_direction=5]="degree_direction",t[t.dimensionless_integer=6]="dimensionless_integer",t[t.dimensionless=7]="dimensionless",t[t.european_air_quality_index=8]="european_air_quality_index",t[t.fahrenheit=9]="fahrenheit",t[t.feet=10]="feet",t[t.fraction=11]="fraction",t[t.gdd_celsius=12]="gdd_celsius",t[t.geopotential_metre=13]="geopotential_metre",t[t.grains_per_cubic_metre=14]="grains_per_cubic_metre",t[t.gram_per_kilogram=15]="gram_per_kilogram",t[t.hectopascal=16]="hectopascal",t[t.hours=17]="hours",t[t.inch=18]="inch",t[t.iso8601=19]="iso8601",t[t.joule_per_kilogram=20]="joule_per_kilogram",t[t.kelvin=21]="kelvin",t[t.kilopascal=22]="kilopascal",t[t.kilogram_per_square_metre=23]="kilogram_per_square_metre",t[t.kilometres_per_hour=24]="kilometres_per_hour",t[t.knots=25]="knots",t[t.megajoule_per_square_metre=26]="megajoule_per_square_metre",t[t.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",t[t.metre_per_second=28]="metre_per_second",t[t.metre=29]="metre",t[t.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",t[t.miles_per_hour=31]="miles_per_hour",t[t.millimetre=32]="millimetre",t[t.pascal=33]="pascal",t[t.per_second=34]="per_second",t[t.percentage=35]="percentage",t[t.seconds=36]="seconds",t[t.unix_time=37]="unix_time",t[t.us_air_quality_index=38]="us_air_quality_index",t[t.watt_per_square_metre=39]="watt_per_square_metre",t[t.wmo_code=40]="wmo_code",t[t.parts_per_million=41]="parts_per_million",t[t.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(o||(e.Unit=o={}))})}),Vo=_e({"node_modules/@openmeteo/sdk/variable.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;var o;(function(t){t[t.undefined=0]="undefined",t[t.apparent_temperature=1]="apparent_temperature",t[t.cape=2]="cape",t[t.cloud_cover=3]="cloud_cover",t[t.cloud_cover_high=4]="cloud_cover_high",t[t.cloud_cover_low=5]="cloud_cover_low",t[t.cloud_cover_mid=6]="cloud_cover_mid",t[t.daylight_duration=7]="daylight_duration",t[t.dew_point=8]="dew_point",t[t.diffuse_radiation=9]="diffuse_radiation",t[t.diffuse_radiation_instant=10]="diffuse_radiation_instant",t[t.direct_normal_irradiance=11]="direct_normal_irradiance",t[t.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",t[t.direct_radiation=13]="direct_radiation",t[t.direct_radiation_instant=14]="direct_radiation_instant",t[t.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",t[t.evapotranspiration=16]="evapotranspiration",t[t.freezing_level_height=17]="freezing_level_height",t[t.growing_degree_days=18]="growing_degree_days",t[t.is_day=19]="is_day",t[t.latent_heat_flux=20]="latent_heat_flux",t[t.leaf_wetness_probability=21]="leaf_wetness_probability",t[t.lifted_index=22]="lifted_index",t[t.lightning_potential=23]="lightning_potential",t[t.precipitation=24]="precipitation",t[t.precipitation_hours=25]="precipitation_hours",t[t.precipitation_probability=26]="precipitation_probability",t[t.pressure_msl=27]="pressure_msl",t[t.rain=28]="rain",t[t.relative_humidity=29]="relative_humidity",t[t.runoff=30]="runoff",t[t.sensible_heat_flux=31]="sensible_heat_flux",t[t.shortwave_radiation=32]="shortwave_radiation",t[t.shortwave_radiation_instant=33]="shortwave_radiation_instant",t[t.showers=34]="showers",t[t.snow_depth=35]="snow_depth",t[t.snow_height=36]="snow_height",t[t.snowfall=37]="snowfall",t[t.snowfall_height=38]="snowfall_height",t[t.snowfall_water_equivalent=39]="snowfall_water_equivalent",t[t.sunrise=40]="sunrise",t[t.sunset=41]="sunset",t[t.soil_moisture=42]="soil_moisture",t[t.soil_moisture_index=43]="soil_moisture_index",t[t.soil_temperature=44]="soil_temperature",t[t.surface_pressure=45]="surface_pressure",t[t.surface_temperature=46]="surface_temperature",t[t.temperature=47]="temperature",t[t.terrestrial_radiation=48]="terrestrial_radiation",t[t.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",t[t.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",t[t.updraft=51]="updraft",t[t.uv_index=52]="uv_index",t[t.uv_index_clear_sky=53]="uv_index_clear_sky",t[t.vapour_pressure_deficit=54]="vapour_pressure_deficit",t[t.visibility=55]="visibility",t[t.weather_code=56]="weather_code",t[t.wind_direction=57]="wind_direction",t[t.wind_gusts=58]="wind_gusts",t[t.wind_speed=59]="wind_speed",t[t.vertical_velocity=60]="vertical_velocity",t[t.geopotential_height=61]="geopotential_height",t[t.wet_bulb_temperature=62]="wet_bulb_temperature",t[t.river_discharge=63]="river_discharge",t[t.wave_height=64]="wave_height",t[t.wave_period=65]="wave_period",t[t.wave_direction=66]="wave_direction",t[t.wind_wave_height=67]="wind_wave_height",t[t.wind_wave_period=68]="wind_wave_period",t[t.wind_wave_peak_period=69]="wind_wave_peak_period",t[t.wind_wave_direction=70]="wind_wave_direction",t[t.swell_wave_height=71]="swell_wave_height",t[t.swell_wave_period=72]="swell_wave_period",t[t.swell_wave_peak_period=73]="swell_wave_peak_period",t[t.swell_wave_direction=74]="swell_wave_direction",t[t.pm10=75]="pm10",t[t.pm2p5=76]="pm2p5",t[t.dust=77]="dust",t[t.aerosol_optical_depth=78]="aerosol_optical_depth",t[t.carbon_monoxide=79]="carbon_monoxide",t[t.nitrogen_dioxide=80]="nitrogen_dioxide",t[t.ammonia=81]="ammonia",t[t.ozone=82]="ozone",t[t.sulphur_dioxide=83]="sulphur_dioxide",t[t.alder_pollen=84]="alder_pollen",t[t.birch_pollen=85]="birch_pollen",t[t.grass_pollen=86]="grass_pollen",t[t.mugwort_pollen=87]="mugwort_pollen",t[t.olive_pollen=88]="olive_pollen",t[t.ragweed_pollen=89]="ragweed_pollen",t[t.european_aqi=90]="european_aqi",t[t.european_aqi_pm2p5=91]="european_aqi_pm2p5",t[t.european_aqi_pm10=92]="european_aqi_pm10",t[t.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",t[t.european_aqi_ozone=94]="european_aqi_ozone",t[t.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",t[t.us_aqi=96]="us_aqi",t[t.us_aqi_pm2p5=97]="us_aqi_pm2p5",t[t.us_aqi_pm10=98]="us_aqi_pm10",t[t.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",t[t.us_aqi_ozone=100]="us_aqi_ozone",t[t.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",t[t.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",t[t.sunshine_duration=103]="sunshine_duration",t[t.convective_inhibition=104]="convective_inhibition",t[t.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",t[t.global_tilted_irradiance=106]="global_tilted_irradiance",t[t.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",t[t.ocean_current_velocity=108]="ocean_current_velocity",t[t.ocean_current_direction=109]="ocean_current_direction",t[t.cloud_base=110]="cloud_base",t[t.cloud_top=111]="cloud_top",t[t.mass_density=112]="mass_density",t[t.boundary_layer_height=113]="boundary_layer_height",t[t.formaldehyde=114]="formaldehyde",t[t.glyoxal=115]="glyoxal",t[t.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",t[t.pm10_wildfires=117]="pm10_wildfires",t[t.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",t[t.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",t[t.residential_elementary_carbon=120]="residential_elementary_carbon",t[t.total_elementary_carbon=121]="total_elementary_carbon",t[t.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",t[t.sea_salt_aerosol=123]="sea_salt_aerosol",t[t.nitrogen_monoxide=124]="nitrogen_monoxide",t[t.thunderstorm_probability=125]="thunderstorm_probability",t[t.rain_probability=126]="rain_probability",t[t.freezing_rain_probability=127]="freezing_rain_probability",t[t.ice_pellets_probability=128]="ice_pellets_probability",t[t.snowfall_probability=129]="snowfall_probability",t[t.carbon_dioxide=130]="carbon_dioxide",t[t.methane=131]="methane",t[t.sea_level_height_msl=132]="sea_level_height_msl",t[t.sea_surface_temperature=133]="sea_surface_temperature",t[t.invert_barometer_height=134]="invert_barometer_height",t[t.hail=135]="hail",t[t.albedo=136]="albedo",t[t.precipitation_type=137]="precipitation_type",t[t.convective_cloud_base=138]="convective_cloud_base",t[t.convective_cloud_top=139]="convective_cloud_top",t[t.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",t[t.secondary_swell_wave_height=141]="secondary_swell_wave_height",t[t.secondary_swell_wave_period=142]="secondary_swell_wave_period",t[t.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",t[t.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",t[t.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",t[t.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",t[t.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",t[t.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",t[t.wind_u_component=149]="wind_u_component",t[t.wind_v_component=150]="wind_v_component",t[t.temperature_max24h=151]="temperature_max24h",t[t.temperature_min24h=152]="temperature_min24h",t[t.temperature_mean24h=153]="temperature_mean24h",t[t.snow_density=154]="snow_density",t[t.longwave_radiation=155]="longwave_radiation",t[t.sea_ice_cover=156]="sea_ice_cover",t[t.k_index=157]="k_index",t[t.roughness_length=158]="roughness_length",t[t.potential_evapotranspiration=159]="potential_evapotranspiration",t[t.wave_peak_period=160]="wave_peak_period",t[t.temperature_max6h=161]="temperature_max6h",t[t.temperature_min6h=162]="temperature_min6h"})(o||(e.Variable=o={}))})}),Ar=_e({"node_modules/@openmeteo/sdk/variable-with-values.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(l,u,b,_){_===void 0&&(_=b);var I=Object.getOwnPropertyDescriptor(u,b);(!I||("get"in I?!u.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return u[b]}}),Object.defineProperty(l,_,I)}):(function(l,u,b,_){_===void 0&&(_=b),l[_]=u[b]})),t=e&&e.__setModuleDefault||(Object.create?(function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}):function(l,u){l.default=u}),s=e&&e.__importStar||(function(){var l=function(u){return l=Object.getOwnPropertyNames||function(b){var _=[];for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(_[_.length]=I);return _},l(u)};return function(u){if(u&&u.__esModule)return u;var b={};if(u!=null)for(var _=l(u),I=0;I<_.length;I++)_[I]!=="default"&&o(b,u,_[I]);return t(b,u),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWithValues=void 0;var d=s((pt(),ct(ut))),c=Qo(),a=Ko(),m=Xo(),n=Vo(),x=class Et{constructor(){this.bb=null,this.bb_pos=0}__init(u,b){return this.bb_pos=u,this.bb=b,this}static getRootAsVariableWithValues(u,b){return(b||new Et).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsVariableWithValues(u,b){return u.setPosition(u.position()+d.SIZE_PREFIX_LENGTH),(b||new Et).__init(u.readInt32(u.position())+u.position(),u)}variable(){const u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint8(this.bb_pos+u):n.Variable.undefined}unit(){const u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint8(this.bb_pos+u):m.Unit.undefined}value(){const u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readFloat32(this.bb_pos+u):0}values(u){const b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+u*4):0}valuesLength(){const u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__vector_len(this.bb_pos+u):0}valuesArray(){const u=this.bb.__offset(this.bb_pos,10);return u?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}valuesInt64(u){const b=this.bb.__offset(this.bb_pos,12);return b?this.bb.readInt64(this.bb.__vector(this.bb_pos+b)+u*8):BigInt(0)}valuesInt64Length(){const u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}altitude(){const u=this.bb.__offset(this.bb_pos,14);return u?this.bb.readInt16(this.bb_pos+u):0}aggregation(){const u=this.bb.__offset(this.bb_pos,16);return u?this.bb.readUint8(this.bb_pos+u):c.Aggregation.none}pressureLevel(){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.readInt16(this.bb_pos+u):0}depth(){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readInt16(this.bb_pos+u):0}depthTo(){const u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt16(this.bb_pos+u):0}ensembleMember(){const u=this.bb.__offset(this.bb_pos,24);return u?this.bb.readInt16(this.bb_pos+u):0}previousDay(){const u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt16(this.bb_pos+u):0}probability(){const u=this.bb.__offset(this.bb_pos,28);return u?this.bb.readUint8(this.bb_pos+u):a.Probability.none}};e.VariableWithValues=x})}),$o=_e({"node_modules/@openmeteo/sdk/variables-with-month.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(m,n,x,l){l===void 0&&(l=x);var u=Object.getOwnPropertyDescriptor(n,x);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[x]}}),Object.defineProperty(m,l,u)}):(function(m,n,x,l){l===void 0&&(l=x),m[l]=n[x]})),t=e&&e.__setModuleDefault||(Object.create?(function(m,n){Object.defineProperty(m,"default",{enumerable:!0,value:n})}):function(m,n){m.default=n}),s=e&&e.__importStar||(function(){var m=function(n){return m=Object.getOwnPropertyNames||function(x){var l=[];for(var u in x)Object.prototype.hasOwnProperty.call(x,u)&&(l[l.length]=u);return l},m(n)};return function(n){if(n&&n.__esModule)return n;var x={};if(n!=null)for(var l=m(n),u=0;u<l.length;u++)l[u]!=="default"&&o(x,n,l[u]);return t(x,n),x}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithMonth=void 0;var d=s((pt(),ct(ut))),c=Ar(),a=class Dt{constructor(){this.bb=null,this.bb_pos=0}__init(n,x){return this.bb_pos=n,this.bb=x,this}static getRootAsVariablesWithMonth(n,x){return(x||new Dt).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsVariablesWithMonth(n,x){return n.setPosition(n.position()+d.SIZE_PREFIX_LENGTH),(x||new Dt).__init(n.readInt32(n.position())+n.position(),n)}year(){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt16(this.bb_pos+n):0}month(){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt8(this.bb_pos+n):0}count(){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):0}variables(n,x){const l=this.bb.__offset(this.bb_pos,10);return l?(x||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+n*4),this.bb):null}variablesLength(){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__vector_len(this.bb_pos+n):0}};e.VariablesWithMonth=a})}),ea=_e({"node_modules/@openmeteo/sdk/variables-with-time.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(m,n,x,l){l===void 0&&(l=x);var u=Object.getOwnPropertyDescriptor(n,x);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[x]}}),Object.defineProperty(m,l,u)}):(function(m,n,x,l){l===void 0&&(l=x),m[l]=n[x]})),t=e&&e.__setModuleDefault||(Object.create?(function(m,n){Object.defineProperty(m,"default",{enumerable:!0,value:n})}):function(m,n){m.default=n}),s=e&&e.__importStar||(function(){var m=function(n){return m=Object.getOwnPropertyNames||function(x){var l=[];for(var u in x)Object.prototype.hasOwnProperty.call(x,u)&&(l[l.length]=u);return l},m(n)};return function(n){if(n&&n.__esModule)return n;var x={};if(n!=null)for(var l=m(n),u=0;u<l.length;u++)l[u]!=="default"&&o(x,n,l[u]);return t(x,n),x}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithTime=void 0;var d=s((pt(),ct(ut))),c=Ar(),a=class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(n,x){return this.bb_pos=n,this.bb=x,this}static getRootAsVariablesWithTime(n,x){return(x||new Pt).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsVariablesWithTime(n,x){return n.setPosition(n.position()+d.SIZE_PREFIX_LENGTH),(x||new Pt).__init(n.readInt32(n.position())+n.position(),n)}time(){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt64(this.bb_pos+n):BigInt("0")}timeEnd(){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):BigInt("0")}interval(){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):0}variables(n,x){const l=this.bb.__offset(this.bb_pos,10);return l?(x||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+n*4),this.bb):null}variablesLength(){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__vector_len(this.bb_pos+n):0}};e.VariablesWithTime=a})}),ta=_e({"node_modules/@openmeteo/sdk/weather-api-response.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(x,l,u,b){b===void 0&&(b=u);var _=Object.getOwnPropertyDescriptor(l,u);(!_||("get"in _?!l.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(x,b,_)}):(function(x,l,u,b){b===void 0&&(b=u),x[b]=l[u]})),t=e&&e.__setModuleDefault||(Object.create?(function(x,l){Object.defineProperty(x,"default",{enumerable:!0,value:l})}):function(x,l){x.default=l}),s=e&&e.__importStar||(function(){var x=function(l){return x=Object.getOwnPropertyNames||function(u){var b=[];for(var _ in u)Object.prototype.hasOwnProperty.call(u,_)&&(b[b.length]=_);return b},x(l)};return function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var b=x(l),_=0;_<b.length;_++)b[_]!=="default"&&o(u,l,b[_]);return t(u,l),u}})();Object.defineProperty(e,"__esModule",{value:!0}),e.WeatherApiResponse=void 0;var d=s((pt(),ct(ut))),c=Yo(),a=$o(),m=ea(),n=class Wt{constructor(){this.bb=null,this.bb_pos=0}__init(l,u){return this.bb_pos=l,this.bb=u,this}static getRootAsWeatherApiResponse(l,u){return(u||new Wt).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsWeatherApiResponse(l,u){return l.setPosition(l.position()+d.SIZE_PREFIX_LENGTH),(u||new Wt).__init(l.readInt32(l.position())+l.position(),l)}latitude(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readFloat32(this.bb_pos+l):0}longitude(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readFloat32(this.bb_pos+l):0}elevation(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readFloat32(this.bb_pos+l):0}generationTimeMilliseconds(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.readFloat32(this.bb_pos+l):0}locationId(){const l=this.bb.__offset(this.bb_pos,12);return l?this.bb.readInt64(this.bb_pos+l):BigInt("0")}model(){const l=this.bb.__offset(this.bb_pos,14);return l?this.bb.readUint8(this.bb_pos+l):c.Model.undefined}utcOffsetSeconds(){const l=this.bb.__offset(this.bb_pos,16);return l?this.bb.readInt32(this.bb_pos+l):0}timezone(l){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,l):null}timezoneAbbreviation(l){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,l):null}current(l){const u=this.bb.__offset(this.bb_pos,22);return u?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}daily(l){const u=this.bb.__offset(this.bb_pos,24);return u?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}hourly(l){const u=this.bb.__offset(this.bb_pos,26);return u?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}minutely15(l){const u=this.bb.__offset(this.bb_pos,28);return u?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}monthly(l){const u=this.bb.__offset(this.bb_pos,30);return u?(l||new a.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}};e.WeatherApiResponse=n})}),ra=_e({"node_modules/openmeteo/lib/index.js":(e=>{var o=e&&e.__awaiter||function(m,n,x,l){function u(b){return b instanceof x?b:new x(function(_){_(b)})}return new(x||(x=Promise))(function(b,_){function I(w){try{y(l.next(w))}catch(j){_(j)}}function v(w){try{y(l.throw(w))}catch(j){_(j)}}function y(w){w.done?b(w.value):u(w.value).then(I,v)}y((l=l.apply(m,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWeatherApi=a;var t=(pt(),ct(ut)),s=ta(),d=m=>new Promise(n=>setTimeout(n,m));function c(m){return o(this,arguments,void 0,function*(n,x=3,l=.5,u=2,b={}){const _=[500,502,504],I=[400,429];let v=0,y=yield fetch(n,b);for(;_.includes(y.status);){if(v++,v>=x)throw new Error(y.statusText);yield d(Math.min(l*Math.pow(2,v),u)*1e3),y=yield fetch(n,b)}if(I.includes(y.status)){const w=yield y.json();throw"reason"in w?new Error(w.reason):new Error(y.statusText)}return y})}function a(m,n){return o(this,arguments,void 0,function*(x,l,u=3,b=.2,_=2,I={}){const v=new URLSearchParams(l);v.set("format","flatbuffers");const y=yield c(`${x}?${v.toString()}`,u,b,_,I),w=new t.ByteBuffer(new Uint8Array(yield y.arrayBuffer())),j=[];let k=0;for(;k<w.capacity();){w.setPosition(k);const N=w.readInt32(w.position());j.push(s.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(w)),k+=N+4}return j})}})}),re=Ur(Ho(),1),$t=ra(),Ft={current:{temperature:72,condition:"Partly Cloudy",humidity:65,wind:12,feelsLike:70,uvIndex:6,cloudCover:45,pressure:1013,visibility:10,sunrise:"6:45 AM",sunset:"7:30 PM",icon:"partly-cloudy"},forecast:[{day:"Mon",date:"Jan 6",high:75,low:58,condition:"Sunny",precipitation:0,wind:8,uvIndex:7,humidity:55,sunrise:"6:46 AM",sunset:"7:31 PM",icon:"sunny"},{day:"Tue",date:"Jan 7",high:72,low:60,condition:"Cloudy",precipitation:10,wind:10,uvIndex:4,humidity:70,sunrise:"6:46 AM",sunset:"7:32 PM",icon:"cloudy"},{day:"Wed",date:"Jan 8",high:68,low:55,condition:"Rainy",precipitation:80,wind:15,uvIndex:2,humidity:85,sunrise:"6:47 AM",sunset:"7:33 PM",icon:"rainy"},{day:"Thu",date:"Jan 9",high:70,low:57,condition:"Partly Cloudy",precipitation:20,wind:12,uvIndex:5,humidity:65,sunrise:"6:47 AM",sunset:"7:34 PM",icon:"partly-cloudy"},{day:"Fri",date:"Jan 10",high:74,low:59,condition:"Sunny",precipitation:0,wind:7,uvIndex:8,humidity:50,sunrise:"6:48 AM",sunset:"7:35 PM",icon:"sunny"},{day:"Sat",date:"Jan 11",high:76,low:61,condition:"Sunny",precipitation:0,wind:9,uvIndex:8,humidity:48,sunrise:"6:48 AM",sunset:"7:36 PM",icon:"sunny"},{day:"Sun",date:"Jan 12",high:73,low:60,condition:"Partly Cloudy",precipitation:15,wind:11,uvIndex:6,humidity:60,sunrise:"6:49 AM",sunset:"7:37 PM",icon:"partly-cloudy"}],alerts:[]},er={0:{condition:"Clear",icon:"clear"},1:{condition:"Partly Cloudy",icon:"partly-cloudy"},2:{condition:"Partly Cloudy",icon:"partly-cloudy"},3:{condition:"Partly Cloudy",icon:"partly-cloudy"},45:{condition:"Fog",icon:"fog"},48:{condition:"Fog",icon:"fog"},51:{condition:"Drizzle",icon:"drizzle"},53:{condition:"Drizzle",icon:"drizzle"},55:{condition:"Drizzle",icon:"drizzle"},56:{condition:"Drizzle",icon:"drizzle"},57:{condition:"Drizzle",icon:"drizzle"},61:{condition:"Rain",icon:"rain"},63:{condition:"Rain",icon:"rain"},65:{condition:"Rain",icon:"rain"},66:{condition:"Rain",icon:"rain"},67:{condition:"Rain",icon:"rain"},71:{condition:"Snow",icon:"snow"},73:{condition:"Snow",icon:"snow"},75:{condition:"Snow",icon:"snow"},77:{condition:"Snow",icon:"snow"},80:{condition:"Rain",icon:"rain"},81:{condition:"Rain",icon:"rain"},82:{condition:"Rain",icon:"rain"},85:{condition:"Snow",icon:"snow"},86:{condition:"Snow",icon:"snow"},95:{condition:"Thunderstorm",icon:"thunderstorm"},96:{condition:"Thunderstorm",icon:"thunderstorm"},99:{condition:"Thunderstorm",icon:"thunderstorm"}},Ee=e=>er[e]?er[e]:e<=3?{condition:"Partly Cloudy",icon:"partly-cloudy"}:e<=48?{condition:"Fog",icon:"fog"}:e<=57?{condition:"Drizzle",icon:"drizzle"}:e<=67?{condition:"Rain",icon:"rain"}:e<=77?{condition:"Snow",icon:"snow"}:e<=82?{condition:"Rain",icon:"rain"}:e<=86?{condition:"Snow",icon:"snow"}:e>=95?{condition:"Thunderstorm",icon:"thunderstorm"}:{condition:"Cloudy",icon:"clouds"},De=({condition:e,animate:o,greyscale:t,size:s=32,theme:d})=>{const c=d||O,a=t?"#94A3B8":"#F59E0B",m=c?.colors?t?c.colors.softSlate||"#94A3B8":c.colors.sunburstGold||"#F59E0B":a,n={size:s,className:`${o?"animate-pulse":""} ${t?"grayscale":""}`,style:{color:m},"aria-hidden":!0},x=(_,I)=>c?.colors?.[_]||I,l={sunny:(0,r.jsx)(Yt,{...n}),clear:(0,r.jsx)(Yt,{...n}),rainy:(0,r.jsx)(Zt,{...n,style:{...n.style,color:x("cosmicBlue","#3B82F6")}}),rain:(0,r.jsx)(Zt,{...n,style:{...n.style,color:x("cosmicBlue","#3B82F6")}}),drizzle:(0,r.jsx)(so,{...n,style:{...n.style,color:x("aetherTeal","#06B6D4")}}),cloudy:(0,r.jsx)(Ye,{...n,style:{...n.style,color:x("softSlate","#94A3B8")}}),clouds:(0,r.jsx)(Ye,{...n,style:{...n.style,color:x("softSlate","#94A3B8")}}),"partly-cloudy":(0,r.jsx)(wt,{...n,style:{...n.style,color:x("aetherTeal","#06B6D4")}}),snow:(0,r.jsx)(yo,{...n,style:{...n.style,color:x("stardustWhite","#F8F9FF")}}),thunderstorm:(0,r.jsx)(ao,{...n,style:{...n.style,color:x("electricPurple","#8B5CF6")}}),mist:(0,r.jsx)(bt,{...n,style:{...n.style,color:x("softSlate","#94A3B8")}}),fog:(0,r.jsx)(bt,{...n,style:{...n.style,color:x("softSlate","#94A3B8")}}),haze:(0,r.jsx)(bt,{...n,style:{...n.style,color:x("softSlate","#94A3B8")}}),smoke:(0,r.jsx)(bt,{...n,style:{...n.style,color:x("graphite","#1F2937")}}),dust:(0,r.jsx)(Ie,{...n,style:{...n.style,color:x("sunburstGold","#F59E0B")}}),sand:(0,r.jsx)(Ie,{...n,style:{...n.style,color:x("sunburstGold","#F59E0B")}}),tornado:(0,r.jsx)(Ie,{...n,style:{...n.style,color:x("electricPurple","#8B5CF6")}})},u=e?.toLowerCase()||"partly-cloudy",b=`Weather condition: ${e||"Partly Cloudy"}`;return(0,r.jsx)("span",{role:"img","aria-label":b,children:l[u]||(0,r.jsx)(wt,{...n,style:{...n.style,color:x("aetherTeal","#06B6D4")}})})},oa=({orientation:e="auto"})=>e==="compact"?(0,r.jsxs)("div",{className:"animate-pulse flex items-center gap-2 p-2",role:"status","aria-label":"Loading weather data",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-16"}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="horizontal"?(0,r.jsxs)("div",{className:"animate-pulse flex items-center justify-between w-full p-3",role:"status","aria-label":"Loading weather data",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-8 bg-gray-300 rounded w-20"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"}),(0,r.jsx)("div",{className:"h-3 bg-gray-300 rounded w-20"})]}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-28"}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="wide"?(0,r.jsxs)("div",{className:"animate-pulse space-y-4 p-4",role:"status","aria-label":"Loading weather data",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24"})]}),(0,r.jsx)("div",{className:"h-5 bg-gray-300 rounded w-28"})]}),(0,r.jsx)("div",{className:"flex justify-between gap-4",children:[...Array(5)].map((o,t)=>(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-16"},t))}),(0,r.jsx)("div",{className:"flex gap-2 overflow-hidden",children:[...Array(6)].map((o,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-16 h-20 bg-gray-300 rounded"},t))}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}):(0,r.jsxs)("div",{className:"animate-pulse space-y-4",role:"status","aria-label":"Loading weather data","aria-live":"polite",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"})]}),(0,r.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24 mb-2"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,r.jsx)("span",{className:"sr-only",children:"Loading weather data..."})]}),aa=({alert:e})=>(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 mb-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeftColor:"#EF4444",color:"#DC2626"},children:[(0,r.jsx)(qt,{size:24,className:"flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-sm mb-1",children:e.event}),(0,r.jsx)("div",{className:"text-xs opacity-90",children:e.description})]})]});const zr=({config:e,onCustomizeRequest:o})=>{let t;try{t=dt()?.theme||O}catch{t=O}const s=t,[d,c]=(0,h.useState)(null),[a,m]=(0,h.useState)(!0),[n,x]=(0,h.useState)(null),[l,u]=(0,h.useState)(null),[b,_]=(0,h.useState)(e.weatherLocation),[I,v]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{!e.useGeolocation&&e.weatherLocation!==b&&_(e.weatherLocation)},[e.weatherLocation,e.useGeolocation,b]);const y=(0,h.useCallback)(async(C,z={})=>{const{signal:K}=z;m(!0),x(null),u(null);try{const le=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(C)}&count=1&language=en&format=json`,{signal:K});if(!le.ok)throw new Error("Location not found");const p=await le.json();if(!p.results||p.results.length===0)throw new Error("Location not found");const{latitude:S,longitude:T,name:M,admin1:L,country:U}=p.results[0];_(L?`${M}, ${L}`:`${M}, ${U}`);const te=(await(0,$t.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:S,longitude:T,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],A=te.current(),be=te.utcOffsetSeconds(),ne=te.timezone(),se=g=>{if(!g)return null;try{return g.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:ne||void 0})}catch{return g.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},X={current:{temperature:Math.round(A.variables(0).value()),condition:Ee(A.variables(3).value()).condition,humidity:Math.round(A.variables(1).value()),wind:Math.round(A.variables(4).value()),feelsLike:Math.round(A.variables(2).value()),cloudCover:Math.round(A.variables(5).value()),pressure:Math.round(A.variables(6).value()),visibility:Math.round(A.variables(7).value()/1e3),uvIndex:0,icon:Ee(A.variables(3).value()).icon},forecast:[]},ie=te.daily(),H=Math.min(e.numberOfDays+1,10),je=ie.variables(7),de=ie.variables(8);for(let g=0;g<H;g++){const B=Number(ie.time())+g*ie.interval(),F=new Date((B+be)*1e3);let G=null,ae=null;try{if(je){const J=Number(je.valuesInt64(g));J>0&&(G=new Date(J*1e3))}if(de){const J=Number(de.valuesInt64(g));J>0&&(ae=new Date(J*1e3))}}catch(J){console.warn("Error parsing sunrise/sunset:",J)}X.forecast.push({day:F.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?F.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(ie.variables(1).valuesArray()[g]),low:Math.round(ie.variables(2).valuesArray()[g]),condition:Ee(ie.variables(0).valuesArray()[g]).condition,precipitation:Math.round(ie.variables(3).valuesArray()[g]||0),wind:Math.round(ie.variables(4).valuesArray()[g]),uvIndex:Math.round(ie.variables(5).valuesArray()[g]||0),humidity:Math.round(ie.variables(6).valuesArray()[g]||0),sunrise:se(G),sunset:se(ae),icon:Ee(ie.variables(0).valuesArray()[g]).icon}),g===0&&(X.current.uvIndex=Math.round(ie.variables(5).valuesArray()[g]||0),X.current.sunrise=se(G),X.current.sunset=se(ae))}X.alerts=[],c(X),m(!1)}catch(le){le.name!=="AbortError"&&(console.error("Weather fetch error:",le),x(le.message),c(Ft),m(!1))}},[e.preferredUnits,e.numberOfDays,e.displayDates]),w=(0,h.useCallback)(async(C,z,K,le={})=>{const{signal:p}=le;if(!p?.aborted){m(!0),x(null),u(null);try{const S=(await(0,$t.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:C,longitude:z,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],T=S.current(),M=S.utcOffsetSeconds(),L=S.timezone(),U=X=>{if(!X)return null;try{return X.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:L||void 0})}catch{return X.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},te={current:{temperature:Math.round(T.variables(0).value()),condition:Ee(T.variables(3).value()).condition,humidity:Math.round(T.variables(1).value()),wind:Math.round(T.variables(4).value()),feelsLike:Math.round(T.variables(2).value()),cloudCover:Math.round(T.variables(5).value()),pressure:Math.round(T.variables(6).value()),visibility:Math.round(T.variables(7).value()/1e3),uvIndex:0,icon:Ee(T.variables(3).value()).icon},forecast:[],alerts:[]},A=S.daily(),be=Math.min(e.numberOfDays+1,10),ne=A.variables(7),se=A.variables(8);for(let X=0;X<be;X++){const ie=Number(A.time())+X*A.interval(),H=new Date((ie+M)*1e3);let je=null,de=null;try{if(ne){const g=Number(ne.valuesInt64(X));g>0&&(je=new Date(g*1e3))}if(se){const g=Number(se.valuesInt64(X));g>0&&(de=new Date(g*1e3))}}catch(g){console.warn("Error parsing sunrise/sunset:",g)}te.forecast.push({day:H.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?H.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(A.variables(1).valuesArray()[X]),low:Math.round(A.variables(2).valuesArray()[X]),condition:Ee(A.variables(0).valuesArray()[X]).condition,precipitation:Math.round(A.variables(3).valuesArray()[X]||0),wind:Math.round(A.variables(4).valuesArray()[X]),uvIndex:Math.round(A.variables(5).valuesArray()[X]||0),humidity:Math.round(A.variables(6).valuesArray()[X]||0),sunrise:U(je),sunset:U(de),icon:Ee(A.variables(0).valuesArray()[X]).icon}),X===0&&(te.current.uvIndex=Math.round(A.variables(5).valuesArray()[X]||0),te.current.sunrise=U(je),te.current.sunset=U(de))}_(K),c(te),m(!1)}catch(S){S.name!=="AbortError"&&(console.error("Weather fetch error:",S),x(S.message),c(Ft),m(!1))}}},[e.preferredUnits,e.numberOfDays,e.displayDates]),j=(0,h.useCallback)((C={})=>{const{signal:z}=C;if(!navigator.geolocation){u("Geolocation is not supported by your browser");return}m(!0),u(null),navigator.geolocation.getCurrentPosition(async K=>{if(!z?.aborted)try{const{latitude:le,longitude:p}=K.coords,S=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${le}&longitude=${p}&localityLanguage=en`,{signal:z});let T=`${le.toFixed(2)}, ${p.toFixed(2)}`;if(S.ok){const M=await S.json(),L=M.city||M.locality||M.principalSubdivision,U=M.principalSubdivision||M.countryName;L&&U&&L!==U?T=`${L}, ${U}`:L?T=L:M.countryName&&(T=M.countryName)}_(T),w(le,p,T,{signal:z})}catch(le){if(le.name!=="AbortError"){const{latitude:p,longitude:S}=K.coords,T=`${p.toFixed(2)}, ${S.toFixed(2)}`;_(T),w(p,S,T,{signal:z})}}},K=>{let le="Unable to retrieve your location.";switch(K.code){case K.PERMISSION_DENIED:le="Location access denied. Please enable location permissions in your browser settings.";break;case K.POSITION_UNAVAILABLE:le="Location information is unavailable. Please try again later.";break;case K.TIMEOUT:le="Location request timed out. Please try again.";break;default:le="An unknown error occurred while getting your location."}u(le),m(!1)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[w]);(0,h.useEffect)(()=>{const C=new AbortController;return e.useGeolocation?j({signal:C.signal}):y(b,{signal:C.signal}),()=>C.abort()},[e.preferredUnits,e.useGeolocation,b,j,y]),(0,h.useEffect)(()=>{const C=new AbortController,z=setInterval(()=>{e.useGeolocation?j({signal:C.signal}):y(b,{signal:C.signal})},6e5);return()=>{clearInterval(z),C.abort()}},[b,e.useGeolocation,j,y]),(0,h.useEffect)(()=>{if(e.googleFont!=="none"){const C=document.createElement("link");return C.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`,C.rel="stylesheet",document.head.appendChild(C),()=>{try{C&&document.head.contains(C)&&document.head.removeChild(C)}catch{}}}},[e.googleFont]),(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const C=window.matchMedia("(prefers-color-scheme: dark)"),z=K=>v(K.matches);return C.addEventListener("change",z),()=>C.removeEventListener("change",z)},[e.appearanceMode]);const k=(0,h.useMemo)(()=>e.appearanceMode==="system"?I:e.appearanceMode==="dark",[e.appearanceMode,I]),N=k?e.textColorDark||e.theme?.dark?.textColor||s.colors.stardustWhite:e.textColorLight||e.theme?.light?.textColor||s.colors.graphite,f=(0,h.useMemo)(()=>{if(e.googleFont&&e.googleFont!=="none")return`"${String(e.googleFont).replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return s?.fonts?.body||'"Montserrat", system-ui, sans-serif'}},[e.googleFont,e.textFontFamily,s]),E=(0,h.useMemo)(()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",[e.backgroundTexture]),P=(0,h.useMemo)(()=>e.presetTheme==="none"?{}:{cyberpunk:{primary:s.colors.neonPink,secondary:s.colors.electricPurple,gradient:`linear-gradient(135deg, ${s.colors.neonPink}, ${s.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{primary:s.colors.graphite,secondary:s.colors.nightBlack,gradient:`linear-gradient(135deg, ${s.colors.graphite}, ${s.colors.nightBlack})`,glow:"none"},ocean:{primary:s.colors.aetherTeal,secondary:s.colors.cosmicBlue,gradient:`linear-gradient(135deg, ${s.colors.aetherTeal}, ${s.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{primary:s.colors.sunburstGold,secondary:s.colors.neonPink,gradient:`linear-gradient(135deg, ${s.colors.sunburstGold}, ${s.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{primary:"#10b981",secondary:"#059669",gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{primary:s.colors.ultraviolet,secondary:s.colors.neonPink,gradient:s.gradients.gradient,glow:s.effects.glow},midnight:{primary:s.colors.nightBlack,secondary:s.colors.ultraviolet,gradient:`linear-gradient(135deg, ${s.colors.nightBlack}, ${s.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},[e.presetTheme,s]),Z=(0,h.useMemo)(()=>{if(e.useTransparentBackground)return"transparent";if(e.setBackgroundColor&&!d)return e.backgroundColor;if(e.presetTheme!=="none"&&P.gradient)return P.gradient;const C=d?.current?.icon||"clear",z={clear:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,cloudy:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,rainy:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,drizzle:`linear-gradient(135deg, ${s.colors.aetherTeal} 0%, ${s.colors.cosmicBlue} 100%)`,thunderstorm:`linear-gradient(135deg, ${s.colors.electricPurple} 0%, ${s.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${s.colors.stardustWhite} 0%, ${s.colors.cosmicBlue} 100%)`,mist:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`,fog:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`};return e.setBackgroundColor?e.backgroundColor:z[C]||(k?s.colors.nightBlack:s.colors.stardustWhite)},[e.useTransparentBackground,e.setBackgroundColor,e.backgroundColor,e.presetTheme,P,d,k,s]),ce=(0,h.useMemo)(()=>e.useTransparentBackground?{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",backgroundColor:k?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)",borderRadius:"12px",border:`1px solid ${k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"}`}:{},[e.useTransparentBackground,k]),Y=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",xe=e.glowEffect?P.glow||s.effects.glow:"none",ee=(0,h.useMemo)(()=>e.gradientText?{background:P.gradient||s.gradients?.gradient||"linear-gradient(135deg, #EC4899, #8B5CF6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{},[e.gradientText,P.gradient,s.gradients]),oe=C=>Math.round(C),Q=e.preferredUnits==="metric"?"¬∞C":"¬∞F",q=e.preferredUnits==="metric"?"km/h":"mph",pe=d||Ft,ye=pe.forecast.slice(e.hideTodayInForecast?1:0).slice(0,e.numberOfDays),Ce=C=>{const{current:z}=pe;switch(C){case"temperature":return(0,r.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,r.jsxs)("span",{className:"text-4xl font-bold",style:{fontFamily:s.fonts.heading,fontSize:`${48*e.fontScale}px`},children:[oe(z.temperature),Q]})});case"condition":return(0,r.jsx)("div",{className:"text-lg opacity-80 text-center",style:{fontSize:`${18*e.fontScale}px`},children:z.condition});case"humidity":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Se,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Humidity: ",z.humidity,"%"]})]});case"wind":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ie,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Wind: ",z.wind," ",q]})]});case"feelsLike":return(0,r.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["Feels like: ",oe(z.feelsLike),Q]});case"uvIndex":return(0,r.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["UV Index: ",z.uvIndex]});case"cloudCover":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ye,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Cloud Cover: ",z.cloudCover,"%"]})]});case"pressure":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(gt,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Pressure: ",z.pressure," hPa"]})]});case"visibility":return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(ot,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Visibility: ",z.visibility," ",e.preferredUnits==="metric"?"km":"mi"]})]});case"sunrise":return z.sunrise?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(Ue,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Sunrise: ",z.sunrise]})]}):null;case"sunset":return z.sunset?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,r.jsx)(qe,{size:16*e.fontScale}),(0,r.jsxs)("span",{children:["Sunset: ",z.sunset]})]}):null;default:return null}},We=()=>{switch(e.orientation){case"horizontal":return"flex-row items-start justify-center";case"compact":return"flex-col items-center max-w-sm mx-auto";case"wide":return"flex-row items-start justify-between w-full";default:return"flex-col items-center md:flex-row md:items-start md:justify-center"}},D=()=>{const{current:C}=pe;return(0,r.jsxs)("div",{className:"space-y-3 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full gap-4 px-2",style:{minHeight:"60px"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,r.jsx)(De,{condition:C.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:40*e.fontScale,theme:s}),(0,r.jsxs)("span",{className:"text-3xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${36*e.fontScale}px`,textShadow:Y,...ee},children:[oe(C.temperature),Q]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 min-w-0 px-4",children:[(0,r.jsx)("h2",{className:"text-lg font-bold truncate max-w-full",style:{fontFamily:s.fonts.heading,fontSize:`${18*e.fontScale}px`,textShadow:Y,...ee},title:b,children:b}),(0,r.jsx)("span",{className:"text-sm opacity-80 truncate max-w-full",style:{fontSize:`${14*e.fontScale}px`},title:C.condition,children:C.condition})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[(e.currentWeatherFields||[]).includes("feelsLike")&&(0,r.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["Feels ",oe(C.feelsLike),Q]}),(e.currentWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Se,{size:13*e.fontScale}),C.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ie,{size:13*e.fontScale}),C.wind," ",q]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["UV: ",C.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ye,{size:13*e.fontScale}),C.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(gt,{size:13*e.fontScale}),C.pressure," hPa"]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(ot,{size:13*e.fontScale}),C.visibility," ",e.preferredUnits==="metric"?"km":"mi"]}),(e.currentWeatherFields||[]).includes("sunrise")&&C.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(Ue,{size:13*e.fontScale}),C.sunrise]}),(e.currentWeatherFields||[]).includes("sunset")&&C.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,r.jsx)(qe,{size:13*e.fontScale}),C.sunset]})]})]}),e.numberOfDays>0&&ye.length>0&&(0,r.jsx)("div",{className:"border-t pt-3",style:{borderColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:(0,r.jsx)("div",{className:"overflow-x-auto pb-2 px-2",children:(0,r.jsx)("div",{className:"flex gap-4",style:{minWidth:"min-content"},children:ye.map((z,K)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",style:{minWidth:"120px"},children:[(0,r.jsxs)("div",{className:"text-center",style:{minWidth:"45px"},children:[(0,r.jsx)("div",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:z.day}),(0,r.jsx)(De,{condition:z.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:s})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[oe(z.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[oe(z.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`,maxWidth:"100px"},children:z.condition}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&z.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:10*e.fontScale}),z.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ie,{size:10*e.fontScale}),z.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:10*e.fontScale}),z.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV: ",z.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&z.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ue,{size:10*e.fontScale}),z.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&z.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(qe,{size:10*e.fontScale}),z.sunset]})]})]})]},K))})})})]})},R=()=>{const{current:C}=pe;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,r.jsx)(De,{condition:C.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:32*e.fontScale,theme:s}),(0,r.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${28*e.fontScale}px`,textShadow:Y,...ee},children:[oe(C.temperature),Q]}),e.currentWeatherFields?.includes("feelsLike")&&(0,r.jsxs)("span",{className:"text-xs opacity-60 whitespace-nowrap",style:{fontSize:`${11*e.fontScale}px`},children:["(",oe(C.feelsLike),Q,")"]})]}),e.currentWeatherFields?.includes("condition")&&(0,r.jsx)("span",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`},title:C.condition,children:C.condition}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-1 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.currentWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:10*e.fontScale}),C.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ie,{size:10*e.fontScale}),C.wind]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV:",C.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ye,{size:10*e.fontScale}),C.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(gt,{size:10*e.fontScale}),C.pressure]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(ot,{size:10*e.fontScale}),C.visibility]})]})]})]}),e.numberOfDays>0&&ye.length>0&&(0,r.jsx)("div",{className:"flex gap-2 px-2 overflow-x-auto",children:ye.slice(0,3).map((z,K)=>(0,r.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 p-1.5 rounded",style:{minWidth:"50px",backgroundColor:k?"rgba(248, 249, 255, 0.05)":"rgba(11, 14, 18, 0.03)"},children:[(0,r.jsx)("span",{className:"text-xs font-semibold opacity-60",style:{fontSize:`${10*e.fontScale}px`},children:z.day}),(0,r.jsx)(De,{condition:z.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:16*e.fontScale,theme:s}),(0,r.jsxs)("div",{className:"text-xs mt-0.5 space-y-0.5",style:{fontSize:`${11*e.fontScale}px`},children:[(0,r.jsxs)("div",{children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"font-bold",children:[oe(z.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"opacity-60 ml-0.5",children:[oe(z.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"opacity-70 truncate",style:{fontSize:`${9*e.fontScale}px`,maxWidth:"50px"},children:z.condition}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 items-center opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&z.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:8*e.fontScale}),z.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ie,{size:8*e.fontScale}),z.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:8*e.fontScale}),z.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV:",z.uvIndex]})]})]})]},K))})]})},$=()=>{const{current:C}=pe,z=[{key:"feelsLike",label:"Feels Like",value:`${oe(C.feelsLike)}${Q}`,icon:null},{key:"humidity",label:"Humidity",value:`${C.humidity}%`,icon:Se},{key:"wind",label:"Wind",value:`${C.wind} ${q}`,icon:Ie},{key:"uvIndex",label:"UV Index",value:C.uvIndex,icon:null},{key:"pressure",label:"Pressure",value:`${C.pressure} hPa`,icon:gt},{key:"visibility",label:"Visibility",value:`${C.visibility} ${e.preferredUnits==="metric"?"km":"mi"}`,icon:ot},{key:"cloudCover",label:"Clouds",value:`${C.cloudCover}%`,icon:Ye},{key:"sunrise",label:"Sunrise",value:C.sunrise,icon:Ue},{key:"sunset",label:"Sunset",value:C.sunset,icon:qe}].filter(K=>(e.currentWeatherFields||[]).includes(K.key)&&K.value);return(0,r.jsxs)("div",{className:"w-full space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h2",{className:"text-xl font-bold truncate",style:{fontFamily:s.fonts.heading,fontSize:`${22*e.fontScale}px`,textShadow:Y,...ee},title:b,children:b}),e.useGeolocation&&(0,r.jsxs)("button",{onClick:()=>j(),className:"flex items-center gap-1 text-xs opacity-60 hover:opacity-100 transition-opacity mt-1",style:{fontSize:`${11*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,r.jsx)(Qt,{size:10*e.fontScale,"aria-hidden":"true"}),"Update"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0 px-6",children:[(0,r.jsx)(De,{condition:C.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:56*e.fontScale,theme:s}),(0,r.jsxs)("span",{className:"text-5xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${52*e.fontScale}px`,textShadow:Y,...ee},children:[oe(C.temperature),Q]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,r.jsx)("div",{className:"text-lg opacity-90 truncate",style:{fontSize:`${18*e.fontScale}px`},title:C.condition,children:C.condition}),ye[0]&&(0,r.jsxs)("div",{className:"text-sm opacity-70",style:{fontSize:`${14*e.fontScale}px`},children:["H: ",oe(ye[0].high),Q," / L: ",oe(ye[0].low),Q]})]})]}),z.length>0&&(0,r.jsx)("div",{className:"grid gap-4 py-3 border-t border-b",style:{gridTemplateColumns:z.length<=5?`repeat(${z.length}, 1fr)`:"repeat(auto-fit, minmax(120px, 1fr))",borderColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:z.map(K=>(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("span",{className:"text-xs opacity-60 uppercase tracking-wider mb-1",style:{fontSize:`${10*e.fontScale}px`},children:K.label}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[K.icon&&(0,r.jsx)(K.icon,{size:14*e.fontScale,className:"opacity-70"}),(0,r.jsx)("span",{className:"font-semibold",style:{fontSize:`${14*e.fontScale}px`},children:K.value})]})]},K.key))}),e.numberOfDays>0&&ye.length>0&&(0,r.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,r.jsx)("div",{className:"flex gap-3",style:{minWidth:"min-content"},children:ye.slice(0,7).map((K,le)=>(0,r.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center p-3 rounded-lg",style:{minWidth:"70px",backgroundColor:k?"rgba(248, 249, 255, 0.08)":"rgba(11, 14, 18, 0.04)"},children:[(0,r.jsx)("span",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:K.day}),(0,r.jsx)(De,{condition:K.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:s}),(0,r.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,r.jsxs)("div",{className:"text-center",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${13*e.fontScale}px`},children:[oe(K.high),"¬∞"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("span",{className:"text-xs opacity-60 ml-1",style:{fontSize:`${11*e.fontScale}px`},children:[oe(K.low),"¬∞"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70 text-center truncate",style:{fontSize:`${10*e.fontScale}px`},children:K.condition}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-0.5 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&K.precipitation>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:10*e.fontScale}),K.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ie,{size:10*e.fontScale}),K.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Se,{size:10*e.fontScale}),K.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,r.jsxs)("div",{children:["UV: ",K.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center text-xs opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&K.sunrise&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(Ue,{size:9*e.fontScale}),K.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&K.sunset&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(qe,{size:9*e.fontScale}),K.sunset]})]})]})]},le))})})]})},ge=()=>{switch(e.orientation){case"horizontal":return"auto-cols-fr grid-flow-col";case"compact":return"grid-cols-2 sm:grid-cols-3";case"wide":return"auto-cols-fr grid-flow-col";default:return"grid-cols-3 md:grid-cols-5"}},Xe=()=>{const C=Math.min(e.numberOfDays||5,10);switch(e.orientation){case"horizontal":case"wide":return{gridTemplateColumns:`repeat(${C}, minmax(0, 1fr))`};default:return{}}},He=(0,h.useMemo)(()=>{const C={};return typeof Z=="string"&&Z.includes("gradient")?E?C.backgroundImage=`${E}, ${Z}`:C.backgroundImage=Z:(C.backgroundColor=Z,E&&(C.backgroundImage=E)),C.backgroundSize=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",C},[Z,E,e.backgroundTexture]),Le=()=>(0,r.jsxs)("div",{className:`flex gap-6 ${We()}`,children:[(0,r.jsxs)("div",{className:`text-center ${e.orientation==="wide"?"flex-shrink-0 min-w-[200px]":e.orientation==="compact"?"w-full":"flex-shrink-0"}`,children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 mb-4",children:[(0,r.jsx)(De,{condition:pe.current.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:48*e.fontScale,theme:s}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:s.fonts.heading,textShadow:Y,fontSize:`${20*e.fontScale}px`,...ee},children:b}),e.useGeolocation&&(0,r.jsxs)("button",{onClick:()=>j(),className:"flex items-center justify-center gap-1 text-xs opacity-70 hover:opacity-100 transition-opacity mt-1 mx-auto",style:{fontSize:`${12*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,r.jsx)(Qt,{size:12*e.fontScale,"aria-hidden":"true"}),"Detect Location"]})]})]}),(0,r.jsx)("div",{className:"space-y-2",style:{textShadow:Y},children:(e.currentWeatherFields||[]).slice(0,6).map((C,z)=>(0,r.jsx)("div",{children:Ce(C)},z))})]}),(0,r.jsxs)("div",{className:`text-center ${e.orientation==="compact"?"w-full mt-4":"flex-1"}`,role:"region","aria-label":"Weather forecast",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-wider opacity-70 mb-3",style:{textShadow:Y,fontSize:`${14*e.fontScale}px`},children:[e.numberOfDays,"-Day Forecast"]}),(0,r.jsx)("div",{className:`grid gap-3 ${ge()} justify-items-center`,style:Xe(),children:ye.map((C,z)=>(0,r.jsxs)("div",{className:`p-3 rounded-lg ${e.visuallyGroupForecast?"bg-opacity-10 bg-current":""}`,style:{textAlign:"center",textShadow:Y,...e.visuallyGroupForecast&&{backgroundColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"}},children:[(0,r.jsxs)("div",{className:"text-xs font-semibold mb-2 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[C.day,e.displayDates&&C.date&&(0,r.jsx)("div",{className:"text-xs opacity-50",style:{fontSize:`${10*e.fontScale}px`},children:C.date})]}),(0,r.jsx)(De,{condition:C.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:24*e.fontScale,theme:s}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,r.jsxs)("div",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[oe(C.high),Q]}),(e.dailyWeatherFields||[]).includes("low")&&(0,r.jsxs)("div",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[oe(C.low),Q]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,r.jsx)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:C.condition}),(e.dailyWeatherFields||[]).includes("precipitation")&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(Se,{size:10*e.fontScale,"aria-hidden":"true"}),C.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(Ie,{size:10*e.fontScale,"aria-hidden":"true"}),C.wind," ",q]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&C.uvIndex!==void 0&&(0,r.jsxs)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:["UV: ",C.uvIndex]}),(e.dailyWeatherFields||[]).includes("humidity")&&C.humidity!==void 0&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,r.jsx)(Se,{size:10*e.fontScale,"aria-hidden":"true"}),C.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("sunrise")&&C.sunrise&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,r.jsx)(Ue,{size:10*e.fontScale,"aria-hidden":"true"}),C.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&C.sunset&&(0,r.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,r.jsx)(qe,{size:10*e.fontScale,"aria-hidden":"true"}),C.sunset]})]})]},z))})]})]}),Ve=()=>{switch(console.log("[WeatherWidget] orientation:",e.orientation),e.orientation){case"horizontal":return D();case"compact":return R();case"wide":return $();default:return Le()}},me=()=>{switch(e.orientation){case"horizontal":return"p-3";case"compact":return"p-2";case"wide":return"p-5";default:return"p-6"}},Ge={small:.85,medium:1,large:1.15,xlarge:1.3}[e.widgetSize]||1;return(0,r.jsx)("div",{className:`h-full w-full ${me()}`,style:{...He,color:N,fontFamily:f,textAlign:e.orientation==="horizontal"||e.orientation==="compact"?"left":e.textAlign,boxShadow:xe,transform:`scale(${Ge})`,transformOrigin:"top left",...ce},role:"region","aria-label":"Weather widget",children:a?(0,r.jsx)(oa,{orientation:e.orientation}):(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsxs)("div",{className:`${e.orientation==="compact"?"mb-2 p-2 text-xs":"mb-4 p-3 text-sm"} bg-yellow-100 text-yellow-800 rounded-lg`,role:"alert","aria-live":"polite",children:[(0,r.jsx)(qt,{size:e.orientation==="compact"?12:16,className:"inline mr-2","aria-hidden":"true"}),e.orientation==="compact"?"Location error":l]}),e.orientation!=="compact"&&e.showSevereAlerts&&d?.alerts&&d.alerts.length>0&&(0,r.jsx)("div",{className:"mb-4",children:d.alerts.slice(0,e.orientation==="horizontal"?1:2).map((C,z)=>(0,r.jsx)(aa,{alert:C},z))}),Ve(),n&&(0,r.jsxs)("div",{className:`mt-4 ${e.orientation==="compact"?"p-2 text-xs":"p-3 text-sm"} bg-red-100 text-red-800 rounded-lg flex items-center justify-between`,role:"alert","aria-live":"assertive",children:[(0,r.jsx)("span",{children:e.orientation==="compact"?"Error":n}),(0,r.jsx)("button",{onClick:()=>{e.useGeolocation?j():y(b)},className:`ml-3 ${e.orientation==="compact"?"px-2 py-0.5":"px-3 py-1"} bg-red-200 hover:bg-red-300 rounded text-red-800 text-xs font-medium transition-colors`,"aria-label":"Retry fetching weather data",children:"Retry"})]}),e.orientation!=="compact"&&e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:s.colors.cosmicBlue,color:s.colors.stardustWhite,fontFamily:s.fonts.heading,fontSize:`${14*e.fontScale}px`},"aria-label":"Customize weather widget settings",onClick:()=>o?.("appearance"),children:"Customize"})]})})};zr.propTypes={config:re.default.shape({weatherLocation:re.default.string,useGeolocation:re.default.bool,preferredUnits:re.default.oneOf(["metric","imperial"]),numberOfDays:re.default.number,displayDates:re.default.bool,hideTodayInForecast:re.default.bool,currentWeatherFields:re.default.arrayOf(re.default.string),dailyWeatherFields:re.default.arrayOf(re.default.string),showSevereAlerts:re.default.bool,showCustomizeButton:re.default.bool,appearanceMode:re.default.oneOf(["light","dark","system"]),textColorLight:re.default.string,textColorDark:re.default.string,textFontFamily:re.default.oneOf(["sans","serif","mono"]),googleFont:re.default.string,fontScale:re.default.number,textAlign:re.default.oneOf(["left","center","right"]),textShadows:re.default.bool,gradientText:re.default.bool,glowEffect:re.default.bool,animateIcons:re.default.bool,greyscaleIcons:re.default.bool,useTransparentBackground:re.default.bool,setBackgroundColor:re.default.bool,backgroundColor:re.default.string,backgroundTexture:re.default.oneOf(["none","noise","stars","dots","grid","waves"]),presetTheme:re.default.oneOf(["none","cyberpunk","stealth","ocean","sunset","forest","neon","midnight"]),orientation:re.default.oneOf(["auto","horizontal","compact","wide"]),visuallyGroupForecast:re.default.bool}).isRequired,onCustomizeRequest:re.default.func};var V=O,sa=6e5,na=1,la=14,ia=5,Mr=.5,Lr=2,Er=1,ca=100,da=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},ua=e=>typeof e!="string"?"New York, NY":e.replace(/[^a-zA-Z0-9\s,.\-']/g,"").replace(/'/g,"\\'").trim().slice(0,ca)||"New York, NY",pa={sunny:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',clear:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',cloudy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',clouds:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rainy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rain:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',"partly-cloudy":'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2m6.4 1.4l-1.4 1.4M20 12h2M6 18H4m9.4 3.6L12 20m6.4-11.6L20 6.6"/><circle cx="12" cy="12" r="4"/><path d="M13 19a2 2 0 0 0 0-4H3a4 4 0 1 0 0 8h10Z"/></svg>',drizzle:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 19v1m8-1v1m-4-1v1m-4-5v1m8-1v1m-4-1v1"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',snow:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"/><path d="M8 16h.01M8 12h.01M12 16h.01M12 12h.01M16 16h.01M16 12h.01"/></svg>',thunderstorm:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"/><path d="m13 11-4 6h6l-4 6"/></svg>',mist:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',fog:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',haze:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',smoke:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9m-2-8h10"/></svg>',dust:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',sand:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',tornado:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H3m15 4H6m11 4H9m7 4h-7m5 4h-3"/></svg>'};const ma=e=>{const o=e.appearanceMode==="dark",t=o?e.textColorDark:e.textColorLight,s=()=>{if(e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return V.fonts.body}},d=()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",a=e.presetTheme==="none"?{}:{cyberpunk:{gradient:`linear-gradient(135deg, ${V.colors.neonPink}, ${V.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{gradient:`linear-gradient(135deg, ${V.colors.graphite}, ${V.colors.nightBlack})`,glow:"none"},ocean:{gradient:`linear-gradient(135deg, ${V.colors.aetherTeal}, ${V.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{gradient:`linear-gradient(135deg, ${V.colors.sunburstGold}, ${V.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{gradient:`linear-gradient(90deg, ${V.colors.neonPink} 0%, ${V.colors.sunburstGold} 28%, ${V.colors.aetherTeal} 50%, ${V.colors.cosmicBlue} 74%, ${V.colors.electricPurple} 100%)`,glow:"0 0 4px rgba(139, 92, 246, 0.5)"},midnight:{gradient:`linear-gradient(135deg, ${V.colors.nightBlack}, ${V.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},n=((j="clear")=>e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:e.presetTheme!=="none"&&a.gradient?a.gradient:{clear:`linear-gradient(135deg, ${V.colors.sunburstGold} 0%, ${V.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${V.colors.sunburstGold} 0%, ${V.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${V.colors.softSlate} 0%, ${V.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${V.colors.cosmicBlue} 0%, ${V.colors.graphite} 100%)`,thunderstorm:`linear-gradient(135deg, ${V.colors.electricPurple} 0%, ${V.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${V.colors.stardustWhite} 0%, ${V.colors.cosmicBlue} 100%)`}[j]||(o?V.colors.nightBlack:V.colors.stardustWhite))(),x=d(),l=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",u=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",b=e.glowEffect?a.glow||"0 0 4px rgba(139, 92, 246, 0.5)":"none",_=e.gradientText?`
    background: ${a.gradient||`linear-gradient(90deg, ${V.colors.neonPink} 0%, ${V.colors.sunburstGold} 28%, ${V.colors.aetherTeal} 50%, ${V.colors.cosmicBlue} 74%, ${V.colors.electricPurple} 100%)`};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  `:"",I=s(),v=e.textAlign||"center",y=Math.max(Mr,Math.min(Lr,e.fontScale||Er)),w=e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget - ${da(e.weatherLocation)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  ${w?`<link href="${w}" rel="stylesheet">`:""}
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${n};
      ${x?`background-image: ${x};`:""}
      ${x?`background-size: ${l};`:""}
      color: ${t};
      font-family: ${I};
      text-align: ${v};
      padding: 24px;
      ${b!=="none"?`box-shadow: ${b};`:""}
      ${e.useTransparentBackground?`
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      `:""}
    }

    h2 {
      ${_}
    }

    .weather-container {
      ${e.useTransparentBackground?`
        background: ${o?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)"};
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"};
        padding: 24px;
      `:""}
      display: flex;
      gap: 24px;
      ${e.orientation==="horizontal"?"flex-direction: row;":"flex-direction: column;"}
    }

    .loading-skeleton {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .skeleton-circle {
      width: ${48*y}px;
      height: ${48*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 50%;
    }

    .skeleton-line {
      height: ${16*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 4px;
      margin: 8px 0;
    }

    .alert-banner {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 16px;
      margin-bottom: 16px;
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #EF4444;
      border-radius: 8px;
      color: #DC2626;
    }

    .alert-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .current-weather {
      flex-shrink: 0;
    }

    .location-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .location-title {
      font-size: ${20*y}px;
      font-weight: bold;
      font-family: ${V.fonts.heading};
      text-shadow: ${u};
    }

    .current-temp {
      font-size: ${48*y}px;
      font-weight: bold;
      font-family: ${V.fonts.heading};
      text-shadow: ${u};
    }

    .current-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      text-shadow: ${u};
      font-size: ${14*y}px;
    }

    .forecast-section {
      flex: 1;
    }

    .forecast-title {
      font-size: ${14*y}px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.7;
      margin-bottom: 12px;
      text-shadow: ${u};
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(${80*y}px, 1fr));
      gap: 12px;
    }

    .forecast-day {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      ${e.visuallyGroupForecast?`background: ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"};`:""}
    }

    .day-name {
      font-size: ${12*y}px;
      font-weight: 600;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .day-date {
      font-size: ${10*y}px;
      opacity: 0.5;
    }

    .day-temp {
      font-size: ${14*y}px;
      font-weight: bold;
      margin-top: 8px;
    }

    .day-low {
      font-size: ${12*y}px;
      opacity: 0.6;
    }

    .day-condition {
      font-size: ${12*y}px;
      opacity: 0.7;
      margin-top: 4px;
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: ${14*y}px;
      font-weight: 500;
      background-color: ${V.colors.cosmicBlue};
      color: ${V.colors.stardustWhite};
      font-family: ${V.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    .weather-icon {
      display: inline-block;
      ${e.greyscaleIcons?"filter: grayscale(100%);":""}
      ${e.animateIcons?"animation: pulse-icon 2s infinite;":""}
    }

    @keyframes pulse-icon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body {
          background: ${e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:V.colors.nightBlack};
          color: ${e.textColorDark};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="weather-root">
    <div class="loading-skeleton">
      <div class="skeleton-circle"></div>
      <div class="skeleton-line" style="width: 200px;"></div>
      <div class="skeleton-line" style="width: 150px;"></div>
      <div class="skeleton-line" style="width: 180px;"></div>
    </div>
  </div>

  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${Dr(e)}
  <\/script>
</body>
</html>`},Dr=e=>{const o=ua(e.weatherLocation||"New York, NY"),t=e.preferredUnits==="metric"?"celsius":"fahrenheit",s=e.preferredUnits==="metric"?"kmh":"mph",d=e.preferredUnits==="metric"?"mm":"inch",c=e.preferredUnits==="metric"?"¬∞C":"¬∞F",a=e.preferredUnits==="metric"?"km/h":"mph",m=Math.max(Mr,Math.min(Lr,e.fontScale||Er)),n=Math.max(na,Math.min(la,e.numberOfDays||ia));return`
    const LOCATION = '${o}';
    const TEMP_UNIT_API = '${t}';
    const WIND_UNIT_API = '${s}';
    const PRECIP_UNIT_API = '${d}';
    const TEMP_UNIT = '${c}';
    const WIND_UNIT = '${a}';
    const FONT_SCALE = ${m};
    const SHOW_SEVERE_ALERTS = ${e.showSevereAlerts||!1};
    const DISPLAY_DATES = ${e.displayDates||!1};
    const CURRENT_FIELDS = ${JSON.stringify(e.currentWeatherFields||[])};
    const DAILY_FIELDS = ${JSON.stringify(e.dailyWeatherFields||[])};
    const NUM_DAYS = ${n};
    const HIDE_TODAY = ${e.hideTodayInForecast||!1};
    const REFRESH_INTERVAL_MS = ${sa};

    const weatherIcons = ${JSON.stringify(pa)};

    function getWeatherIcon(condition) {
      const conditionLower = condition.toLowerCase();
      return weatherIcons[conditionLower] || weatherIcons['partly-cloudy'];
    }

    function getConditionFromWMO(code) {
      if (code === 0) return 'Clear';
      if (code <= 3) return 'Partly Cloudy';
      if (code <= 48) return 'Fog';
      if (code <= 67) return 'Rain';
      if (code <= 77) return 'Snow';
      if (code <= 82) return 'Rain';
      if (code <= 86) return 'Snow';
      if (code <= 99) return 'Thunderstorm';
      return 'Cloudy';
    }

    function getIconFromWMO(code) {
      if (code === 0) return 'clear';
      if (code <= 3) return 'partly-cloudy';
      if (code <= 48) return 'fog';
      if (code <= 57) return 'drizzle';
      if (code <= 67) return 'rain';
      if (code <= 77) return 'snow';
      if (code <= 82) return 'rain';
      if (code <= 86) return 'snow';
      if (code >= 95) return 'thunderstorm';
      return 'clouds';
    }

    function renderErrorState(message) {
      const errorIcon = '<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6m0-6 6 6"/></svg>';
      const html = \`
        <div class="weather-container" style="text-align: center; padding: 32px;">
          <div style="opacity: 0.6; margin-bottom: 16px;">\${errorIcon}</div>
          <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Unable to Load Weather</h3>
          <p style="font-size: 14px; opacity: 0.7; margin-bottom: 16px;">\${message}</p>
          <button onclick="fetchWeatherData()" style="padding: 8px 16px; border-radius: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.4); color: inherit; cursor: pointer; font-size: 14px;">
            Try Again
          </button>
        </div>
      \`;
      document.getElementById('weather-root').innerHTML = html;
    }

    async function fetchWeatherData() {
      try {
        // Note: Open-Meteo API has rate limits. Consider caching responses for production use.
        // Geocode the location using Open-Meteo
        const geoResponse = await fetch(
          \`https://geocoding-api.open-meteo.com/v1/search?name=\${encodeURIComponent(LOCATION)}&count=1&language=en&format=json\`
        );
        
        if (!geoResponse.ok) {
          throw new Error('Unable to find location. Please check the location name.');
        }
        
        const geoData = await geoResponse.json();
        if (!geoData.results || geoData.results.length === 0) {
          throw new Error('Location not found. Please try a different city name.');
        }

        const { latitude, longitude } = geoData.results[0];

        // Fetch weather data using Open-Meteo Weather API
        const weatherResponse = await fetch(
          \`https://api.open-meteo.com/v1/forecast?latitude=\${latitude}&longitude=\${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max&temperature_unit=\${TEMP_UNIT_API}&wind_speed_unit=\${WIND_UNIT_API}&precipitation_unit=\${PRECIP_UNIT_API}&timezone=auto\`
        );

        if (!weatherResponse.ok) {
          throw new Error('Weather service temporarily unavailable. Please try again later.');
        }

        const data = await weatherResponse.json();

        renderWeatherData(data);
      } catch (err) {
        console.error('Weather fetch error:', err);
        renderErrorState(err.message || 'Could not load weather data. Please try again.');
      }
    }

    function renderWeatherData(data) {
      const current = data.current;
      const dailyData = data.daily;
      const startIdx = HIDE_TODAY ? 1 : 0;
      const forecast = dailyData.time.slice(startIdx, startIdx + NUM_DAYS);

      let html = '<div class="weather-container">';

      // Current weather
      html += '<div class="current-weather">';
      html += \`
        <div class="location-header">
          <div class="weather-icon">\${getWeatherIcon(getIconFromWMO(current.weather_code))}</div>
          <h2 class="location-title">\${LOCATION}</h2>
        </div>
        <div class="current-temp">\${Math.round(current.temperature_2m)}\${TEMP_UNIT}</div>
        <div class="current-details">
      \`;

      if (CURRENT_FIELDS.includes('condition')) {
        html += \`<div>\${getConditionFromWMO(current.weather_code)}</div>\`;
      }
      if (CURRENT_FIELDS.includes('humidity')) {
        html += \`<div>Humidity: \${Math.round(current.relative_humidity_2m)}%</div>\`;
      }
      if (CURRENT_FIELDS.includes('wind')) {
        html += \`<div>Wind: \${Math.round(current.wind_speed_10m)} \${WIND_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('feelsLike')) {
        html += \`<div>Feels like: \${Math.round(current.apparent_temperature)}\${TEMP_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('uvIndex')) {
        html += \`<div>UV Index: N/A</div>\`;
      }

      html += '</div></div>';

      // Forecast
      html += '<div class="forecast-section">';
      html += \`<h3 class="forecast-title">\${NUM_DAYS}-Day Forecast</h3>\`;
      html += '<div class="forecast-grid">';

      forecast.forEach((dateStr, idx) => {
        const actualIdx = startIdx + idx;
        const date = new Date(dateStr);
        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
        const dateDisplay = DISPLAY_DATES ? date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : '';

        html += '<div class="forecast-day">';
        html += \`<div class="day-name">\${dayName}\`;
        if (DISPLAY_DATES && dateDisplay) {
          html += \`<div class="day-date">\${dateDisplay}</div>\`;
        }
        html += '</div>';
        html += \`<div class="weather-icon">\${getWeatherIcon(getIconFromWMO(dailyData.weather_code[actualIdx]))}</div>\`;

        if (DAILY_FIELDS.includes('high')) {
          html += \`<div class="day-temp">\${Math.round(dailyData.temperature_2m_max[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('low')) {
          html += \`<div class="day-low">\${Math.round(dailyData.temperature_2m_min[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('condition')) {
          html += \`<div class="day-condition">\${getConditionFromWMO(dailyData.weather_code[actualIdx])}</div>\`;
        }
        if (DAILY_FIELDS.includes('precipitation') && dailyData.precipitation_probability_max[actualIdx] > 0) {
          html += \`<div class="day-condition">\${Math.round(dailyData.precipitation_probability_max[actualIdx])}%</div>\`;
        }

        html += '</div>';
      });

      html += '</div></div></div>';

      document.getElementById('weather-root').innerHTML = html;
    }

    // Initial load
    fetchWeatherData();

    // Refresh at configured interval
    setInterval(fetchWeatherData, REFRESH_INTERVAL_MS);
  `},ha={id:"clock",label:"Clock",description:"Advanced customizable clock with multiple styles.",defaultConfig:{is12Hour:!0,showDate:!0,showSeconds:!1,timezone:"local",blinkingSeparator:!1,dateFormat:"long",clockSize:"large",clockType:"digital-solid",responsiveSizing:!1,handShape:"classic",faceMarkers:"dots",digitFontFamily:"default",textFontFamily:"default",googleFont:"none",textAlign:"center",textShadows:!1,useTransparentBg:!1,bgColor:O.colors.stardustWhite,backgroundTexture:"none",widgetMode:"clock",presetTheme:"none",appearance:"system",lightMode:{clockColor:O.colors.graphite,digitColor:O.colors.stardustWhite,textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},darkMode:{clockColor:O.colors.ultraviolet,digitColor:O.colors.stardustWhite,textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack},showHoverMenu:!1,showCustomizeButton:!1,glowEffect:!1,gradientText:!1},fields:[{name:"is12Hour",label:"12-Hour Format",type:"boolean",section:"time"},{name:"showDate",label:"Show Date",type:"boolean",section:"time"},{name:"showSeconds",label:"Show Seconds",type:"boolean",section:"time"},{name:"timezone",label:"Timezone",type:"select",section:"time",options:[{label:"Local (System)",value:"local"},{label:"UTC",value:"UTC"},{label:"Eastern (New York)",value:"America/New_York"},{label:"Central (Chicago)",value:"America/Chicago"},{label:"Mountain (Denver)",value:"America/Denver"},{label:"Pacific (Los Angeles)",value:"America/Los_Angeles"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Hong Kong",value:"Asia/Hong_Kong"},{label:"Sydney",value:"Australia/Sydney"},{label:"Dubai",value:"Asia/Dubai"},{label:"Mumbai",value:"Asia/Kolkata"}]},{name:"blinkingSeparator",label:"Blinking Separator (:)",type:"boolean",section:"time"},{name:"dateFormat",label:"Date Format",type:"select",section:"time",options:[{label:"Long (Monday, January 1, 2025)",value:"long"},{label:"Short (Mon, Jan 1, 2025)",value:"short"},{label:"Numeric (01/01/2025)",value:"numeric"},{label:"European (01.01.2025)",value:"european"},{label:"ISO (2025-01-01)",value:"iso"}]},{name:"clockSize",label:"Clock Size",type:"select",section:"style",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"clockType",label:"Clock Type",type:"select",section:"style",options:[{label:"Digital Solid",value:"digital-solid"},{label:"Digital Roulette",value:"digital-roulette"},{label:"Flip Clock",value:"flip-clock"},{label:"Analog Smooth",value:"analog-smooth"},{label:"Analog Tick",value:"analog-tick"},{label:"Analog Trail",value:"analog-trail"},{label:"Analog Dots",value:"analog-dots"},{label:"Analog Numbers",value:"analog-numbers"},{label:"Analog Planets",value:"analog-planets"}]},{name:"responsiveSizing",label:"Responsive Sizing (Container Queries)",type:"boolean",section:"style"},{name:"handShape",label:"Hand Shape (Analog Only)",type:"select",section:"analog",options:[{label:"Classic",value:"classic"},{label:"Arrow",value:"arrow"},{label:"Modern",value:"modern"},{label:"Minimalist",value:"minimalist"}]},{name:"faceMarkers",label:"Face Markers (Analog Only)",type:"select",section:"analog",options:[{label:"Dots",value:"dots"},{label:"Numbers",value:"numbers"},{label:"Roman Numerals",value:"roman"},{label:"Lines",value:"lines"},{label:"None",value:"none"}]},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"googleFont",label:"Google Font Style",type:"select",section:"typography",options:[{label:"None (Default)",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"widgetMode",label:"Widget Mode",type:"select",section:"interactive",options:[{label:"Clock",value:"clock"},{label:"Timer",value:"timer"},{label:"Stopwatch",value:"stopwatch"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",options:[{label:"None (Custom)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects"}]};var xa=e=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},tr=e=>{const o=xa(e);if(!o)return 0;const[t,s,d]=[o.r,o.g,o.b].map(c=>(c=c/255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return .2126*t+.7152*s+.0722*d},ga=e=>[...e].sort((o,t)=>tr(o)-tr(t));const Pr=e=>{if(!e||!e.palette||e.palette.length<8)return[];const{palette:o,primary:t,accent:s}=e,d=ga(o),c=d[0],a=d[d.length-1],m=d.slice(2,6),n=[];return n.push({id:"brand-monochrome",name:"Brand Monochrome",description:"Bold monochromatic using your primary brand color",backgroundColor:c,clockColor:t,digitColor:a,textColor:a,texture:"none",glow:!0,category:"brand"}),n.push({id:"brand-contrast",name:"Brand Contrast",description:"High contrast complementary colors",backgroundColor:d[0],clockColor:d[d.length-2],digitColor:d[0],textColor:d[d.length-1],texture:"grid",glow:!1,category:"brand"}),n.push({id:"brand-vibrant",name:"Brand Vibrant",description:"Energetic and colorful",backgroundColor:m[0]||d[2],clockColor:o[1],digitColor:a,textColor:o[2],texture:"dots",glow:!0,category:"brand"}),n.push({id:"brand-professional",name:"Brand Professional",description:"Sophisticated and subtle",backgroundColor:m[2]||d[4],clockColor:m[1]||d[3],digitColor:a,textColor:d[1],texture:"none",glow:!1,category:"brand"}),n.push({id:"brand-dark",name:"Brand Dark",description:"Dark theme with brand accents",backgroundColor:c,clockColor:s,digitColor:c,textColor:m[m.length-1]||a,texture:"stars",glow:!0,category:"brand"}),n.push({id:"brand-light",name:"Brand Light",description:"Clean light theme",backgroundColor:a,clockColor:t,digitColor:a,textColor:c,texture:"none",glow:!1,category:"brand"}),n.push({id:"brand-neon",name:"Brand Neon",description:"Glowing neon effect",backgroundColor:d[0],clockColor:o[3],digitColor:a,textColor:o[4],texture:"noise",glow:!0,category:"brand"}),n.push({id:"brand-minimal",name:"Brand Minimal",description:"Clean minimalist design",backgroundColor:a,clockColor:c,digitColor:a,textColor:d[2],texture:"none",glow:!1,category:"brand"}),n};var ba={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}},fa=({value:e,label:o,colors:t,size:s})=>{const[d,c]=(0,h.useState)(e),[a,m]=(0,h.useState)(!1),[n,x]=(0,h.useState)(e);return(0,h.useEffect)(()=>{if(e===n)return;let l,u,b;return l=setTimeout(()=>{m(!0),u=setTimeout(()=>{c(e),b=setTimeout(()=>{m(!1),x(e)},300)},300)},0),()=>{clearTimeout(l),clearTimeout(u),clearTimeout(b)}},[e,n]),(0,r.jsxs)("div",{className:"inline-flex flex-col items-center mx-1",children:[(0,r.jsxs)("div",{style:{width:`${s*.7}px`,height:`${s}px`,background:t.clockColor||"#333",borderRadius:"8px",color:t.digitColor||"#fff",fontSize:`${s*.65}px`,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden",perspective:"1000px",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:a?"rotateX(90deg)":"rotateX(0deg)"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%)"}}),(0,r.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, transparent 100%)"}}),(0,r.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",background:"rgba(0,0,0,0.3)",zIndex:10}}),(0,r.jsx)("div",{style:{position:"relative",zIndex:5},children:String(d).padStart(2,"0")})]}),o&&(0,r.jsx)("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textTransform:"uppercase"},children:o})]})},ya=({time:e,size:o,type:t,colors:s,config:d,theme:c})=>{const a=e.getHours()%12,m=e.getMinutes(),n=e.getSeconds(),x=a*30+m*.5,l=m*6,u=n*6,b=o/2,_=o*.45,I=()=>{const y=[],w=d.faceMarkers!==void 0&&["dots","numbers","roman","lines","none","planets"].includes(d.faceMarkers)?d.faceMarkers:"dots";if(w==="none")return y;for(let j=0;j<12;j++){const k=j*30*(Math.PI/180),N=b+Math.sin(k)*_*.85,f=b-Math.cos(k)*_*.85;if(w==="dots")y.push((0,r.jsx)("circle",{cx:N,cy:f,r:o*.015,fill:s.clockColor,opacity:"0.5"},j));else if(w==="numbers")y.push((0,r.jsx)("text",{x:N,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.08,fill:s.clockColor,fontWeight:"bold",children:j===0?12:j},j));else if(w==="roman")y.push((0,r.jsx)("text",{x:N,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.06,fill:s.clockColor,fontWeight:"bold",children:["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"][j]},j));else if(w==="lines"){const E=b+Math.sin(k)*_*.75,P=b-Math.cos(k)*_*.75;y.push((0,r.jsx)("line",{x1:E,y1:P,x2:N,y2:f,stroke:s.clockColor,strokeWidth:o*.008,opacity:"0.6"},j))}else w==="planets"&&y.push((0,r.jsx)("circle",{cx:N,cy:f,r:o*.01*[8,6,7,5,9,6,8,5,6,7,5,6][j]/5,fill:s.clockColor,opacity:"0.6"},j))}return y},v=(y,w,j)=>{const k=d.handShape!==void 0&&["classic","arrow","modern","minimalist"].includes(d.handShape)?d.handShape:"classic",N=b+Math.sin(y*Math.PI/180)*w,f=b-Math.cos(y*Math.PI/180)*w,E={hour:o*.04,minute:o*.03,second:o*.01},P=t==="trail"&&j==="second"?o*.01:E[j]||o*.02;switch(k){case"classic":return(0,r.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:j==="second"&&t==="trail"?s.textColor:s.clockColor,strokeWidth:P,strokeLinecap:"round",opacity:t==="trail"?.7:1,style:t==="tick"?{transition:"all 0.05s ease"}:{}});case"arrow":{const Z=P*2,ce=w*.15,Y=b+Math.sin(y*Math.PI/180)*(w-ce),xe=b-Math.cos(y*Math.PI/180)*(w-ce);return(0,r.jsxs)("g",{children:[(0,r.jsx)("line",{x1:b,y1:b,x2:Y,y2:xe,stroke:s.clockColor,strokeWidth:P,strokeLinecap:"round"}),(0,r.jsx)("polygon",{points:`${N},${f} ${Y-Z},${xe} ${Y+Z},${xe}`,fill:s.clockColor})]})}case"modern":{const Z=w*.2;return(0,r.jsx)("line",{x1:b-Math.sin(y*Math.PI/180)*Z,y1:b+Math.cos(y*Math.PI/180)*Z,x2:N,y2:f,stroke:s.clockColor,strokeWidth:P,strokeLinecap:"round"})}case"minimalist":return(0,r.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:s.clockColor,strokeWidth:P*.5,strokeLinecap:"butt",opacity:.9});default:return(0,r.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:s.clockColor,strokeWidth:P,strokeLinecap:"round"})}};return(0,r.jsxs)("svg",{width:o,height:o,style:{filter:d.glowEffect?`drop-shadow(0 0 ${c.effects.glowBlur} ${s.clockColor})`:"none"},children:[(0,r.jsx)("circle",{cx:b,cy:b,r:_,fill:"none",stroke:s.clockColor,strokeWidth:o*.01,opacity:"0.2"}),I(),v(x,_*.5,"hour"),v(l,_*.75,"minute"),d.showSeconds&&v(u,_*.85,"second"),(0,r.jsx)("circle",{cx:b,cy:b,r:o*.02,fill:s.clockColor})]})};const va=({config:e,brandTheme:o,onCustomizeRequest:t})=>{const{theme:s}=dt(),[d,c]=(0,h.useState)(new Date),[a,m]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[n,x]=(0,h.useState)(5),[l,u]=(0,h.useState)(0),[b,_]=(0,h.useState)(!1),[I,v]=(0,h.useState)(0),[y,w]=(0,h.useState)(!1);(0,h.useEffect)(()=>{const D=window.matchMedia("(prefers-color-scheme: dark)"),R=$=>m($.matches);return D.addEventListener("change",R),()=>D.removeEventListener("change",R)},[]);const j=(0,h.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:a,[e.appearance,a]);(0,h.useEffect)(()=>{if(e.blinkingSeparator){const D="clock-blink-animation";if(!document.getElementById(D)){const R=document.createElement("style");R.id=D,R.textContent=`
          @keyframes blink-separator {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
          }
          .blink-separator {
            animation: blink-separator 1s step-end infinite;
          }
        `,document.head.appendChild(R)}}},[e.blinkingSeparator]),(0,h.useEffect)(()=>{if(e.googleFont&&e.googleFont!=="none"){const D=`google-font-${e.googleFont}`;if(!document.getElementById(D)){const R=document.createElement("link");R.id=D,R.rel="stylesheet",R.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&display=swap`,document.head.appendChild(R)}}},[e.googleFont]),(0,h.useEffect)(()=>{if(e.responsiveSizing){const D="clock-responsive-sizing";if(!document.getElementById(D)){const R=document.createElement("style");R.id=D,R.textContent=`
          .clock-responsive-container {
            container-type: size;
            container-name: clock;
          }

          @container clock (max-width: 300px) {
            .clock-responsive-text { font-size: clamp(24px, 8cqw, 48px) !important; }
            .clock-responsive-date { font-size: clamp(12px, 4cqw, 16px) !important; }
          }

          @container clock (min-width: 301px) and (max-width: 600px) {
            .clock-responsive-text { font-size: clamp(36px, 10cqw, 64px) !important; }
            .clock-responsive-date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
          }

          @container clock (min-width: 601px) {
            .clock-responsive-text { font-size: clamp(48px, 12cqw, 96px) !important; }
            .clock-responsive-date { font-size: clamp(16px, 5cqw, 24px) !important; }
          }
        `,document.head.appendChild(R)}}},[e.responsiveSizing]),(0,h.useEffect)(()=>{if(e.widgetMode==="timer"&&b){const D=setInterval(()=>{l>0?u(l-1):n>0?(x(n-1),u(59)):_(!1)},1e3);return()=>clearInterval(D)}},[e.widgetMode,b,n,l]),(0,h.useEffect)(()=>{if(e.widgetMode==="stopwatch"&&y){const D=setInterval(()=>{v(R=>R+10)},10);return()=>clearInterval(D)}},[e.widgetMode,y]),(0,h.useEffect)(()=>{if(e.clockType==="analog-smooth"||e.clockType==="analog-trail"){let D;const R=()=>{c(new Date),D=requestAnimationFrame(R)};return D=requestAnimationFrame(R),()=>cancelAnimationFrame(D)}else{const D=setInterval(()=>c(new Date),1e3);return()=>clearInterval(D)}},[e.clockType]);const k=h.useMemo(()=>o?Pr(o):[],[o]),N=h.useMemo(()=>{const D={...ba};return k.forEach(R=>{D[R.id]=R}),D},[k]),f=h.useMemo(()=>{let D=j?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"){const R=N[e.presetTheme];R&&(D={backgroundColor:R.backgroundColor,clockColor:R.clockColor,digitColor:R.digitColor,textColor:R.textColor})}return D},[j,e.darkMode,e.lightMode,e.presetTheme,N]);(0,h.useEffect)(()=>{const D=document.documentElement;D.style.setProperty("--clock-bg-color",f.backgroundColor),D.style.setProperty("--clock-primary-color",f.clockColor),D.style.setProperty("--clock-text-color",f.textColor),D.style.setProperty("--clock-digit-color",f.digitColor)},[f]);const E=(D,R=!1)=>{if(e.googleFont&&e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", ui-sans-serif, system-ui, sans-serif`;const $=R?e.digitFontFamily:e.textFontFamily,ge={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return ge[$]||ge.default},P={small:{time:"32px",date:"14px",analog:120},medium:{time:"48px",date:"16px",analog:180},large:{time:"64px",date:"18px",analog:240},xlarge:{time:"96px",date:"24px",analog:320}},Z=P[e.clockSize]||P.large,ce=()=>{switch(e.presetTheme!=="none"&&N[e.presetTheme]?N[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return`radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent),
                radial-gradient(1px 1px at 110px 120px, white, transparent)`;case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return`linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)`;case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},Y=()=>{switch(e.backgroundTexture){case"dots":return"20px 20px";case"grid":return"20px 20px";case"stars":return"200px 200px";default:return"auto"}},xe={backgroundColor:e.useTransparentBg?"transparent":f.backgroundColor,backgroundImage:ce(),backgroundSize:Y(),color:f.textColor,textAlign:e.textAlign},ee={fontSize:Z.time,fontFamily:E(e.digitFontFamily,!0),fontWeight:"bold",color:f.clockColor,textShadow:e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none"};e.glowEffect&&(ee.textShadow=`0 0 ${s.effects.glowBlur} currentColor`),e.gradientText&&(ee.background=s.gradients.gradient,ee.WebkitBackgroundClip="text",ee.color="transparent");const oe=()=>{const D={hour:"2-digit",minute:"2-digit",second:e.showSeconds?"2-digit":void 0,hour12:e.is12Hour};return e.timezone&&e.timezone!=="local"&&(D.timeZone=e.timezone),d.toLocaleTimeString([],D)},Q=()=>{if(!e.timezone||e.timezone==="local"){const D=-d.getTimezoneOffset(),R=Math.floor(Math.abs(D)/60),$=Math.abs(D)%60;return`UTC${D>=0?"+":"-"}${String(R).padStart(2,"0")}:${String($).padStart(2,"0")}`}try{const D=new Intl.DateTimeFormat("en-US",{timeZone:e.timezone,timeZoneName:"short"}).formatToParts(d).find(R=>R.type==="timeZoneName");return D?D.value:""}catch{return""}},q=()=>{const D=e.timezone!=="local"?{timeZone:e.timezone}:{};switch(e.dateFormat){case"long":return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...D});case"short":return d.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",year:"numeric",...D});case"numeric":return d.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",...D});case"european":return d.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",...D});case"iso":return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;default:return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...D})}},pe=()=>{const D=oe();if(e.clockType==="digital-solid")return(0,r.jsx)("div",{style:ee,className:`tabular-nums tracking-tight ${e.responsiveSizing?"clock-responsive-text":""}`,children:e.blinkingSeparator?D.split("").map((R,$)=>(0,r.jsx)("span",{className:R===":"?"blink-separator":"",children:R},$)):D});if(e.clockType==="digital-roulette")return(0,r.jsx)("div",{style:{...ee,letterSpacing:"0.1em"},className:`tabular-nums font-mono ${e.responsiveSizing?"clock-responsive-text":""}`,children:D.split("").map((R,$)=>(0,r.jsx)("span",{className:e.blinkingSeparator&&R===":"?"blink-separator":"",style:{display:"inline-block",animation:`roulette 0.5s ease ${$*.05}s`,transformOrigin:"center"},children:R},$))});if(e.clockType==="flip-clock"){const R=D.match(/\d+/g)||[];return(0,r.jsx)("div",{className:"flex gap-2 justify-center items-center",children:R.map(($,ge)=>(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(fa,{value:parseInt($),label:ge===0?"HR":ge===1?"MIN":"SEC",size:parseInt(Z.time),colors:{clockColor:f.clockColor,digitColor:f.digitColor}}),ge<R.length-1&&(0,r.jsx)("span",{style:{fontSize:Z.time,opacity:.5},children:":"})]},ge))})}if(e.clockType.startsWith("analog-")){const R=e.clockType.replace("analog-","");return(0,r.jsx)(ya,{time:d,size:typeof Z.analog=="number"&&Z.analog>0?Z.analog:240,type:R,colors:f,config:e,theme:s})}return(0,r.jsx)("div",{style:ee,children:D})},ye=()=>{const D=`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{style:ee,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:D}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>_(!b),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:b?"Pause":"Start"}),(0,r.jsx)("button",{onClick:()=>{x(5),u(0),_(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},Ce=()=>{const D=I%1e3,R=Math.floor(I/1e3)%60,$=Math.floor(I/6e4),ge=`${String($).padStart(2,"0")}:${String(R).padStart(2,"0")}.${String(Math.floor(D/10)).padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{style:ee,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:ge}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>w(!y),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:y?"Stop":"Start"}),(0,r.jsx)("button",{onClick:()=>{v(0),w(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},We=()=>{switch(e.widgetMode){case"timer":return ye();case"stopwatch":return Ce();default:return pe()}};return(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center h-full w-full p-6 ${e.responsiveSizing?"clock-responsive-container":""}`,style:xe,children:[We(),e.showDate&&e.widgetMode==="clock"&&(0,r.jsxs)("div",{className:`mt-4 font-medium ${e.responsiveSizing?"clock-responsive-date":""}`,style:{fontSize:Z.date,fontFamily:E(e.textFontFamily),opacity:.7,color:f.textColor,textShadow:e.textShadows?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:[q(),e.timezone&&(0,r.jsx)("div",{style:{fontSize:"0.85em",marginTop:"4px",opacity:.6},children:Q()})]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:f.clockColor,color:f.digitColor,opacity:.8},onClick:()=>t?.("appearance"),children:"Customize"})]})};var yt={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}};const wa=e=>{let o=e.appearance==="dark"?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"&&yt[e.presetTheme]){const m=yt[e.presetTheme];o={backgroundColor:m.backgroundColor,clockColor:m.clockColor,digitColor:m.digitColor,textColor:m.textColor}}const t=e.useTransparentBg?"transparent":o.backgroundColor,s=()=>{switch(e.presetTheme!=="none"&&yt[e.presetTheme]?yt[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent)";case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)";case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},d=()=>{const m=e.backgroundTexture;return m==="dots"||m==="grid"?"20px 20px":m==="stars"?"200px 200px":"auto"},c=e.googleFont&&e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap`:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap",a=()=>e.googleFont&&e.googleFont!=="none"?`"${e.googleFont.replace(/\+/g," ")}", ${O.fonts.body}`:O.fonts.body;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="${c}" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${t};
      background-image: ${s()};
      background-size: ${d()};
      color: ${o.textColor};
      font-family: ${a()};
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: ${e.textAlign};
      ${e.responsiveSizing?"container-type: size; container-name: clock;":""}
    }

    :root {
      --clock-bg-color: ${o.backgroundColor};
      --clock-primary-color: ${o.clockColor};
      --clock-text-color: ${o.textColor};
      --clock-digit-color: ${o.digitColor};
    }

    #clock {
      font-size: 64px;
      font-weight: bold;
      color: ${o.clockColor};
      ${e.textShadows?"text-shadow: 0 2px 4px rgba(0,0,0,0.1);":""}
      ${e.glowEffect?`text-shadow: 0 0 ${O.effects.glowBlur} ${o.clockColor};`:""}
      ${e.gradientText?`
        background: ${O.gradients.gradient};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      `:""}
    }

    #date {
      margin-top: 16px;
      font-size: 18px;
      opacity: 0.7;
      ${e.textShadows?"text-shadow: 0 1px 2px rgba(0,0,0,0.1);":""}
    }

    .customize-button {
      margin-top: 16px;
      padding: 8px 16px;
      background: ${o.clockColor};
      color: ${o.digitColor};
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: ${O.fonts.heading};
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .customize-button:hover {
      opacity: 1;
    }

    ${e.blinkingSeparator?`
    @keyframes blink-separator {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .blink-separator {
      animation: blink-separator 1s step-end infinite;
    }
    `:""}

    ${e.responsiveSizing?`
    @container clock (max-width: 300px) {
      #clock { font-size: clamp(24px, 8cqw, 48px) !important; }
      #date { font-size: clamp(12px, 4cqw, 16px) !important; }
    }

    @container clock (min-width: 301px) and (max-width: 600px) {
      #clock { font-size: clamp(36px, 10cqw, 64px) !important; }
      #date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
    }

    @container clock (min-width: 601px) {
      #clock { font-size: clamp(48px, 12cqw, 96px) !important; }
      #date { font-size: clamp(16px, 5cqw, 24px) !important; }
    }
    `:""}

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        #clock {
          color: ${e.darkMode.clockColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  ${e.showDate?'<div id="date"></div>':""}
  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${Wr(e)}
  <\/script>
</body>
</html>`},Wr=e=>{const o=e.clockType==="analog-smooth"||e.clockType==="analog-trail";return`
  function updateClock() {
    const now = new Date();
    const timeOptions = {
      hour: '2-digit',
      minute: '2-digit',
      second: ${e.showSeconds},
      hour12: ${e.is12Hour}${e.timezone&&e.timezone!=="local"?`,
      timeZone: '${e.timezone}'`:""}
    };

    let timeStr = now.toLocaleTimeString([], timeOptions);

    ${e.blinkingSeparator?`
    // Apply blinking to separators
    const clockEl = document.getElementById('clock');
    clockEl.innerHTML = timeStr.split('').map(char =>
      char === ':' ? '<span class="blink-separator">' + char + '</span>' : char
    ).join('');
    `:`
    document.getElementById('clock').textContent = timeStr;
    `}

    ${e.showDate?`
      // Format date based on dateFormat config
      let dateStr;
      const tzOpts = ${e.timezone&&e.timezone!=="local"?`{ timeZone: '${e.timezone}' }`:"{}"};

      switch ('${e.dateFormat||"long"}') {
        case 'long':
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'short':
          dateStr = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'numeric':
          dateStr = now.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'european':
          dateStr = now.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'iso':
          const year = now.getFullYear();
          const month = String(now.getMonth() + 1).padStart(2, '0');
          const day = String(now.getDate()).padStart(2, '0');
          dateStr = year + '-' + month + '-' + day;
          break;
        default:
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
      }

      ${e.timezone?`
      // Add timezone offset
      const tzOffset = ${e.timezone==="local"||!e.timezone?`
        (() => {
          const offset = -now.getTimezoneOffset();
          const hours = Math.floor(Math.abs(offset) / 60);
          const minutes = Math.abs(offset) % 60;
          const sign = offset >= 0 ? '+' : '-';
          return 'UTC' + sign + String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
        })()
      `:`
        (() => {
          try {
            const formatter = new Intl.DateTimeFormat('en-US', {
              timeZone: '${e.timezone}',
              timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(now);
            const tzPart = parts.find(p => p.type === 'timeZoneName');
            return tzPart ? tzPart.value : '';
          } catch (e) {
            return '';
          }
        })()
      `};
      document.getElementById('date').innerHTML = dateStr + '<br><span style="font-size: 0.85em; opacity: 0.6;">' + tzOffset + '</span>';
      `:`
      document.getElementById('date').textContent = dateStr;
      `}
    `:""}
  }

  ${o?`
  function animate() {
    updateClock();
    requestAnimationFrame(animate);
  }
  animate();
  `:`
  setInterval(updateClock, 1000);
  updateClock();
  `}
`},ka={id:"countdown",label:"Countdown",description:"Event countdowns with flip cards and confetti",defaultConfig:{eventTitle:"Project Launch",targetDate:new Date(Date.now()+864e5*30).toISOString().slice(0,16),format24h:!0,ignoreTimezone:!0,timezone:"UTC",recurringType:"none",recurringEndDate:null,countdownStyle:"flip-countdown",showYear:!1,showMonth:!0,showWeek:!1,showDay:!0,showHour:!0,showMinute:!0,showSecond:!0,confettiDuration:"5min",stopAtZero:!0,completionMessage:"üéâ Event Started!",redirectOnComplete:!1,redirectUrl:"",showToGoLabel:!0,digitFontFamily:"default",textFontFamily:"default",textAlign:"center",textShadows:!1,useTransparentBg:!0,appearance:"system",lightMode:{textColor:O.colors.graphite,panelColor:O.colors.stardustWhite,digitColor:O.colors.nightBlack},darkMode:{textColor:O.colors.stardustWhite,panelColor:O.colors.graphite,digitColor:O.colors.stardustWhite},showHoverMenu:!1,showCustomizeButton:!1},fields:[{name:"eventTitle",label:"Event Title",type:"text",section:"event"},{name:"targetDate",label:"Target Date & Time",type:"datetime-local",section:"event"},{name:"format24h",label:"24-Hour Format",type:"boolean",section:"event"},{name:"ignoreTimezone",label:"Ignore Timezone",type:"boolean",section:"event"},{name:"timezone",label:"Timezone",type:"select",section:"event",options:[{label:"UTC",value:"UTC"},{label:"EST (UTC-5)",value:"America/New_York"},{label:"PST (UTC-8)",value:"America/Los_Angeles"},{label:"GMT",value:"Europe/London"},{label:"CET (UTC+1)",value:"Europe/Paris"},{label:"JST (UTC+9)",value:"Asia/Tokyo"}]},{name:"recurringType",label:"Recurring",type:"select",section:"event",options:[{label:"None",value:"none"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}]},{name:"recurringEndDate",label:"Recurring End Date",type:"datetime-local",section:"event",condition:e=>e.recurringType!=="none"},{name:"countdownStyle",label:"Countdown Style",type:"select",section:"style",options:[{label:"Text Only",value:"text-only"},{label:"Flip Countdown",value:"flip-countdown"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"style",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"showYear",label:"Show Years",type:"boolean",section:"units"},{name:"showMonth",label:"Show Months",type:"boolean",section:"units"},{name:"showWeek",label:"Show Weeks",type:"boolean",section:"units"},{name:"showDay",label:"Show Days",type:"boolean",section:"units"},{name:"showHour",label:"Show Hours",type:"boolean",section:"units"},{name:"showMinute",label:"Show Minutes",type:"boolean",section:"units"},{name:"showSecond",label:"Show Seconds",type:"boolean",section:"units"},{name:"confettiDuration",label:"Confetti Duration",type:"select",section:"completion",options:[{label:"Never",value:"never"},{label:"1 Minute",value:"1min"},{label:"5 Minutes",value:"5min"},{label:"10 Minutes",value:"10min"},{label:"1 Hour",value:"1hour"},{label:"Forever",value:"forever"}]},{name:"stopAtZero",label:"Stop at Zero",type:"boolean",section:"completion"},{name:"completionMessage",label:"Completion Message",type:"text",section:"completion"},{name:"redirectOnComplete",label:"Redirect on Completion",type:"boolean",section:"completion"},{name:"redirectUrl",label:"Redirect URL",type:"text",section:"completion",condition:e=>e.redirectOnComplete},{name:"showToGoLabel",label:'Show "To Go/Ago" Label',type:"boolean",section:"completion"},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var _a=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])},rr=(e,o)=>{const t=Math.floor(e/1e3),s=Math.floor(t/60),d=Math.floor(s/60),c=Math.floor(d/24),a=Math.floor(c/7),m=Math.floor(c/30.44);return{finished:!1,isPast:o,years:Math.floor(c/365.25),months:m%12,weeks:a%4,days:c%7,hours:d%24,minutes:s%60,seconds:t%60}},or=(e,o)=>{const t=new Date,s=new Date(e)-t;return s<=0?o?{finished:!0,isPast:!1}:rr(Math.abs(s),!0):rr(s,!1)};const Ca=({config:e,onCustomizeRequest:o})=>{const[t,s]=(0,h.useState)(()=>or(e.targetDate,e.stopAtZero)),[d,c]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[a,m]=(0,h.useState)(!1),[n,x]=(0,h.useState)(null),[l]=(0,h.useState)(()=>Array.from({length:50},()=>({left:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})));(0,h.useEffect)(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)"),w=j=>c(j.matches);return y.addEventListener("change",w),()=>y.removeEventListener("change",w)},[]);const u=(0,h.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:d,[e.appearance,d]);(0,h.useEffect)(()=>{const y=setInterval(()=>{const w=or(e.targetDate,e.stopAtZero);w.finished&&!a&&e.confettiDuration!=="never"&&(m(!0),x(Date.now())),s(w)},1e3);return()=>clearInterval(y)},[e.targetDate,e.stopAtZero,a,e.confettiDuration]),(0,h.useEffect)(()=>{if(!a||!n)return;const y={never:0,"1min":6e4,"5min":3e5,"10min":6e5,"1hour":36e5,forever:1/0}[e.confettiDuration];if(y===1/0)return;const w=setTimeout(()=>{m(!1)},y);return()=>clearTimeout(w)},[a,n,e.confettiDuration]);const b=(0,h.useMemo)(()=>{const y={textColor:u?"#F8F9FF":"#0B0E12",panelColor:u?"#1F2937":"#F8F9FF",digitColor:u?"#F8F9FF":"#0B0E12"};return(u?e.darkMode:e.lightMode)||y},[u,e.darkMode,e.lightMode]),_=y=>{const w={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return w[y]||w.default},I=({value:y,label:w,isLast:j})=>e.countdownStyle==="flip-countdown"?(0,r.jsxs)("div",{className:"flex flex-col items-center mx-2",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-center font-mono rounded-lg overflow-hidden shadow-lg",style:{backgroundColor:b.panelColor,color:b.digitColor,fontSize:"2.5rem",padding:"12px 20px",minWidth:"80px",fontFamily:_(e.digitFontFamily),textShadow:e.textShadows?`0 0 ${Je.glowBlur} rgba(0,0,0,0.3)`:"none"},children:[(0,r.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black/10"}),String(y).padStart(2,"0")]}),(0,r.jsx)("span",{className:"text-xs uppercase mt-2 font-bold tracking-wide",style:{color:b.textColor,fontFamily:_(e.textFontFamily),opacity:.7},children:w})]}):(0,r.jsxs)("span",{className:"mx-1",style:{fontFamily:_(e.digitFontFamily),fontSize:"2rem",fontWeight:"bold",color:b.textColor},children:[y," ",w,!j&&", "]}),v=[];return e.showYear&&t.years>0&&v.push({value:t.years,label:"Year"}),e.showMonth&&t.months>0&&v.push({value:t.months,label:"Month"}),e.showWeek&&t.weeks>0&&v.push({value:t.weeks,label:"Week"}),e.showDay&&v.push({value:t.days||0,label:"Day"}),e.showHour&&v.push({value:t.hours||0,label:"Hr"}),e.showMinute&&v.push({value:t.minutes||0,label:"Min"}),e.showSecond&&v.push({value:t.seconds||0,label:"Sec"}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 transition-colors relative",style:{backgroundColor:e.useTransparentBg?"transparent":u?Je.colors.nightBlack:Je.colors.stardustWhite,textAlign:e.textAlign},children:[a&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:l.map((y,w)=>(0,r.jsx)("div",{className:"absolute animate-confetti",style:{left:`${y.left}%`,top:"-10px",width:"10px",height:"10px",backgroundColor:Object.values(Je.colors)[w%Object.values(Je.colors).length],animation:`confettiFall ${y.duration}s linear infinite`,animationDelay:`${y.delay}s`,opacity:.8,borderRadius:"2px"}},w))}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",style:{color:b.textColor,fontFamily:_(e.textFontFamily),textShadow:e.textShadows?`0 0 ${Je.glowBlur} rgba(0,0,0,0.1)`:"none"},children:_a(e.eventTitle)}),(0,r.jsx)("div",{className:`flex ${e.countdownStyle==="flip-countdown"?"gap-2":"flex-wrap justify-center"}`,children:t.finished?(0,r.jsx)("div",{className:"text-4xl font-bold",style:{color:b.textColor},children:"üéâ Event Started!"}):v.map((y,w)=>(0,r.jsx)(I,{value:y.value,label:y.label,isLast:w===v.length-1},y.label))}),e.showToGoLabel&&!t.finished&&(0,r.jsx)("div",{className:"mt-4 text-sm uppercase tracking-wide opacity-60",style:{color:b.textColor,fontFamily:_(e.textFontFamily)},children:t.isPast?"Ago":"To Go"}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"mt-6 px-6 py-2 rounded-lg font-medium text-sm",style:{backgroundColor:b.panelColor,color:b.digitColor,opacity:.8},onClick:()=>o?.("event"),children:"Customize"}),(0,r.jsx)("style",{children:`
        @keyframes confettiFall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
      `})]})};var ar=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,t=>o[t])};const ja=e=>{const o=e.appearance==="dark",t=o?e.darkMode:e.lightMode,s=e.useTransparentBg?"transparent":o?O.colors.nightBlack:O.colors.stardustWhite;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown - ${ar(e.eventTitle)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${s};
      color: ${t.textColor};
      font-family: ${O.fonts.body};
      display: flex;
      flex-direction: column;
      align-items: ${e.textAlign==="left"?"flex-start":e.textAlign==="right"?"flex-end":"center"};
      justify-content: center;
      padding: 32px;
      text-align: ${e.textAlign};
    }

    #event-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 24px;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.1);`:""}
    }

    #countdown-display {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .countdown-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 8px;
    }

    .countdown-digit {
      background: ${t.panelColor};
      color: ${t.digitColor};
      font-size: 2.5rem;
      padding: 12px 20px;
      border-radius: 8px;
      min-width: 80px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.3);`:""}
    }

    .countdown-digit::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: rgba(0,0,0,0.1);
    }

    .countdown-label {
      font-size: 0.75rem;
      margin-top: 8px;
      opacity: 0.7;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 0.05em;
    }

    #label {
      margin-top: 16px;
      font-size: 0.875rem;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    #confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        .countdown-digit {
          background: ${e.darkMode.panelColor};
          color: ${e.darkMode.digitColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <h2 id="event-title">${ar(e.eventTitle)}</h2>
  <div id="countdown-display"></div>
  ${e.showToGoLabel?'<div id="label"></div>':""}
  <div id="confetti-container"></div>

  <script>
    ${Rr(e)}
  <\/script>
</body>
</html>`},Rr=e=>{const o=e.appearance==="dark"?e.darkMode:e.lightMode;return`
    const config = ${JSON.stringify(e)};
    const colors = ${JSON.stringify(o)};
    const JAZER_BRAND_COLORS = ${JSON.stringify(O.colors)};

    let confettiActive = false;
    let confettiStartTime = null;

    function calculateTimeLeft() {
      const now = new Date();
      const target = new Date(config.targetDate);
      const diff = target - now;

      if (diff <= 0) {
        if (config.stopAtZero) {
          triggerConfetti();
          return { finished: true };
        }
        return calculateUnits(Math.abs(diff), true);
      }

      return calculateUnits(diff, false);
    }

    function calculateUnits(ms, isPast) {
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const h = Math.floor(m / 60);
      const d = Math.floor(h / 24);

      return {
        finished: false,
        isPast,
        days: d,
        hours: h % 24,
        minutes: m % 60,
        seconds: s % 60
      };
    }

    function triggerConfetti() {
      if (confettiActive || config.confettiDuration === 'never') return;
      confettiActive = true;
      confettiStartTime = Date.now();

      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = \`
          position: absolute;
          left: \${Math.random() * 100}%;
          top: -10px;
          width: 10px;
          height: 10px;
          background: \${Object.values(JAZER_BRAND_COLORS)[i % Object.values(JAZER_BRAND_COLORS).length]};
          animation: fall \${2 + Math.random() * 3}s linear infinite;
          opacity: 0.8;
          border-radius: 2px;
        \`;
        container.appendChild(confetti);
      }

      const durations = { '1min': 60000, '5min': 300000, '10min': 600000, '1hour': 3600000 };
      if (config.confettiDuration !== 'forever') {
        setTimeout(() => {
          container.innerHTML = '';
          confettiActive = false;
        }, durations[config.confettiDuration]);
      }
    }

    function updateCountdown() {
      const timeLeft = calculateTimeLeft();
      const display = document.getElementById('countdown-display');

      if (timeLeft.finished) {
        display.innerHTML = '<div style="font-size: 2rem; font-weight: bold;">üéâ Event Started!</div>';
        return;
      }

      const units = [];
      if (config.showDay) units.push({ value: timeLeft.days, label: 'Days' });
      if (config.showHour) units.push({ value: timeLeft.hours, label: 'Hours' });
      if (config.showMinute) units.push({ value: timeLeft.minutes, label: 'Min' });
      if (config.showSecond) units.push({ value: timeLeft.seconds, label: 'Sec' });

      display.innerHTML = units.map(u => \`
        <div class="countdown-unit">
          <div class="countdown-digit">\${String(u.value).padStart(2, '0')}</div>
          <span class="countdown-label">\${u.label}</span>
        </div>
      \`).join('');

      if (config.showToGoLabel) {
        document.getElementById('label').textContent = timeLeft.isPast ? 'Ago' : 'To Go';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  `},Sa="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Nt=(e=21)=>{let o="",t=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)o+=Sa[t[e]&63];return o};var It={id:Nt(),label:"Button",icon:"‚ú®",hideIcon:!1,url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"},sr=[{id:"focus",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],Na=[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],Ta=[{title:"Button Modes",description:"Modes create entire categories of button behavior so every press feels intentional.",items:[{title:"Action Mode",body:"Executes a single action (log, toggle, open link, trigger webhook, etc.)."},{title:"Macro Mode",body:"Chains multiple actions together so one press can log, toggle, and open a link in sequence."},{title:"Input Mode",body:"Prompts for a quick note, pomodoro intention, or task title before running the macro."},{title:"Cycle Mode",body:"Each press cycles through presets (Start, Pause, Skip, Complete) with matching badges and colors."},{title:"Toggle Mode",body:"Maintains an on/off state with glow + data logging so you can see whether the button is active."}]},{title:"Visual & Interactive Touches",description:"Micro-interactions make the widget feel premium.",items:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts to match the action being taken."},{title:"Particles & Traces",body:"Neon ripple, energy pulse, pixel burst, glow sweep, or magnetic hover trails."},{title:"Active Duration Glow",body:"While macros run the button slowly pulses, shifts color, or shows a progress arc."},{title:"Badges",body:"Counts, streak icons, warning dots, and data pills keep the button status visible."}]},{title:"Data-Aware Reactions",description:"Let Notion data change the way the button behaves or looks.",items:[{title:"Task Pressure",body:"If today's tasks are incomplete the button shifts to warning red."},{title:"Streak Glow",body:"When pomodoro streak continues the button gets a brighter glow."},{title:"Done State",body:"Marking a database property as Done swaps in a green check pill."},{title:"Unlocks",body:"When a field equals a value, the button can unlock a new animation or action."}]},{title:"Notion Integration",description:"The serious power comes from two-way Notion sync.",items:[{title:"Connect a Database",body:"Point to Tasks, Journal, Habits, or Pomodoros and choose create, update, or toggle actions."},{title:"Templates + Prefill",body:"Apply a template per button and pre-fill tags, owners, and dates."},{title:"Advanced Logging",body:"Capture button ID, widget ID, timestamps, and user-entered text for every press."},{title:"Two-Way Rules",body:"Check Notion data before acting so limits, completed flags, or custom focus modes change the outcome."}]},{title:"Smart Logic",description:"Conditional flows prevent accidental presses.",items:[{title:"If/Else Branching",body:"If a timer is active, pause it. Otherwise start focus. Same button, two outcomes."},{title:"Data-Driven UI",body:"Swap label, icon, color, or tooltip whenever a Notion property changes."}]},{title:"Layout-Level Controls",description:"Organize multiple buttons into purposeful groups.",items:[{title:"Button Groups",body:"Vertical stacks, inline clusters, grids, or rows with spacers keep things tidy."},{title:"Linked Buttons",body:"Pomodoro Start -> Pause -> Log Session -> Complete Task all sharing one state."},{title:"Variants",body:"Text, icon-only, icon + text, capsule, circular, floating orb, outline, or ghost styles."}]},{title:"Wow Moments",description:"Moments of surprise drive engagement.",items:[{title:"Energy Charge Ring",body:"Every press charges a ring that wraps the button."},{title:"Streak Transform",body:"As the streak grows the glow, color, and animation intensity evolve."},{title:"Secret Long Press",body:"Holding for two seconds can unlock a different action or log."},{title:"Morphing States",body:"Square -> circle, icon -> checkmark, text -> animated success message."},{title:"Dynamic Labels",body:`Rotate label text: "Press Me" -> "Let's cook" -> "Energy +1" -> "Keep grinding".`}]},{title:"Button Library",description:"Build a catalog so users can drag in what they need.",items:[{title:"Examples",body:"Log Button, Task Toggle, Cycle/Pomodoro button, Create Page, Template trigger, Counter, Mode Switcher, Theme Toggle, Playlist, Navigation, Meta/Macro, and Secret long-press buttons."}]}],tt=()=>({cycleIndex:0,isActive:!1,badgeCount:0,awaitingInput:!1,inputValue:"",macroLog:[],animationKey:0,lastCompleteAt:0,isRecentlyCompleted:!1,isProcessing:!1,lastLoggedStatus:null,energyCharge:0,secretUnlocked:!1,counterValue:0,playlistIndex:0,modeIndex:0,themeMode:"dark",cycleStep:0,dynamicLabelIndex:0,timerRunning:!1}),it=(e="")=>e.split(`
`).map(o=>o.trim()).filter(Boolean),nr=e=>it(e.playlistText||""),Fa=e=>it(e).map(o=>{const[t="",s="",d=""]=o.split("|");return{id:`${t}-${s}`.trim()||Nt(),label:t.trim(),badge:s.trim(),color:d.trim()}}).filter(o=>o.label),Ia=e=>it(e).map((o,t)=>{const[s="log",d="Action",c="200"]=o.split("|");return{id:`${s}-${t}`,type:s.trim()||"log",label:d.trim()||"Action",delay:Number(c)||200}}).filter(o=>o.type),Ba=(e="")=>e.split(/;|\n/).map(o=>o.trim()).filter(Boolean).map(o=>{const[t="",...s]=o.split("=");return{key:t.trim(),value:s.join("=").trim()}}).filter(o=>o.key),Aa=(e=200)=>new Promise(o=>setTimeout(o,e));const za=({config:e,onConfigChange:o,onCustomizeRequest:t,brandTheme:s})=>{const{theme:d,getColor:c}=dt(),[a,m]=(0,h.useState)(e.buttons||[It]),[n,x]=(0,h.useState)(null),[l,u]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[b,_]=(0,h.useState)({}),[I,v]=(0,h.useState)([]),y=(0,h.useRef)({}),w=(0,h.useRef)(0),j=()=>(w.current+=1,w.current),[k,N]=(0,h.useState)(!1),f=s||e.brandThemeSnapshot,E=p=>{t?t(p):N(!0)},P=n?a.findIndex(p=>p.id===n):-1,Z=(0,h.useMemo)(()=>({jazerNeon:{bgColor:c("electricPurple"),outlineColor:c("electricPurple"),textColor:c("stardustWhite"),hoverBgColor:c("ultraviolet")},cosmicBlue:{bgColor:c("cosmicBlue"),outlineColor:c("cosmicBlue"),textColor:c("stardustWhite"),hoverBgColor:c("aetherTeal")},neonPink:{bgColor:c("neonPink"),outlineColor:c("neonPink"),textColor:c("stardustWhite"),hoverBgColor:"#EC4899"},purple:{bgColor:"#6940A5",outlineColor:"#6940A5",textColor:"#FFFFFF",hoverBgColor:"#8B5CF6",hoverTextColor:"#FFFFFF"},blue:{bgColor:"#0B6E99",outlineColor:"#0B6E99",textColor:"#FFFFFF",hoverBgColor:"#2D9CDB",hoverTextColor:"#FFFFFF"},red:{bgColor:"#E03E3E",outlineColor:"#E03E3E",textColor:"#FFFFFF",hoverBgColor:"#EB5757",hoverTextColor:"#FFFFFF"},green:{bgColor:"#0F7B6C",outlineColor:"#0F7B6C",textColor:"#FFFFFF",hoverBgColor:"#27AE60",hoverTextColor:"#FFFFFF"},yellow:{bgColor:"#DFAB01",outlineColor:"#DFAB01",textColor:"#FFFFFF",hoverBgColor:"#F2C94C",hoverTextColor:"#FFFFFF"},orange:{bgColor:"#D9730D",outlineColor:"#D9730D",textColor:"#FFFFFF",hoverBgColor:"#F2994A",hoverTextColor:"#FFFFFF"},pink:{bgColor:"#AD1A72",outlineColor:"#AD1A72",textColor:"#FFFFFF",hoverBgColor:"#D946A6",hoverTextColor:"#FFFFFF"},brown:{bgColor:"#64473A",outlineColor:"#64473A",textColor:"#FFFFFF",hoverBgColor:"#8B6F47",hoverTextColor:"#FFFFFF"},grey:{bgColor:"#9B9A97",outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBgColor:"#BDBDBD",hoverTextColor:"#FFFFFF"},black:{bgColor:"#000000",outlineColor:"#000000",textColor:"#FFFFFF",hoverBgColor:"#333333",hoverTextColor:"#FFFFFF"}}),[c]);(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>m(e.buttons||[It]));return()=>cancelAnimationFrame(p)},[e.buttons]),(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>{_(S=>{const T={};return a.forEach(M=>{T[M.id]=S[M.id]||tt()}),T})});return()=>cancelAnimationFrame(p)},[a]),(0,h.useEffect)(()=>{o("buttons",a)},[a,o]),(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const p=window.matchMedia("(prefers-color-scheme: dark)"),S=T=>u(T.matches);return p.addEventListener("change",S),()=>p.removeEventListener("change",S)},[e.appearanceMode]);const ce=(0,h.useMemo)(()=>e.appearanceMode==="system"?l:e.appearanceMode==="dark",[e.appearanceMode,l]);(0,h.useEffect)(()=>{if(!k||typeof window>"u")return;const p=S=>{S.key==="Escape"&&N(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[k]);const Y=(0,h.useCallback)((p,S)=>{_(T=>{const M=T[p]||tt(),L=typeof S=="function"?S(M):S;return{...T,[p]:{...M,...L}}})},[]),xe=(0,h.useMemo)(()=>e.macroMode?.actionsText?Ia(e.macroMode.actionsText):Array.isArray(e.macroMode?.actions)?e.macroMode.actions:Na,[e.macroMode]),ee=(0,h.useMemo)(()=>{if(e.cycleMode?.valuesText){const p=Fa(e.cycleMode.valuesText);return p.length?p:sr}return Array.isArray(e.cycleMode?.values)?e.cycleMode.values:sr},[e.cycleMode]),oe=(0,h.useMemo)(()=>Array.isArray(e.inputMode?.hints)?e.inputMode.hints:it(e.inputMode?.hints),[e.inputMode]),Q=(0,h.useMemo)(()=>{if(!e.dataAware?.enabled)return null;const p=Number(e.dataAware.sampleValue??0),S=Number(e.dataAware.goal??0),T=Number(e.dataAware.warningThreshold??0);let M="neutral";return S&&p>=S?M="success":p<=T&&(M="warning"),{value:p,goal:S,warning:T,status:M,icon:e.dataAware.statusIcon||"‚ö°",tasksIncomplete:!!e.dataAware.tasksIncomplete,pomodoroStreakActive:!!e.dataAware.pomodoroStreakActive,propertyDone:!!e.dataAware.propertyDone,doneLabel:e.dataAware.doneLabel||"Marked Done",timerActive:!!e.dataAware.timerActive,streakBroken:!!e.dataAware.streakBroken,projectTag:e.dataAware.projectTag||"General",projectTagTarget:e.dataAware.projectTagTarget||"Music",musicTooltip:e.dataAware.musicTooltip||"Logs in Music DB",projectTagColor:e.dataAware.projectTagColor||"#C026D3",dynamicLabels:it(e.dataAware.dynamicLabelsText)}},[e.dataAware]),q=(0,h.useMemo)(()=>{const p=e.notionIntegration;if(!p?.enabled)return null;const S={tasks:"Tasks database",journal:"Journal database",habits:"Habits database",pomodoros:"Pomodoros database"}[p.database]||"Custom database",T={create:"Create row",update:"Update property",toggle:"Toggle checkbox"}[p.action]||"Custom action",M=Ba(p.prefillPropertiesText||""),L=p.conditional?.conditionMet,U=p.twoWay?.taskCompleted?!1:L,te=p.conditional?U?p.conditional.thenAction:p.conditional.elseAction:null;return{databaseLabel:S,actionLabel:T,prefill:M,template:p.template,logEntries:p.logEntries,logDestination:p.logDestination||"Console Preview",unlockField:p.unlockField,unlockValue:p.unlockValue,currentFieldValue:p.currentFieldValue,unlockReady:!!(p.unlockField&&p.unlockValue&&p.currentFieldValue&&p.unlockValue===p.currentFieldValue),limitReached:!!p.twoWay?.limitReached,taskCompleted:!!p.twoWay?.taskCompleted,mode:p.twoWay?.mode,conditionalLabel:p.conditional?.label,conditionalAction:te,conditionResolved:U}},[e.notionIntegration]),pe=(0,h.useMemo)(()=>{if(!f)return null;const p=[{label:"Background",color:f.backgroundColor||f.background},{label:"Primary",color:f.clockColor||f.primary},{label:"Accent",color:f.accentColor||f.secondary},{label:"Text",color:f.textColor||f.text}].filter(T=>T.color),S=Array.isArray(f.palette)?f.palette.slice(0,6):[];return{label:f.presetName||f.name||"Custom Brand Kit",swatches:p,palette:S,appliedAt:f.appliedAt}},[f]),ye=e.useTransparentBackground?"transparent":e.backgroundColor,Ce=()=>{m([...a,{...It,id:Nt()}])},We=p=>{const S=a.find(T=>T.id===p);S&&m([...a,{...S,id:Nt()}])},D=p=>{a.length>1&&window.confirm("Are you sure you want to delete this button?")&&(m(a.filter(S=>S.id!==p)),n===p&&x(a[0]?.id||null))},R=(p,S)=>{const T=a.findIndex(L=>L.id===p);if(T===-1)return;const M=[...a];S==="up"&&T>0?[M[T-1],M[T]]=[M[T],M[T-1]]:S==="down"&&T<M.length-1&&([M[T+1],M[T]]=[M[T],M[T+1]]),m(M)},$=(p,S,T)=>{m(a.map(M=>M.id===p?{...M,[S]:T}:M))},ge=(p,S)=>{const T=Z[S];T&&m(a.map(M=>M.id===p?{...M,bgColor:T.bgColor,outlineColor:T.outlineColor,textColor:T.textColor,hoverBgColor:T.hoverBgColor||T.bgColor,hoverTextColor:T.hoverTextColor||T.textColor}:M))},Xe=p=>{const S=a.find(te=>te.id===p);if(!S)return;const{id:T,label:M,url:L,...U}=S;m(a.map(te=>te.id===p?te:{...te,...U}))},He=(0,h.useCallback)(async(p,S,T)=>{if(e.macroMode?.enabled)for(const M of xe){const L=`${M.label}${T?` - ${T}`:""}`;Y(p,U=>({...U,macroLog:[...U.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - ${L}`]})),M.type==="toggle"&&Y(p,U=>({...U,isActive:!U.isActive,lastLoggedStatus:U.isActive?"Inactive":"Active"})),M.type==="openLink"&&S.url&&typeof window<"u"&&window.open(S.url,"_blank","noopener,noreferrer"),await Aa(M.delay||200)}},[e.macroMode?.enabled,xe,Y]),Le=async p=>{if(q?.limitReached)return;const S=a.find(A=>A.id===p);if(!S)return;const T=b[p]||tt(),M=T.inputValue||"",L=e.cycleMode?.enabled&&ee.length?ee[T.cycleIndex%ee.length]:null,U=nr(S),te=new Date().toLocaleTimeString();if(Y(p,A=>({...A,isProcessing:!0,awaitingInput:!1})),q?.conditionalAction&&Y(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${te} - ${q.conditionalAction}`]})),S.behaviorType==="createPage"&&Y(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${te} - Create page in ${q?.databaseLabel}`]})),S.behaviorType==="template"&&Y(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${te} - Template ${q?.template||"Default"} applied`]})),e.macroMode?.enabled||S.behaviorType==="meta"?await He(p,S,M):S.url&&typeof window<"u"&&window.open(S.url,"_blank","noopener,noreferrer"),e.cycleMode?.enabled&&ee.length>0&&Y(p,A=>({...A,cycleIndex:(A.cycleIndex+1)%ee.length})),e.toggleMode?.enabled&&Y(p,A=>{const be=!A.isActive;return e.toggleMode.logToNotion&&typeof window<"u"&&console.log(`[Notion Log] ${S.label} is now ${be?"Active":"Inactive"}`),{...A,isActive:be,lastLoggedStatus:be?"Active":"Inactive"}}),Y(p,A=>{let be=A.macroLog;const ne=X=>{be=[...be.slice(-3),`${te} - ${X}`]},se={...A,badgeCount:A.badgeCount+1,animationKey:Date.now(),lastCompleteAt:Date.now(),isRecentlyCompleted:!0,isProcessing:!1,inputValue:"",awaitingInput:!1};switch(S.behaviorType){case"cycle":{const X=(A.cycleStep+1)%3;se.cycleStep=X,se.timerRunning=X!==0,ne(["Start focus","Pause timer","Skip break"][X]);break}case"counter":se.counterValue=A.counterValue+1,ne(`Counter ${se.counterValue}`);break;case"modeSwitcher":{const X=(A.modeIndex+1)%3;se.modeIndex=X,ne(`Mode switched to ${["Focus","Break","Deep"][X]}`);break}case"themeToggle":se.themeMode=A.themeMode==="dark"?"light":"dark",ne(`Theme ${se.themeMode}`);break;case"playlist":if(U.length){const X=(A.playlistIndex+1)%U.length;se.playlistIndex=X,ne(`Now playing ${U[X]}`)}break;case"navigation":ne("Opened Notion page");break;case"meta":ne("Meta macro executed");break;case"secret":A.secretUnlocked&&ne("Secret macro executed");break;default:break}return Q?.streakBroken&&(se.counterValue=0,ne("Streak reset")),Q?.projectTag===Q?.projectTagTarget&&ne("Logged to Music DB"),Q?.dynamicLabels?.length&&(se.dynamicLabelIndex=(A.dynamicLabelIndex+1)%Q.dynamicLabels.length),se.energyCharge=Math.min(100,A.energyCharge+20),se.macroLog=be,se}),setTimeout(()=>{Y(p,A=>A.isRecentlyCompleted?{...A,isRecentlyCompleted:!1}:A)},900),q?.logEntries){let A=q.conditionalAction||(e.macroMode?.enabled?"Macro sequence":"Direct action");switch(S.behaviorType){case"createPage":A="Create Page";break;case"template":A="Apply Template";break;case"counter":A="Increment Counter";break;case"playlist":A="Cycle Playlist";break;case"modeSwitcher":A="Switch Mode";break;case"themeToggle":A="Toggle Theme";break;case"navigation":A="Open Page";break;case"meta":A="Meta Macro";break;case"secret":A="Secret Action";break;default:break}Q?.projectTag===Q?.projectTagTarget&&(A+=" ¬∑ Music DB");const be=U.length?U[(T.playlistIndex+(S.behaviorType==="playlist"?1:0))%U.length]:"",ne={id:`${p}-${j()}`,buttonLabel:S.label,timestamp:te,action:A,database:q.databaseLabel,destination:q.logDestination,mode:q.mode||L?.badge||"Default",userInput:M||"n/a",behavior:S.behaviorType,playlist:be};v(se=>[...se.slice(-4),ne])}},Ve=p=>{const S=b[p]||tt(),T=a.find(M=>M.id===p);if(T){if(q?.limitReached){Y(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Limit reached via two-way sync.`],awaitingInput:!1}));return}if(q?.taskCompleted){Y(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Task already completed in Notion.`],awaitingInput:!1}));return}if(T.behaviorType==="secret"&&!S.secretUnlocked){Y(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Hold to unlock secret action.`],awaitingInput:!1}));return}if(e.inputMode?.enabled){if(!S.awaitingInput){Y(p,{awaitingInput:!0});return}if(!S.inputValue?.trim())return}Le(p)}},me=(p,S)=>{Y(p,{inputValue:S})},mt=p=>{b[p]?.inputValue?.trim()&&Le(p)},Ge=p=>{Y(p,{awaitingInput:!1,inputValue:""})},C=p=>{y.current[p]&&clearTimeout(y.current[p]),y.current[p]=setTimeout(()=>{Y(p,S=>({...S,secretUnlocked:!0,macroLog:[...S.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Secret channel unlocked`]})),delete y.current[p]},2e3)},z=p=>{y.current[p]&&(clearTimeout(y.current[p]),delete y.current[p])},K=(p,S,T,M)=>{const L={};switch(p.behaviorType){case"cycle":{const U=["Start Pomodoro","Pause","Skip Break"];L.label=U[S.cycleStep%U.length],L.icon=S.cycleStep===1?"‚è∏":S.cycleStep===2?"‚è≠":p.icon||"‚ñ∂",L.tooltip=S.timerRunning?"Pause focus timer":"Start focus timer",M?.timerActive&&!S.timerRunning&&(L.label="Pause",L.icon="‚è∏");break}case"createPage":L.icon=p.icon||"üìÑ",L.tooltip="Creates a Notion page";break;case"template":L.icon=p.icon||"üß©",L.tooltip="Runs the selected template";break;case"counter":L.label=`${p.label} ${S.counterValue}`,L.tooltip="Adds to counter";break;case"modeSwitcher":{const U=["Focus","Break","Deep Work"];L.label=U[S.modeIndex%U.length],L.tooltip=`Switch to ${L.label} mode`;break}case"themeToggle":L.label=`Theme: ${S.themeMode==="dark"?"Dark":"Light"}`,L.icon=S.themeMode==="dark"?"üåô":"‚òÄÔ∏è",L.tooltip="Toggle theme";break;case"playlist":{const U=T;U.length&&(L.label=U[S.playlistIndex%U.length]),L.tooltip="Cycle playlist tracks",L.icon=p.icon||"üéµ";break}case"navigation":L.icon=p.icon||"üîó",L.tooltip=p.url||"Opens Notion page";break;case"meta":L.tooltip="Runs macro sequence",L.icon=p.icon||"üß†";break;case"secret":S.secretUnlocked?L.tooltip="Secret macro ready":(L.label="Hold to unlock",L.tooltip="Hold for 2 seconds to reveal secret");break;default:break}return L},le=(p,S,T,M={})=>{const{isLinkedRow:L=!1,isFirst:U=!1,isLast:te=!1}=M,A=p.rounding==="none"?"0px":p.rounding==="slight"?"8px":"9999px",be=p.size==="small"?"8px 16px":p.size==="large"?"16px 32px":"12px 24px",ne=p.size==="small"?"0.875rem":p.size==="large"?"1.25rem":"1rem",se=p.outlineColor==="transparent"?"0px":"1px",X=`${p.bgColor}${p.bgOpacity<100?Math.round(255*(p.bgOpacity/100)).toString(16).padStart(2,"0"):""}`,ie=p.variant||"solid",H={backgroundColor:S?.color||X,color:p.textColor,border:`${se} solid ${p.outlineColor}`,borderRadius:A,padding:be,fontSize:ne,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:T.isProcessing?"not-allowed":"pointer",width:e.layout==="full-width"?"100%":"auto",textAlign:"center",boxShadow:e.showHoverMenu?`0 0 ${d.effects.glowBlur} rgba(0,0,0,0.2)`:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"};switch(ie){case"text":H.backgroundColor="transparent",H.border="none",H.padding="6px 12px";break;case"icon":H.width="48px",H.height="48px",H.padding="0",H.borderRadius="16px";break;case"iconText":H.padding="10px 18px";break;case"capsule":H.borderRadius="999px";break;case"circular":H.borderRadius="999px",H.width="64px",H.height="64px",H.padding="0";break;case"orb":H.borderRadius="999px",H.boxShadow="0 0 25px rgba(147, 197, 253, 0.35)",H.background="radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent), "+(S?.color||X);break;case"outline":H.backgroundColor="transparent",H.border=`1px solid ${p.outlineColor||p.textColor}`,H.color=p.outlineColor||p.textColor;break;case"ghost":H.backgroundColor="transparent",H.border="1px dashed rgba(255,255,255,0.4)",H.color=p.textColor||"#FFFFFF";break;default:break}return L&&(H.borderRadius=U?"999px 0 0 999px":te?"0 999px 999px 0":"0",H.marginLeft=U?"0":"-1px"),e.toggleMode?.enabled&&T.isActive&&e.toggleMode.glowWhenActive&&(H.boxShadow="0 0 20px rgba(139,92,246,0.6)"),Q&&(Q.tasksIncomplete&&(H.backgroundColor="#B91C1C",H.border="1px solid #7F1D1D",H.color="#FFFFFF"),Q.status==="success"?H.boxShadow="0 0 22px rgba(16,185,129,0.4)":Q.status==="warning"&&(H.boxShadow="0 0 18px rgba(249,115,22,0.35)"),Q.pomodoroStreakActive&&(H.boxShadow="0 0 26px rgba(236,72,153,0.45)"),Q.projectTag===Q.projectTagTarget&&(H.backgroundColor=Q.projectTagColor,H.color="#FFFFFF"),Q.streakBroken&&(H.outline="2px dashed rgba(249,115,22,0.8)",H.outlineOffset="2px")),q?.limitReached&&(H.filter="grayscale(0.55)",H.opacity=.6,H.cursor="not-allowed"),q?.unlockField&&(H.border=`1px solid ${q.unlockReady?"#10B981":"#FCD34D"}`,q.unlockReady&&(H.boxShadow="0 0 24px rgba(16,185,129,0.45)")),p.behaviorType==="themeToggle"&&(H.backgroundColor=T.themeMode==="dark"?"#0F172A":"#F8FAFC",H.color=T.themeMode==="dark"?"#F8FAFC":"#0F172A"),H};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 transition-colors relative",style:{backgroundColor:ye,color:ce?d.colors.stardustWhite:d.colors.nightBlack},children:[(0,r.jsx)("div",{className:e.layout==="vertical"||e.layout==="vertical-stack"?"flex flex-col gap-4 w-full":e.layout==="inline-cluster"?"flex gap-3 flex-nowrap overflow-x-auto w-full":e.layout==="grid"?"grid gap-4 w-full":e.layout==="linked-row"?"flex gap-0 w-full":"flex flex-wrap gap-4",style:{justifyContent:e.layout==="inline-cluster"?"flex-start":e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end",width:e.layout==="full-width"||e.layout==="grid"||e.layout==="inline-cluster"?"100%":"auto",gridTemplateColumns:e.layout==="grid"?"repeat(auto-fit, minmax(180px, 1fr))":void 0},children:a.map((p,S)=>{const T=b[p.id]||tt(),M=e.cycleMode?.enabled&&ee.length?ee[T.cycleIndex%ee.length]:null,L=nr(p);let U=M?.label||p.label,te=M?.icon||p.icon,A=p.tooltip||"";const be=p.variant||"solid";Q?.dynamicLabels?.length&&(U=Q.dynamicLabels[T.dynamicLabelIndex%Q.dynamicLabels.length]||U);const ne=K(p,T,L,Q);ne.label&&(U=ne.label),ne.icon&&(te=ne.icon),ne.tooltip&&(A=ne.tooltip),Q?.projectTag===Q?.projectTagTarget&&(te="üéµ",A=Q.musicTooltip);const se=be!=="icon",X=A||U,ie=e.visuals?.badgesEnabled?Math.max(T.badgeCount,Number(e.dataAware?.sampleValue??0)):null,H=!!T.isRecentlyCompleted,je=["button-live-preview",e.visuals?.activeGlow&&T.isActive?"button-live-preview--active":"",T.isProcessing?"button-live-preview--processing":"",H?"button-live-preview--complete":"",Q?.pomodoroStreakActive?"button-live-preview--streak":"",q?.limitReached?"button-live-preview--limited":""].filter(Boolean).join(" ");return(0,r.jsxs)("div",{className:"group relative",draggable:!0,onDragStart:de=>de.dataTransfer.setData("buttonId",p.id),onDragOver:de=>de.preventDefault(),onDrop:de=>{const g=de.dataTransfer.getData("buttonId"),B=a.findIndex(J=>J.id===g),F=a.findIndex(J=>J.id===p.id);if(B===F)return;const G=[...a],[ae]=G.splice(B,1);G.splice(F,0,ae),m(G)},children:[(0,r.jsxs)("button",{type:"button","aria-pressed":e.toggleMode?.enabled?T.isActive:void 0,className:je,title:A||void 0,"aria-label":X,style:{...le(p,M,T,{isLinkedRow:e.layout==="linked-row",isFirst:S===0,isLast:S===a.length-1}),"--hover-bg":p.enableHoverHighlight?p.hoverBgColor:"inherit","--hover-text":p.enableHoverHighlight?p.hoverTextColor:"inherit"},disabled:T.isProcessing,onClick:()=>Ve(p.id),onMouseDown:()=>C(p.id),onMouseUp:()=>z(p.id),onMouseLeave:()=>z(p.id),onTouchStart:()=>C(p.id),onTouchEnd:()=>z(p.id),children:[!p.hideIcon&&(0,r.jsx)("span",{className:"text-lg",children:te}),se&&(0,r.jsx)("span",{children:U}),T.isProcessing&&(0,r.jsx)(Kr,{className:"w-4 h-4 animate-spin"}),e.visuals?.showProgressArc&&T.isActive&&(0,r.jsx)("span",{className:"button-progress-ring"}),e.visuals?.enableParticleEffects&&(0,r.jsx)("span",{className:"button-ripple"},T.animationKey),T.energyCharge>0&&(0,r.jsx)("span",{className:"button-energy-ring",style:{background:`conic-gradient(#8B5CF6 ${T.energyCharge*3.6}deg, transparent 0deg)`}}),e.visuals?.badgesEnabled&&(0,r.jsx)("span",{className:"button-badge",children:ie}),Q?.propertyDone&&(0,r.jsxs)("span",{className:"button-done-pill",children:[(0,r.jsx)(Te,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:Q.doneLabel})]}),q?.unlockField&&(0,r.jsx)("span",{className:`button-unlock-pill ${q.unlockReady?"button-unlock-pill--ready":""}`,children:q.unlockReady?"Unlocked":`Locked: ${q.unlockValue||"value"}`}),H&&(0,r.jsx)("span",{className:"button-complete",children:(0,r.jsx)(Te,{className:"w-4 h-4"})}),q?.limitReached&&(0,r.jsx)("span",{className:"button-limit-overlay",children:"Limit reached"}),p.behaviorType==="secret"&&T.secretUnlocked&&(0,r.jsx)("span",{className:"button-secret-pill",children:"Secret ready"})]}),M?.badge&&(0,r.jsx)("div",{className:"mt-1 text-[11px] text-center text-purple-300 font-semibold",children:M.badge}),q?.mode&&(0,r.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-0.5",children:["Mode: ",q.mode]}),p.behaviorType==="playlist"&&L.length>0&&(0,r.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-1",children:["Now playing: ",L[T.playlistIndex%L.length]]}),e.toggleMode?.enabled&&(0,r.jsx)("div",{className:"text-[11px] text-center mt-1",style:{color:T.isActive?"#10B981":"#F87171"},children:T.isActive?"Active - Logging":"Inactive"}),e.dataAware?.enabled&&(0,r.jsxs)("div",{className:`mt-1 text-[11px] flex items-center gap-1 justify-center ${Q?.status==="warning"?"text-amber-400":Q?.status==="success"?"text-emerald-400":"text-neutral-400"}`,children:[(0,r.jsx)("span",{children:Q?.icon||"‚ö°"}),(0,r.jsxs)("span",{children:[e.dataAware.metricLabel||"Metric",": ",ie,"/",e.dataAware.goal||0]})]}),e.inputMode?.enabled&&T.awaitingInput&&(0,r.jsxs)("div",{className:"mt-2 w-full bg-white/10 border border-white/20 rounded-lg p-3 space-y-2",children:[(0,r.jsx)("label",{className:"text-[11px] uppercase tracking-wide text-neutral-200 font-semibold",children:e.inputMode.label||"Add quick note"}),(0,r.jsx)("input",{type:"text",value:T.inputValue,onChange:de=>me(p.id,de.target.value),placeholder:e.inputMode.placeholder,className:"w-full bg-black/20 border border-white/20 rounded px-3 py-2 text-sm text-white focus:border-purple-400 outline-none"}),oe.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:oe.map(de=>(0,r.jsx)("button",{type:"button",className:"text-[10px] px-2 py-1 bg-white/5 rounded-full text-neutral-300 border border-white/10 hover:border-purple-400",onClick:()=>me(p.id,de),children:de},de))}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",className:"flex-1 bg-purple-600 text-white rounded px-3 py-1.5 text-xs font-semibold hover:bg-purple-500",onClick:()=>mt(p.id),children:"Run Macro"}),(0,r.jsx)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded border border-white/20 text-neutral-300 hover:text-white",onClick:()=>Ge(p.id),children:"Cancel"})]})]}),T.macroLog.length>0&&(0,r.jsx)("div",{className:"mt-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2 space-y-1 max-w-xs",children:T.macroLog.slice(-3).map((de,g)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Me,{className:"w-3 h-3 text-purple-300"}),(0,r.jsx)("span",{children:de})]},`${p.id}-log-${g}`))}),p.behaviorType==="secret"&&T.secretUnlocked&&(0,r.jsx)("div",{className:"mt-2 text-[11px] text-purple-200 bg-purple-900/30 border border-purple-500/40 rounded p-2",children:"Secret UI unlocked! Tap to run hidden macros."}),(0,r.jsxs)("div",{className:"absolute top-0 right-0 p-1 bg-neutral-800 rounded-bl-lg opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[(0,r.jsx)("button",{onClick:()=>We(p.id),className:"p-1 rounded bg-blue-500 hover:bg-blue-600 text-white text-xs",children:(0,r.jsx)(Gt,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>Xe(p.id),className:"p-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs",children:(0,r.jsx)(Oe,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>x(p.id),className:"p-1 rounded bg-gray-500 hover:bg-gray-600 text-white text-xs",children:(0,r.jsx)(uo,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>D(p.id),className:"p-1 rounded bg-red-500 hover:bg-red-600 text-white text-xs",children:(0,r.jsx)(fr,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>R(p.id,"up"),disabled:S===0,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,r.jsx)(co,{className:"w-3 h-3"})}),(0,r.jsx)("button",{onClick:()=>R(p.id,"down"),disabled:S===a.length-1,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,r.jsx)(br,{className:"w-3 h-3"})})]})]},p.id)})}),pe&&(0,r.jsxs)("div",{className:"mt-8 w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Brand Kit"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:pe.label}),pe.appliedAt&&(0,r.jsxs)("p",{className:"text-[10px] text-neutral-400 mt-0.5",children:["Synced ",new Date(pe.appliedAt).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>N(!0),children:"Guide"}),(0,r.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>E("global"),children:"Surface Settings"})]})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Colors pulled from your Brand Theme Generator snapshot are powering this widget."}),pe.swatches.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:pe.swatches.map(({label:p,color:S})=>(0,r.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,r.jsx)("div",{className:"h-10 rounded-md border border-white/10 mb-1",style:{backgroundColor:S||"#0B0E12"}}),(0,r.jsx)("div",{className:"text-[10px] uppercase text-neutral-400",children:p}),(0,r.jsx)("div",{className:"text-[11px] font-mono text-neutral-200",children:S||"--"})]},`${p}-${S}`))}),pe.palette.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:pe.palette.map((p,S)=>(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/15",style:{backgroundColor:p}}),(0,r.jsx)("span",{className:"text-[9px] text-neutral-400 mt-1",children:p})]},`${p}-${S}`))})]}),q&&(0,r.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-black/30 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Notion Integration"}),(0,r.jsx)("p",{className:"text-base font-semibold text-white",children:q.databaseLabel}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-300 mt-1 flex-wrap",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(ro,{className:"w-4 h-4 text-purple-300"}),q.actionLabel]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(Yr,{className:"w-4 h-4 text-purple-300"}),q.template||"No template selected"]})]})]}),(0,r.jsx)("button",{type:"button",className:"ml-auto text-xs px-3 py-1.5 rounded-md bg-purple-600 text-white font-semibold hover:bg-purple-500 transition-colors",onClick:()=>E("notionIntegration"),children:"Customize Sync"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-neutral-400",children:"Prefill Properties"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:q.prefill.length>0?q.prefill.map(({key:p,value:S})=>(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/15 text-[11px] text-neutral-200",children:[p,": ",(0,r.jsx)("span",{className:"text-white",children:S||"value"})]},`${p}-${S}`)):(0,r.jsx)("span",{className:"text-[11px] text-neutral-500",children:"No prefill properties configured."})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:`p-3 rounded-lg border ${q.unlockReady?"border-emerald-400 bg-emerald-500/10":"border-amber-300/50 bg-amber-500/10"}`,children:[(0,r.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,r.jsx)("span",{children:"Unlock Field"}),(0,r.jsx)("span",{children:q.unlockReady?"Unlocked":"Locked"})]}),(0,r.jsx)("div",{className:"text-sm font-semibold text-white mt-1",children:q.unlockField||"No field selected"}),!q.unlockReady&&q.unlockValue&&(0,r.jsxs)("div",{className:"text-xs text-neutral-300 mt-1",children:["Waiting for ",(0,r.jsx)("span",{className:"font-semibold",children:q.unlockValue})," (current: ",q.currentFieldValue||"n/a",")"]})]}),q.conditionalLabel&&(0,r.jsxs)("div",{className:"p-3 rounded-lg border border-purple-400/30 bg-purple-500/10",children:[(0,r.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,r.jsx)("span",{children:q.conditionalLabel}),(0,r.jsx)("span",{children:q.conditionResolved?"Condition Met":"Waiting"})]}),(0,r.jsx)("div",{className:"text-sm text-white mt-1",children:q.conditionalAction||"No fallback action configured"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase text-neutral-400",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)($r,{className:"w-3 h-3 inline mr-1"})," Structured Log Preview"]}),(0,r.jsxs)("span",{children:[I.length,"/5 entries"]})]}),I.length===0?(0,r.jsx)("div",{className:"text-[11px] text-neutral-500 bg-white/5 rounded-lg px-3 py-2",children:"Run the button to see the Notion payload preview."}):(0,r.jsx)("div",{className:"space-y-1",children:I.map(p=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-[11px] bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-neutral-200",children:[(0,r.jsxs)("span",{children:[p.timestamp," - ",p.buttonLabel,p.behavior?` (${p.behavior})`:""]}),(0,r.jsx)("span",{className:"text-purple-300",children:p.action})]},p.id))}),(0,r.jsxs)("div",{className:"text-[10px] text-neutral-400",children:["Destination: ",(0,r.jsx)("span",{className:"text-neutral-200",children:q.logDestination})]})]})]}),n&&(0,r.jsxs)("div",{className:"mt-8 p-4 border rounded-lg shadow-lg bg-white w-full max-w-lg z-20",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg mb-4 flex justify-between items-center",children:["Edit Button: ",a.find(p=>p.id===n)?.label,(0,r.jsx)("button",{onClick:()=>x(null),className:"text-neutral-500 hover:text-neutral-700",children:(0,r.jsx)(lt,{className:"w-4 h-4"})})]}),P!==-1&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Label"}),(0,r.jsx)("input",{type:"text",value:a[P].label,onChange:p=>$(n,"label",p.target.value),className:"w-full p-2 border rounded-md"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Icon"}),(0,r.jsx)("input",{type:"text",value:a[P].icon,onChange:p=>$(n,"icon",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., ‚ú®"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:a[P].hideIcon,onChange:p=>$(n,"hideIcon",p.target.checked)})," Hide Icon"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"URL"}),(0,r.jsx)("input",{type:"url",value:a[P].url,onChange:p=>$(n,"url",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"https://domain.ext/path"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color Presets"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(Z).map(p=>(0,r.jsx)("button",{onClick:()=>ge(n,p),className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:Z[p].bgColor,color:Z[p].textColor},children:p},p))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Advanced Colors"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Background Color"}),(0,r.jsx)("input",{type:"color",value:a[P].bgColor,onChange:p=>$(n,"bgColor",p.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-neutral-700",children:["Background Opacity (",a[P].bgOpacity,"%)"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:a[P].bgOpacity,onChange:p=>$(n,"bgOpacity",parseInt(p.target.value,10))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Outline Color"}),(0,r.jsx)("input",{type:"color",value:a[P].outlineColor,onChange:p=>$(n,"outlineColor",p.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Text Color"}),(0,r.jsx)("input",{type:"color",value:a[P].textColor,onChange:p=>$(n,"textColor",p.target.value)})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:a[P].enableHoverHighlight,onChange:p=>$(n,"enableHoverHighlight",p.target.checked)})," Enable Hover Highlight"]}),a[P].enableHoverHighlight&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Background Color"}),(0,r.jsx)("input",{type:"color",value:a[P].hoverBgColor,onChange:p=>$(n,"hoverBgColor",p.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Text Color"}),(0,r.jsx)("input",{type:"color",value:a[P].hoverTextColor,onChange:p=>$(n,"hoverTextColor",p.target.value)})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Layout Options"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Size"}),(0,r.jsxs)("select",{value:a[P].size,onChange:p=>$(n,"size",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"small",children:"Small"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"large",children:"Large"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Corner Rounding"}),(0,r.jsxs)("select",{value:a[P].rounding,onChange:p=>$(n,"rounding",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"none",children:"None"}),(0,r.jsx)("option",{value:"slight",children:"Slight"}),(0,r.jsx)("option",{value:"round",children:"Round"})]})]})]})]})]}),(0,r.jsxs)("button",{onClick:Ce,className:"mt-8 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,r.jsx)(vr,{className:"w-4 h-4"})," Add Button"]}),e.showCustomizeButton&&(0,r.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>E("macroInput"),children:"Customize Modes"}),k&&(0,r.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-h-full overflow-y-auto w-full max-w-4xl bg-[#0B0E12] border border-white/15 rounded-2xl p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-wide text-neutral-400 flex items-center gap-2",children:[(0,r.jsx)(ho,{className:"w-4 h-4 text-purple-300"}),"Configuration Playbook"]}),(0,r.jsx)("p",{className:"text-xl font-semibold text-white",children:"Customize every mode"}),(0,r.jsx)("p",{className:"text-sm text-neutral-300",children:"Use this quick reference whenever the Customize button is unavailable."})]}),(0,r.jsxs)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-md border border-white/20 text-neutral-200 hover:text-white hover:border-purple-400 transition-colors flex items-center gap-1",onClick:()=>N(!1),children:[(0,r.jsx)(lt,{className:"w-3 h-3"})," Close"]})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:Ta.map(p=>(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(Vr,{className:"w-4 h-4 text-purple-300 mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-white",children:p.title}),(0,r.jsx)("p",{className:"text-xs text-neutral-300",children:p.description})]})]}),(0,r.jsx)("ul",{className:"space-y-1 text-xs text-neutral-200",children:p.items.map(S=>(0,r.jsxs)("li",{children:[(0,r.jsxs)("span",{className:"font-semibold text-white",children:[S.title,":"]})," ",S.body]},`${p.title}-${S.title}`))})]},p.title))})]})}),(0,r.jsx)("style",{children:`
        .button-live-preview {
          position: relative;
          outline: none;
          border: none;
          overflow: hidden;
          background: transparent;
        }
        .button-live-preview:hover:not(:disabled) {
          transform: translateY(-2px);
        }
        .button-live-preview--processing {
          opacity: 0.85;
        }
        .button-live-preview--active {
          animation: activeGlow 2.2s ease-in-out infinite;
        }
        .button-badge {
          position: absolute;
          top: 6px;
          right: 10px;
          background: rgba(0,0,0,0.3);
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          line-height: 1;
          border: 1px solid rgba(255,255,255,0.3);
        }
        .button-progress-ring {
          position: absolute;
          inset: 4px;
          border-radius: 999px;
          border: 2px solid rgba(255,255,255,0.2);
          border-top-color: rgba(255,255,255,0.7);
          animation: progressSpin 2.4s linear infinite;
          pointer-events: none;
        }
        .button-ripple {
          position: absolute;
          inset: -20%;
          border-radius: 50%;
          background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
          animation: ripple 0.8s ease-out;
          pointer-events: none;
        }
        .button-energy-ring {
          position: absolute;
          inset: -6px;
          border-radius: 999px;
          background: conic-gradient(#8B5CF6 0deg, transparent 0deg);
          opacity: 0.7;
          transition: background 0.3s ease;
          pointer-events: none;
        }
        .button-live-preview--complete::after {
          content: '';
        }
        .button-complete {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(16,185,129,0.2);
          animation: completePop 0.4s ease forwards;
        }
        .button-done-pill {
          position: absolute;
          bottom: 6px;
          left: 10px;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          background: rgba(16,185,129,0.15);
          color: #059669;
          border: 1px solid rgba(16,185,129,0.35);
        }
        .button-done-pill svg {
          width: 12px;
          height: 12px;
        }
        .button-unlock-pill {
          position: absolute;
          top: 6px;
          left: 10px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          border: 1px solid rgba(251,191,36,0.6);
          background: rgba(251,191,36,0.15);
          color: #FBBF24;
        }
        .button-unlock-pill--ready {
          border-color: rgba(16,185,129,0.7);
          background: rgba(16,185,129,0.2);
          color: #10B981;
        }
        .button-limit-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(11,14,18,0.65);
          color: #F87171;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }
        .button-live-preview--streak {
          animation: streakGlow 1.8s ease-in-out infinite;
        }
        .button-live-preview--limited {
          opacity: 0.55;
        }
        .button-secret-pill {
          position: absolute;
          top: 6px;
          right: 10px;
          padding: 2px 6px;
          font-size: 10px;
          border-radius: 999px;
          background: rgba(168,85,247,0.2);
          border: 1px solid rgba(168,85,247,0.5);
          color: #E9D5FF;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }
        @keyframes activeGlow {
          0%, 100% { box-shadow: 0 0 12px rgba(139,92,246,0.45); }
          50% { box-shadow: 0 0 24px rgba(59,130,246,0.55); }
        }
        @keyframes streakGlow {
          0%, 100% { box-shadow: 0 0 18px rgba(59,130,246,0.45); }
          50% { box-shadow: 0 0 30px rgba(236,72,153,0.55); }
        }
        @keyframes ripple {
          from { transform: scale(0.6); opacity: 0.8; }
          to { transform: scale(1.2); opacity: 0; }
        }
        @keyframes progressSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes completePop {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})};var Ma={id:"initial",label:"Button",icon:"?",hideIcon:!1,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:"",url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"};const La={id:"newButtonGenerator",label:"Button Generator",icon:"MousePointerClick",description:"Create customizable buttons with advanced styling and actions.",defaultConfig:{buttons:[Ma],layout:"horizontal",alignment:"center",useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0,macroMode:{enabled:!0,actions:[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],actionsText:["log|Log quick note|180","toggle|Toggle active state|160","openLink|Open linked page|220"].join(`
`)},inputMode:{enabled:!0,label:"Add quick note",placeholder:"Add quick note or intention...",hints:["Add quick note","Add task title","Add pomodoro session notes"]},cycleMode:{enabled:!0,values:[{id:"start",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],valuesText:["Start >|Focus|#8B5CF6","Pause |||Rest|#F59E0B","Skip >>|Move|#06B6D4","Complete Done|Ship|#10B981"].join(`
`)},toggleMode:{enabled:!0,startActive:!1,glowWhenActive:!0,logToNotion:!0},visuals:{enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0,badgeLabel:"Logs today"},notionIntegration:{enabled:!0,database:"tasks",action:"create",template:"Daily Log",prefillPropertiesText:"Status=In Progress;Owner=Me",logEntries:!0,logDestination:"Console Preview",unlockField:"Mode",unlockValue:"Focus",currentFieldValue:"Focus",twoWay:{taskCompleted:!1,limitReached:!1,mode:"Focus"},conditional:{label:"If timer active",conditionMet:!1,thenAction:"Pause timer",elseAction:"Start focus"}},dataAware:{enabled:!0,metricLabel:"Logs today",sampleValue:3,goal:5,warningThreshold:2,statusIcon:"‚ö°",tasksIncomplete:!1,pomodoroStreakActive:!1,propertyDone:!1,doneLabel:"Marked Done",timerActive:!1,streakBroken:!1,projectTag:"General",projectTagTarget:"Music",musicTooltip:"Logs in Music DB",projectTagColor:"#C026D3",dynamicLabelsText:`Press Me
Let's cook üî•
Energy +1
Keep grinding`}},sections:[{id:"global",label:"1. WIDGET SURFACE",description:"Dial in the canvas surrounding your buttons - transparency, background colors, and appearance mode."},{id:"layout",label:"2. BUTTON MODES",description:"Modes create entire categories of button behavior.",notes:[{title:"Action Mode",body:"Executes a single action such as logging, toggling, or opening a link."}]},{id:"macroInput",label:"3. MACRO + INPUT MODES",description:"Macro Mode chains multiple actions, while Input Mode collects context before launching the macro.",notes:[{title:"Macro Mode",body:"Executes sequential actions such as logging, toggling, opening links or changing states."},{title:"Input Mode",body:"Shows a miniature note field before running macros (quick note, task title, pomodoro notes, etc.)."}]},{id:"cycleToggle",label:"4. CYCLE + TOGGLE STATES",description:"Each press can cycle through preset states or flip a persistent toggle with Notion logging.",notes:[{title:"Cycle Mode",body:"Cycle through styles/statuses/views each press (Start, Pause, Skip, Complete)."},{title:"Toggle Mode",body:"Button keeps an Active/Inactive state, glows while active, and logs state changes."}]},{id:"notionIntegration",label:"5. NOTION INTEGRATION FEATURES",description:"Connect each button to a Notion database, templates, structured logs, and two-way conditions.",notes:[{title:"Connect to Database",body:"Pick Tasks, Journal, Habits, or Pomodoros and choose Create, Update, or Toggle actions."},{title:"Templates and Prefill",body:"Assign database templates and property defaults per button."},{title:"Two-Way Sync",body:"Grey out or switch modes when Notion properties hit certain states (completed, limits, focus modes)."},{title:"Conditional Actions",body:"If property/value matches, route to alternate actions (pause vs start, etc.)."}]},{id:"visuals",label:"6. VISUAL & INTERACTIVE FEATURES",description:"Make the button feel worth clicking with tactile feedback.",notes:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts."},{title:"Particle or Trace Effects",body:"Neon ripple, energy pulse, pixel burst, glow sweep, magnetic hover."},{title:"Active Duration Glow",body:"Pulses, color shifts, and progress arcs while the macro runs."},{title:"Button Badges",body:"Counts, status icons, warning dots, or data pills."}]},{id:"dataAware",label:"7. DATA-AWARE BUTTONS",description:"Buttons that adapt visually based on Notion data (counts, targets, warnings).",notes:[{title:"Visual cues",body:"Success aura on goal reached, warning glow when under target, metric badges."}]}],fields:[{name:"useTransparentBackground",label:"Transparent Widget Background",type:"boolean",section:"global"},{name:"setBackgroundColor",label:"Set Widget Background Color",type:"boolean",section:"global"},{name:"backgroundColor",label:"Widget Background Color",type:"color",section:"global"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"global",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"global"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"global"},{name:"layout",label:"Button Layout",type:"select",section:"layout",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Full Width",value:"full-width"},{label:"Vertical Stack",value:"vertical-stack"},{label:"Inline Cluster",value:"inline-cluster"},{label:"Linked Row",value:"linked-row"},{label:"Grid",value:"grid"}]},{name:"alignment",label:"Button Alignment",type:"select",section:"layout",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Space Evenly",value:"space-evenly"}]},{name:"macroMode.enabled",label:"Enable Macro Mode",type:"boolean",section:"macroInput"},{name:"macroMode.actionsText",label:"Macro Action Sequence (type|label|delay)",type:"textarea",rows:3,section:"macroInput"},{name:"inputMode.enabled",label:"Enable Input Prompt",type:"boolean",section:"macroInput"},{name:"inputMode.label",label:"Input Prompt Label",type:"text",section:"macroInput"},{name:"inputMode.placeholder",label:"Input Placeholder",type:"text",section:"macroInput"},{name:"inputMode.hints",label:"Input Hints (one per line)",type:"textarea",rows:3,section:"macroInput"},{name:"cycleMode.enabled",label:"Enable Cycle Mode",type:"boolean",section:"cycleToggle"},{name:"cycleMode.valuesText",label:"Cycle Presets (label|badge|color)",type:"textarea",rows:4,section:"cycleToggle"},{name:"toggleMode.enabled",label:"Enable Toggle Mode",type:"boolean",section:"cycleToggle"},{name:"toggleMode.startActive",label:"Start Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.glowWhenActive",label:"Glow When Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.logToNotion",label:"Log Toggle State (Notion)",type:"boolean",section:"cycleToggle"},{name:"notionIntegration.enabled",label:"Enable Notion Integration",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.database",label:"Database",type:"select",section:"notionIntegration",options:[{label:"Tasks",value:"tasks"},{label:"Journal",value:"journal"},{label:"Habits",value:"habits"},{label:"Pomodoros",value:"pomodoros"}]},{name:"notionIntegration.action",label:"Action",type:"select",section:"notionIntegration",options:[{label:"Create Row",value:"create"},{label:"Update Property",value:"update"},{label:"Toggle Checkbox",value:"toggle"}]},{name:"notionIntegration.template",label:"Template Name",type:"text",section:"notionIntegration"},{name:"notionIntegration.prefillPropertiesText",label:"Prefill Properties (key=value;key=value)",type:"textarea",rows:2,section:"notionIntegration"},{name:"notionIntegration.logEntries",label:"Structured Logging",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.logDestination",label:"Log Destination",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockField",label:"Unlock Field",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockValue",label:"Unlock Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.currentFieldValue",label:"Current Field Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.twoWay.taskCompleted",label:"Two-Way - Task Completed",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.limitReached",label:"Two-Way - Limit Reached",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.mode",label:"Two-Way - Mode Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.label",label:"Conditional Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.conditionMet",label:"Conditional ‚Äì Condition Met",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.conditional.thenAction",label:"Conditional ‚Äì If True Action",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.elseAction",label:"Conditional ‚Äì If False Action",type:"text",section:"notionIntegration"},{name:"visuals.enableParticleEffects",label:"Enable Particle Effects",type:"boolean",section:"visuals"},{name:"visuals.activeGlow",label:"Active Duration Glow",type:"boolean",section:"visuals"},{name:"visuals.showProgressArc",label:"Show Progress Arc",type:"boolean",section:"visuals"},{name:"visuals.badgesEnabled",label:"Show Button Badges",type:"boolean",section:"visuals"},{name:"visuals.badgeLabel",label:"Badge Label",type:"text",section:"visuals"},{name:"dataAware.enabled",label:"Enable Data-Aware Styling",type:"boolean",section:"dataAware"},{name:"dataAware.metricLabel",label:"Metric Label",type:"text",section:"dataAware"},{name:"dataAware.sampleValue",label:"Sample value",type:"number",section:"dataAware"},{name:"dataAware.goal",label:"Goal target",type:"number",section:"dataAware"},{name:"dataAware.warningThreshold",label:"Warning threshold",type:"number",section:"dataAware"},{name:"dataAware.statusIcon",label:"Status Icon",type:"text",section:"dataAware"},{name:"dataAware.tasksIncomplete",label:"Mark as Tasks Incomplete",type:"boolean",section:"dataAware"},{name:"dataAware.pomodoroStreakActive",label:"Pomodoro Streak Active",type:"boolean",section:"dataAware"},{name:"dataAware.propertyDone",label:"Property Marked Done",type:"boolean",section:"dataAware"},{name:"dataAware.doneLabel",label:"Done Badge Label",type:"text",section:"dataAware"},{name:"dataAware.timerActive",label:"Timer Currently Active",type:"boolean",section:"dataAware"},{name:"dataAware.streakBroken",label:"Streak Broken",type:"boolean",section:"dataAware"},{name:"dataAware.projectTag",label:"Current Project Tag",type:"text",section:"dataAware"},{name:"dataAware.projectTagTarget",label:"Music Tag Target",type:"text",section:"dataAware"},{name:"dataAware.musicTooltip",label:"Music Tag Tooltip",type:"text",section:"dataAware"},{name:"dataAware.projectTagColor",label:"Music Tag Accent Color",type:"color",section:"dataAware"},{name:"dataAware.dynamicLabelsText",label:"Dynamic Labels (one per line)",type:"textarea",rows:4,section:"dataAware"}]};var Bt=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return e.replace(/[&<>'"]/g,t=>o[t])};const Ea=e=>{const o=e.useTransparentBackground?"transparent":e.backgroundColor,t=Array.isArray(e.buttons)?e.buttons:[],s=d=>{const c=d.rounding==="none"?"0px":d.rounding==="slight"?"8px":"9999px",a=d.size==="small"?"8px 16px":d.size==="large"?"16px 32px":"12px 24px",m=d.size==="small"?"0.875rem":d.size==="large"?"1.25rem":"1rem",n=d.outlineColor==="transparent"?"0px":"1px",x=d.enableHoverHighlight?d.hoverBgColor:d.bgColor,l=d.enableHoverHighlight?d.hoverTextColor:d.textColor;return`
          background-color: ${d.bgColor}${d.bgOpacity<100?Math.round(255*(d.bgOpacity/100)).toString(16).padStart(2,"0"):""};
          color: ${d.textColor};
          border: ${n} solid ${d.outlineColor};
          border-radius: ${c};
          padding: ${a};
          font-size: ${m};
          font-family: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          text-decoration: none;
          cursor: pointer;
          flex-shrink: 0;
          width: ${e.layout==="full-width"?"100%":"auto"};
          text-align: center;
          box-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.2);
          transition: all 0.2s ease-in-out;
          --hover-bg: ${x};
          --hover-text: ${l};
      `};return`
    <div style="
      display: flex; 
      align-items: center; 
      justify-content: center; 
      height: 100vh; 
      width: 100vw; 
      background: ${o};
      padding: 16px;
      box-sizing: border-box;
    ">
      <div style="${`
      display: flex;
      gap: 16px;
      flex-wrap: ${e.layout==="vertical"?"nowrap":"wrap"};
      flex-direction: ${e.layout==="vertical"?"column":"row"};
      justify-content: ${e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end"};
      width: ${e.layout==="full-width"?"100%":"auto"};
      height: 100%;
      align-items: ${e.layout==="full-width"&&e.alignment==="center"?"center":e.layout==="full-width"&&e.alignment==="left"?"flex-start":e.layout==="full-width"&&e.alignment==="right"?"flex-end":"initial"}; /* Adjusted for full-width alignment */
  `}">
        ${t.map(d=>`
          <a href="${Bt(d.url)}" target="_blank" rel="noopener noreferrer" 
             style="${s(d)}"
             class="generated-button"
          >
            ${d.hideIcon?"":Bt(d.icon)}
            <span>${Bt(d.label)}</span>
          </a>
        `).join("")}
      </div>
      <style>
        .generated-button:hover {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      </style>
    </div>
  `},Da=()=>"";var vt={background:"#0B0E12",text:"#F8F9FF",primary:"#8B5CF6",secondary:"#3B82F6"};const Fe=(e,o={})=>{if(!e)return null;const t=typeof e=="object"?e:{},s=Array.isArray(t.palette)?t.palette:[],d=o.backgroundColor??t.backgroundColor??t.background??s[s.length-1]??vt.background,c=o.textColor??t.textColor??t.text??s[0]??vt.text,a=o.clockColor??t.clockColor??t.primaryColor??t.primary??vt.primary,m=o.digitColor??t.digitColor??t.secondaryColor??t.secondary??vt.secondary,n=o.accentColor??t.accentColor??t.accent??a,x=o.presetName??t.presetName??t.name,l={...t,...o,palette:s,presetName:x,name:t.name||x||"Custom Brand Theme",background:d,text:c,primary:t.primary??a,secondary:t.secondary??m,accent:t.accent??n,backgroundColor:d,textColor:c,clockColor:a,digitColor:m,accentColor:n};return l.colors={...t.colors,background:d,text:c,primary:l.primary,secondary:l.secondary,accent:l.accent,palette:s},l};var lr=(e,o,t)=>"#"+[e,o,t].map(s=>{const d=s.toString(16);return d.length===1?"0"+d:d}).join(""),Rt=e=>{const t=(a=>{const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return m?{r:parseInt(m[1],16),g:parseInt(m[2],16),b:parseInt(m[3],16)}:null})(e);if(!t)return 0;const[s,d,c]=[t.r,t.g,t.b].map(a=>(a=a/255,a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)));return .2126*s+.7152*d+.0722*c},Pa=e=>[...e].sort((o,t)=>Rt(o)-Rt(t)),Or=({onColorsExtracted:e,onLogoUploaded:o})=>{const[t,s]=(0,h.useState)(!1),[d,c]=(0,h.useState)(null),[a,m]=(0,h.useState)(null),[n,x]=(0,h.useState)([]),l=(0,h.useRef)(null),u=(0,h.useRef)(null),b=async v=>{const y=v.target.files?.[0];if(!y)return;s(!0);const w=new FileReader;w.onload=j=>{const k=j.target.result;c(k),o&&o(k)},w.readAsDataURL(y)},_=v=>{if(!v||!v.palette||v.palette.length===0)return[];const y=Pa(v.palette),w=y[0],j=y[y.length-1],k=v.primary||w,N=v.secondary||y[1]||w,f=v.accent,E=[],P=(Z,ce=null)=>{const Y={...O,colors:{...O.colors,primary:k,secondary:N,accent:f,background:Z.backgroundColor,text:Z.textColor,palette:v.palette},...Z};return Y.isDark=ce!==null?ce:Rt(Y.colors.background)<.5,Fe(Y)};return E.push(P({id:"vibrant",name:"Vibrant",backgroundColor:j,textColor:w,primaryColor:k,secondaryColor:N,accentColor:f,panelColor:k,digitColor:j})),E.push(P({id:"dark-mode",name:"Dark Mode",backgroundColor:w,textColor:j,primaryColor:k,secondaryColor:N,accentColor:f,panelColor:w,digitColor:j},!0)),E.push(P({id:"light-mode",name:"Light Mode",backgroundColor:j,textColor:w,primaryColor:k,secondaryColor:N,accentColor:f,panelColor:j,digitColor:w},!1)),E},I=()=>{if(!u.current)return;const v=new Ze;try{const y=v.getColor(u.current),w=v.getPalette(u.current,8);if(!y||!w||w.length===0){s(!1),c(null);return}const j=w.map(f=>lr(f[0],f[1],f[2])),k=lr(y[0],y[1],y[2]),N=Fe({...O,primary:k,secondary:j[1]||j[0],accent:j[2]||j[1],background:j[j.length-1],text:j[0],palette:j,colors:{...O.colors,primary:k,secondary:j[1]||j[0],accent:j[2]||j[1]}});m(N),x(_(N)),s(!1),e&&e(N)}catch{s(!1),c(null)}};return(0,r.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-lg mb-4 border border-purple-500/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(Me,{className:"w-4 h-4 text-purple-400"}),(0,r.jsx)("h4",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold",children:"Brand Logo Color Extraction"})]}),(0,r.jsx)("input",{ref:l,type:"file",accept:"image/*",onChange:b,className:"hidden"}),d?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{ref:u,src:d,alt:"Brand logo",crossOrigin:"anonymous",onLoad:I,className:"w-full h-32 object-contain bg-white/5 rounded-lg"}),(0,r.jsx)("button",{onClick:()=>{c(null),m(null),x([]),o&&o(null),e&&e(null)},className:"absolute top-2 right-2 p-1 bg-red-500/80 hover:bg-red-500 rounded text-white",children:(0,r.jsx)(lt,{className:"w-4 h-4"})})]}),t&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[(0,r.jsx)(to,{className:"w-4 h-4 animate-spin"}),"Extracting colors..."]}),a&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[(0,r.jsx)(Te,{className:"w-3 h-3"}),"Colors extracted successfully!"]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.palette.map((v,y)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded border border-white/20 shadow-lg",style:{backgroundColor:v},title:v}),(0,r.jsx)("div",{className:"text-[8px] text-white/50 mt-1 font-mono",children:v})]},y))}),n.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h5",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold mb-2",children:"Theme Variations"}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:n.map(v=>(0,r.jsxs)("button",{onClick:()=>e&&e(Fe(v)),className:"flex flex-col items-center p-2 rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors",title:`Apply ${v.name} Theme`,children:[(0,r.jsx)("div",{className:"w-12 h-6 rounded-md mb-1",style:{background:v.backgroundColor,border:`1px solid ${v.primaryColor}`}}),(0,r.jsx)("span",{className:"text-[10px] text-white/70",children:v.name})]},v.id))})]})]})]}):(0,r.jsxs)("button",{onClick:()=>l.current?.click(),className:"w-full py-8 border-2 border-dashed border-purple-400/50 rounded-lg hover:border-purple-400 hover:bg-purple-500/10 transition-all flex flex-col items-center gap-2 text-purple-300 hover:text-purple-200",children:[(0,r.jsx)(mo,{className:"w-8 h-8"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Upload Brand Logo"}),(0,r.jsx)("span",{className:"text-xs text-purple-400/70",children:"Auto-extract colors for your widget"})]})]})},Wa={clock:hr,quotes:yr,counter:ur,imageGallery:pr,countdown:mr,newButtonGenerator:xr,weather:wt},Ra=()=>{if(typeof window>"u")return null;const e=window.localStorage.getItem("jazer_brand_theme");if(!e)return null;try{const o=JSON.parse(e);if(o&&o.palette&&Array.isArray(o.palette)&&o.palette.length>0)return Fe(o);window.localStorage.removeItem("jazer_brand_theme")}catch{window.localStorage.removeItem("jazer_brand_theme")}return null},Oa=({onBack:e,onThemeGenerated:o})=>{console.log("[BrandThemeGenerator v2] Component loaded - Dec 4 2024");const[t,s]=(0,h.useState)(()=>Ra()),d=(0,h.useMemo)(()=>t?Pr(t):[],[t]),[c,a]=(0,h.useState)(null),m=(0,h.useMemo)(()=>{if(!d.length)return null;if(c){const w=d.find(j=>j.id===c);if(w)return w}return d[0]},[d,c]),[n,x]=(0,h.useState)(!0),[l,u]=(0,h.useState)(!1),b=w=>{if(!w){s(null),a(null);return}const j=Fe(w);s(j),a(null);try{localStorage.setItem("jazer_brand_theme",JSON.stringify(j))}catch{}},_=()=>{if(!t)return;const w=m?{...t,...m,palette:t?.palette||m.palette}:t,j=Fe(w,{presetName:m?.name??w?.presetName,name:m?.name??w?.name});localStorage.setItem("jazer_global_brand_theme",JSON.stringify(j)),localStorage.setItem("jazer_global_brand_active","true"),o&&o(j),u(!0),setTimeout(()=>u(!1),3e3)},I=()=>{window.confirm("This will remove your custom brand theme from all widgets. Continue?")&&(s(null),a(null),localStorage.removeItem("jazer_brand_theme"),localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active"),o&&o(null))},v=()=>{if(!t)return;const w={name:"Custom Brand Theme",timestamp:new Date().toISOString(),colors:t,presets:d},j=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),k=URL.createObjectURL(j),N=document.createElement("a");N.href=k,N.download="brand-theme.json",N.click(),URL.revokeObjectURL(k)},y=w=>{navigator.clipboard.writeText(w)};return(0,r.jsxs)("div",{className:"min-h-screen p-8 md:p-16 animate-fadeIn",style:{backgroundColor:"#000000",color:"#F8F9FF"},children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:e,className:"p-3 rounded-xl transition-all hover:scale-105 btn-ghost",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",color:"var(--jazer-cyan)"},children:(0,r.jsx)(Ut,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight animate-float",style:{fontFamily:"var(--font-primary)",background:"var(--gradient-text)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textTransform:"uppercase"},children:"Brand Theme Generator"}),(0,r.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-gray)",fontFamily:"var(--font-body)"},children:"Extract colors from your logo and apply them to all widgets"})]})]}),t&&(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:v,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105 animate-glow",style:{background:"var(--gradient-accent)",color:"white",border:"2px solid var(--border-pink)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,r.jsx)(Ht,{className:"w-4 h-4"}),"Export Theme"]}),(0,r.jsxs)("button",{onClick:I,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105",style:{background:"var(--bg-card)",color:"var(--text-gray)",border:"2px solid var(--border-default)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,r.jsx)(gr,{className:"w-4 h-4"}),"Clear Theme"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsx)("div",{className:"space-y-6 animate-fadeInUp",children:(0,r.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-cyan)",boxShadow:"var(--shadow-cyan)"},children:[(0,r.jsx)(Or,{onColorsExtracted:b}),t&&t.palette&&(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider",style:{color:"var(--text-gray)",fontFamily:"var(--font-secondary)"},children:"Extracted Colors"}),(0,r.jsx)("button",{onClick:()=>x(!n),className:"p-1 rounded transition-colors",style:{color:"var(--text-gray)"},children:n?(0,r.jsx)(eo,{className:"w-4 h-4"}):(0,r.jsx)(ot,{className:"w-4 h-4"})})]}),n&&t.palette&&Array.isArray(t.palette)&&(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",children:t.palette.map((w,j)=>(0,r.jsxs)("button",{onClick:()=>y(w),className:"group relative text-center transition-transform hover:scale-110",title:`Click to copy ${w}`,children:[(0,r.jsx)("div",{className:"w-full h-16 rounded-lg border-2 transition-all",style:{backgroundColor:w,borderColor:"rgba(255, 255, 255, 0.2)"}}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:(0,r.jsx)(Gt,{className:"w-4 h-4",style:{color:"white"}})}),(0,r.jsx)("div",{className:"text-[9px] font-mono mt-1",style:{color:"var(--text-gray)"},children:w})]},j))}),(0,r.jsx)("button",{onClick:_,disabled:l,className:"w-full py-5 rounded-xl font-black text-lg flex items-center justify-center gap-3 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed animate-glow",style:{background:l?"linear-gradient(135deg, #00f2ea 0%, #4facfe 100%)":"var(--gradient-accent)",color:"white",fontFamily:"var(--font-primary)",textTransform:"uppercase",letterSpacing:"0.05em",border:l?"2px solid var(--jazer-cyan)":"2px solid var(--border-pink)",boxShadow:l?"var(--shadow-cyan)":"var(--shadow-card)"},children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Te,{className:"w-6 h-6"}),m?`${m.name} Applied!`:"Theme Applied!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Me,{className:"w-6 h-6"}),m?`Apply ${m.name}`:"Apply to All Widgets"]})}),(0,r.jsx)("p",{className:"text-xs text-center",style:{color:"var(--text-gray)"},children:m?`This will apply "${m.name}" preset to all widgets`:"This will set your brand colors as the default for all widgets"})]})]})}),(0,r.jsx)("div",{className:"space-y-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:(0,r.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-purple)",boxShadow:"var(--shadow-purple)"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)(Oe,{className:"w-7 h-7",style:{color:"var(--jazer-purple)"}}),(0,r.jsxs)("h3",{className:"text-2xl font-black",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:["Generated Presets (",d.length,")"]})]}),d.length===0?(0,r.jsxs)("div",{className:"text-center py-16 rounded-xl border-2 border-dashed",style:{borderColor:"var(--border-cyan)",color:"var(--text-gray)",background:"rgba(0, 242, 234, 0.05)"},children:[(0,r.jsx)(Me,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--jazer-cyan)",opacity:.6}}),(0,r.jsx)("p",{className:"text-xl font-bold",style:{fontFamily:"var(--font-secondary)",color:"white"},children:"Upload a logo to generate presets"}),(0,r.jsx)("p",{className:"text-sm mt-2",style:{fontFamily:"var(--font-body)"},children:"8 unique color schemes will be created automatically"})]}):(0,r.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:d.map(w=>(0,r.jsxs)("button",{onClick:()=>a(w.id),className:"w-full text-left p-5 rounded-xl transition-all hover:scale-[1.02]",style:{background:m?.id===w.id?"var(--gradient-card)":"var(--bg-card)",border:`2px solid ${m?.id===w.id?"var(--jazer-cyan)":"var(--border-default)"}`,boxShadow:m?.id===w.id?"var(--shadow-cyan)":"none"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-sm",style:{color:"white",fontFamily:"var(--font-secondary)"},children:w.name}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-gray)"},children:w.description})]}),m?.id===w.id&&(0,r.jsx)(Te,{className:"w-5 h-5",style:{color:"var(--jazer-cyan)"}})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:w.backgroundColor},title:`Background: ${w.backgroundColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:w.clockColor},title:`Primary: ${w.clockColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:w.digitColor},title:`Digits: ${w.digitColor}`}),(0,r.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:w.textColor},title:`Text: ${w.textColor}`})]}),w.glow&&(0,r.jsxs)("div",{className:"mt-2 text-xs flex items-center gap-2",style:{color:"var(--jazer-cyan)"},children:[(0,r.jsx)(Me,{className:"w-3 h-3"}),"Includes glow effect"]})]},w.id))})]})})]}),t&&(0,r.jsxs)("div",{className:"glass-card animate-fadeInUp",style:{border:"2px solid var(--border-pink)",boxShadow:"var(--shadow-pink)",animationDelay:"0.2s"},children:[(0,r.jsxs)("h3",{className:"text-2xl font-black mb-6 flex items-center gap-3",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:[(0,r.jsx)(Me,{className:"w-7 h-7",style:{color:"var(--jazer-pink)"}}),"Widgets Using Your Brand Theme"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(Wa).map(([w,j])=>(0,r.jsxs)("div",{className:"p-5 rounded-xl text-center transition-all hover:scale-105",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",boxShadow:"0 4px 12px rgba(0, 242, 234, 0.1)"},children:[(0,r.jsx)(j,{className:"w-10 h-10 mx-auto mb-3",style:{color:t?.primary||"var(--jazer-cyan)"}}),(0,r.jsx)("div",{className:"text-sm font-bold capitalize",style:{color:"white",fontFamily:"var(--font-secondary)"},children:w.replace(/([A-Z])/g," $1").trim()}),(0,r.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"var(--jazer-cyan)",fontFamily:"var(--font-body)"},children:"Theme Active"})]},w))}),(0,r.jsx)("div",{className:"mt-6 p-5 rounded-xl",style:{background:"linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 0, 110, 0.1))",border:"2px solid var(--border-purple)"},children:(0,r.jsxs)("p",{className:"text-sm leading-relaxed",style:{color:"white",fontFamily:"var(--font-body)"},children:["üí° ",(0,r.jsx)("strong",{style:{color:"var(--jazer-cyan)",fontWeight:700},children:"Pro Tip:"})," Your brand theme is saved locally and will be automatically applied to all widgets. You can always come back here to update or clear your theme."]})})]})]}),(0,r.jsx)("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #000000;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--jazer-purple);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--jazer-cyan);
        }
      `})]})},Ha=Oa,Ga=300,qa=12,Ua=120,At={black:{bg:"#000000",text:"#FFFFFF",outline:"#000000"},grey:{bg:"#9B9A97",text:"#FFFFFF",outline:"#9B9A97"},yellow:{bg:"#DFAB01",text:"#FFFFFF",outline:"#DFAB01"},purple:{bg:"#6940A5",text:"#FFFFFF",outline:"#6940A5"},brown:{bg:"#64473A",text:"#FFFFFF",outline:"#64473A"},green:{bg:"#0F7B6C",text:"#FFFFFF",outline:"#0F7B6C"},pink:{bg:"#AD1A72",text:"#FFFFFF",outline:"#AD1A72"},orange:{bg:"#D9730D",text:"#FFFFFF",outline:"#D9730D"},blue:{bg:"#0B6E99",text:"#FFFFFF",outline:"#0B6E99"},red:{bg:"#E03E3E",text:"#FFFFFF",outline:"#E03E3E"}},Ja=["üòä","üöÄ","üé®","üíº","üîó","üìÖ","‚ú®","‚≠ê","üî•","üí°","üìö","üìù","üìß","üí¨","üìû","üìç","üè†","üíª","üì±","üì∏","üé•","üéß","üéµ","üéÆ","üïπÔ∏è","üé≤","üèÜ","ü•á","‚öΩ","üèÄ","‚ù§Ô∏è","üëç","üëã","üôå","üëè","ü§ù","üëÄ","üß†","üí™","‚ö°","üõë","‚úÖ","‚ùå","‚ùì","‚ùó","‚û°Ô∏è","‚¨ÖÔ∏è","‚¨ÜÔ∏è","‚¨áÔ∏è","üîó"],ir=[{id:"cycle",label:"Cycle Button",description:"Pomodoro start / pause / skip break",icon:"‚è±",config:{label:"Pomodoro Cycle",icon:"‚è±",tooltip:"Cycle focus, pause, skip",behaviorType:"cycle",variant:"capsule"}},{id:"createPage",label:"Create Page Button",description:"Creates a Notion page entry",icon:"üìÑ",config:{label:"Create Page",icon:"üìÑ",tooltip:"Creates a Notion page",behaviorType:"createPage",variant:"outline"}},{id:"template",label:"Template Button",description:"Applies a database template",icon:"üß©",config:{label:"Apply Template",icon:"üß©",tooltip:"Runs assigned template",behaviorType:"template",variant:"ghost"}},{id:"counter",label:"Counter Button",description:"Counts presses and displays value",icon:"üî¢",config:{label:"Log Count",icon:"üî¢",tooltip:"Adds to counter",behaviorType:"counter",variant:"solid"}},{id:"modeSwitcher",label:"Mode Switcher",description:"Switches focus/break modes",icon:"üîÄ",config:{label:"Mode Switch",icon:"üîÄ",tooltip:"Switches mode",behaviorType:"modeSwitcher",variant:"capsule"}},{id:"themeToggle",label:"Theme Toggle",description:"Toggles light / dark theme",icon:"üåì",config:{label:"Theme Toggle",icon:"üåì",tooltip:"Toggles theme",behaviorType:"themeToggle",variant:"orb"}},{id:"playlist",label:"Playlist Button",description:"Cycles through playlist names",icon:"üéµ",config:{label:"Playlist",icon:"üéµ",tooltip:"Cycle playlist tracks",behaviorType:"playlist",variant:"circular",playlistText:`Lo-fi Beats
Hyperfocus Mix
Break Vibes`}},{id:"navigation",label:"Navigation Button",description:"Opens a Notion page",icon:"üîó",config:{label:"Open Notion",icon:"üîó",tooltip:"Opens linked Notion page",behaviorType:"navigation",variant:"outline"}},{id:"meta",label:"Meta Button",description:"Runs macro sequences",icon:"üß†",config:{label:"Meta Macro",icon:"üß†",tooltip:"Runs macro playlist",behaviorType:"meta",variant:"solid"}},{id:"secret",label:"Secret Button",description:"Long-press unlocks a hidden UI",icon:"üïµÔ∏è",config:{label:"Secret Button",icon:"üïµÔ∏è",tooltip:"Hold for 2 seconds",behaviorType:"secret",variant:"ghost"}}],rt=4,W={colors:{electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ui:{deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},fonts:{heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},fontFamily:'"Montserrat", system-ui, sans-serif',sizes:{h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)",gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)",logo:{minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}}},cr=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]),Za=(e,o)=>{const[t,s]=(0,h.useState)(e);return(0,h.useEffect)(()=>{const d=setTimeout(()=>s(e),o);return()=>clearTimeout(d)},[e,o]),t},Ya=e=>btoa(encodeURIComponent(JSON.stringify(e))),Qa=e=>{try{return JSON.parse(decodeURIComponent(atob(e)))}catch{return null}},Ka=()=>{if(typeof window>"u")return null;const e=window.localStorage.getItem("jazer_global_brand_theme"),o=window.localStorage.getItem("jazer_global_brand_active");if(e&&o==="true")try{return Fe(JSON.parse(e))}catch{return null}const t=window.localStorage.getItem("jazer_brand_theme");if(t)try{return Fe(JSON.parse(t))}catch{return null}return null},Xa=(e,o)=>e.appearanceMode==="none"?{bg:e.bgColor||"transparent",text:e.textColor||"#000"}:{bg:e.backgroundMode==="transparent"?"transparent":o?"#0B0E12":e.bgColor||"#FFFFFF",text:o?e.darkTextColor||"#FFFFFF":e.lightTextColor||"#37352F"},Hr=class extends h.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,o){}render(){return this.state.hasError?(0,r.jsx)("div",{className:"flex items-center justify-center h-full bg-red-50 p-8 text-center rounded-xl",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"font-bold text-red-900 mb-2",children:"Widget Error"}),(0,r.jsx)("p",{className:"text-sm text-red-700 mb-4",children:this.state.error?.message||"Something went wrong"}),(0,r.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset Widget"})]})}):this.props.children}},Gr={none:{id:"none",label:"None / Custom",fontFamily:"ui-sans-serif, system-ui, sans-serif",headingFontFamily:"ui-sans-serif, system-ui, sans-serif",bgColor:"#ffffff",textColor:"#37352f",accentColor:"#e16259",fontLinks:"",cssVariables:"",extraCSS:""},jazer:{id:"jazer",label:"JaZeR Neon",fontFamily:'"Montserrat", system-ui, sans-serif',headingFontFamily:'"Orbitron", system-ui, sans-serif',bgColor:W.colors.nightBlack,textColor:W.colors.stardustWhite,accentColor:W.colors.electricPurple,logoPath:W.logo.paths.svg,logoGif:W.logo.paths.gif,faviconPath:W.logo.paths.favicon,fontLinks:`
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
    `,cssVariables:`:root {
      --jazer-electric-purple: ${W.colors.electricPurple};
      --jazer-cosmic-blue: ${W.colors.cosmicBlue};
      --jazer-neon-pink: ${W.colors.neonPink};
      --jazer-sunburst-gold: ${W.colors.sunburstGold};
      --jazer-aether-teal: ${W.colors.aetherTeal};
      --jazer-ultraviolet: ${W.colors.ultraviolet};
      --jazer-night-black: ${W.colors.nightBlack};
      --jazer-stardust-white: ${W.colors.stardustWhite};
      --jazer-graphite: ${W.colors.graphite};
      --jazer-soft-slate: ${W.colors.softSlate};
      
      --jazer-glow-blur: ${W.glowBlur};
      --jazer-glow-purple: ${W.glow};
    }`,extraCSS:`
    body {
      background-color: ${W.colors.nightBlack};
      color: ${W.colors.stardustWhite};
      font-family: ${W.fontFamily};
    }

    .neon-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      color: ${W.colors.stardustWhite}; 
      text-shadow: ${W.glow}; 
      letter-spacing: ${W.letterSpacing}; 
    }
    .neon-gradient-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      background: ${W.gradient}; 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      text-shadow: ${W.glow}; 
      letter-spacing: ${W.letterSpacing}; 
    }
    h1, h2, h3 { letter-spacing: ${W.letterSpacing}; font-family: "Orbitron", system-ui, sans-serif; } 
    h1 { font-size: ${W.sizes.h1}; }
    h2 { font-size: ${W.sizes.h2}; color: ${W.colors.electricPurple}; }
    h3 { font-size: ${W.sizes.h3}; color: ${W.colors.cosmicBlue}; } 
    
    button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${W.colors.cosmicBlue}; outline-offset: 2px; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: ${W.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb { background: ${W.colors.graphite}; border-radius: 5px; border: 1px solid ${W.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb:hover { background: ${W.colors.softSlate}; }
    
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes roulette { 
      0% { transform: translateY(-20px); opacity: 0; } 
      100% { transform: translateY(0); opacity: 1; } 
    }
    `}},Va=()=>(0,r.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg mb-4",children:[(0,r.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 mb-3",children:"JaZeR Brand Colors"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(W.colors).map(([e,o])=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded mb-1 border border-white/10",style:{backgroundColor:o},title:e}),(0,r.jsx)("div",{className:"text-[8px] text-white/50 truncate",children:e})]},e))})]}),$a=({onSelect:e,onClose:o})=>{const[t,s]=(0,h.useState)(""),d=Ja.filter(c=>c.includes(t));return(0,r.jsxs)("div",{className:"absolute z-50 bg-[#1A1D29] border border-gray-700 rounded-lg shadow-xl w-64 max-h-60 flex flex-col top-full left-0 mt-1",children:[(0,r.jsx)("div",{className:"p-2 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(nt,{size:12,className:"absolute left-2 top-2 text-gray-500"}),(0,r.jsx)("input",{autoFocus:!0,className:"w-full bg-[#0B0E12] pl-7 pr-2 py-1 text-xs text-white rounded border border-gray-700 outline-none focus:border-purple-500",placeholder:"Search...",value:t,onChange:c=>s(c.target.value)})]})}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 p-2 overflow-y-auto",children:d.map((c,a)=>(0,r.jsx)("button",{className:"text-lg hover:bg-gray-700 rounded p-1",onClick:()=>{e(c),o()},children:c},a))})]})},es=({value:e,onChange:o})=>{const[t,s]=(0,h.useState)(null),[d,c]=(0,h.useState)(null),a=(0,h.useRef)(null),m=(0,h.useRef)(0),n=(0,h.useMemo)(()=>[{value:"custom",label:"Custom"},...ir.map(k=>({value:k.config.behaviorType||k.id,label:k.label}))],[]),x=[{value:"solid",label:"Solid"},{value:"text",label:"Text Only"},{value:"icon",label:"Icon Only"},{value:"iconText",label:"Icon + Text"},{value:"capsule",label:"Capsule"},{value:"circular",label:"Circular"},{value:"orb",label:"Floating Orb"},{value:"outline",label:"Outline"},{value:"ghost",label:"Ghost"}];(0,h.useEffect)(()=>{const k=N=>{a.current&&!a.current.contains(N.target)&&c(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const l=(k,N)=>{const f=[...e];f[k]={...f[k],...N},o(f)},u={label:"New Button",url:"",icon:"‚ú®",hideIcon:!1,colorPreset:"grey",backgroundColor:"#9B9A97",backgroundOpacity:100,outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBackgroundColor:"#FFFFFF",hoverTextColor:"#9B9A97",enableHoverHighlight:!0,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:""},b=()=>(m.current+=1,`btn-${m.current}`),_=()=>{const k={id:b(),...u};o([...e,k]),s(e.length)},I=k=>{const N={id:b(),...u,...k.config};o([...e,N]),s(e.length)},v=(k,N)=>{N.stopPropagation();const f=[...e],E={...e[k],id:b()};f.splice(k+1,0,E),o(f)},y=(k,N)=>{N.stopPropagation(),o(e.filter((f,E)=>E!==k)),t===k&&s(null)},w=(k,N)=>{N.stopPropagation();const f=e[k];o(e.map(E=>({...E,colorPreset:f.colorPreset,backgroundColor:f.backgroundColor,backgroundOpacity:f.backgroundOpacity,outlineColor:f.outlineColor,textColor:f.textColor,hoverBackgroundColor:f.hoverBackgroundColor,hoverTextColor:f.hoverTextColor,enableHoverHighlight:f.enableHoverHighlight})))},j=(k,N)=>{const f=At[N];l(k,{colorPreset:N,backgroundColor:f.bg,outlineColor:f.outline,textColor:f.text,hoverBackgroundColor:"#FFFFFF",hoverTextColor:f.bg})};return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2",children:e.map((k,N)=>(0,r.jsxs)("div",{className:"bg-[#1A1D29] border border-gray-700 rounded-lg overflow-hidden transition-all hover:border-gray-600",children:[(0,r.jsxs)("div",{className:"p-2.5 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors",onClick:()=>s(t===N?null:N),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs border border-white/10",style:{backgroundColor:k.backgroundColor,color:k.textColor},children:k.icon||""}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-200 truncate max-w-[100px]",children:k.label})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>w(N,f),title:"Copy style to all",children:(0,r.jsx)(Xr,{size:12})}),(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>v(N,f),title:"Duplicate",children:(0,r.jsx)(Gt,{size:12})}),(0,r.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-900/30 rounded",onClick:f=>y(N,f),title:"Delete",children:(0,r.jsx)(fr,{size:12})}),(0,r.jsx)(_o,{size:12,style:{transform:t===N?"rotate(90deg)":"none",transition:"0.2s",color:"#718096"}})]})]}),t===N&&(0,r.jsxs)("div",{className:"p-3 bg-[#111318] border-t border-gray-800 flex flex-col gap-3 animate-in slide-in-from-top-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{style:{width:"50px",position:"relative"},ref:a,children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Icon"}),(0,r.jsx)("button",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs text-center hover:border-purple-500 transition-colors",onClick:()=>c(d===N?null:N),children:k.icon||"+"}),d===N&&(0,r.jsx)($a,{onSelect:f=>l(N,{icon:f}),onClose:()=>c(null)})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Label"}),(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500 transition-colors",value:k.label,onChange:f=>l(N,{label:f.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 flex justify-between",children:["URL ",(0,r.jsx)(Zr,{size:10,className:"opacity-50"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-blue-400 p-1.5 pl-6 rounded text-xs outline-none focus:border-purple-500",placeholder:"https://...",value:k.url,onChange:f=>l(N,{url:f.target.value})}),(0,r.jsx)(go,{size:10,className:"absolute left-2 top-2 text-gray-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Button Type"}),(0,r.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.behaviorType||"custom",onChange:f=>l(N,{behaviorType:f.target.value}),children:n.map(f=>(0,r.jsx)("option",{value:f.value,children:f.label},f.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Variant"}),(0,r.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.variant||"solid",onChange:f=>l(N,{variant:f.target.value}),children:x.map(f=>(0,r.jsx)("option",{value:f.value,children:f.label},f.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Tooltip"}),(0,r.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.tooltip||"",onChange:f=>l(N,{tooltip:f.target.value}),placeholder:"Describe the action..."})]}),k.behaviorType==="playlist"&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Playlist Items (one per line)"}),(0,r.jsx)("textarea",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",rows:3,value:k.playlistText||"",onChange:f=>l(N,{playlistText:f.target.value})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:k.hideIcon,onChange:f=>l(N,{hideIcon:f.target.checked})}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Hide Icon"})]}),(0,r.jsxs)("div",{className:"border-t border-gray-800 pt-2",children:[(0,r.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-2 block",children:"Quick Colors"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(At).map(f=>(0,r.jsx)("div",{className:`w-4 h-4 rounded-full cursor-pointer border border-white/10 transition-transform hover:scale-110 ${k.colorPreset===f?"ring-1 ring-white":""}`,style:{backgroundColor:At[f].bg},onClick:()=>j(N,f),title:f},f))})]}),(0,r.jsxs)("div",{className:"border-t border-gray-800 pt-2 space-y-2",children:[(0,r.jsxs)("label",{className:"text-[9px] uppercase font-bold text-purple-400 flex items-center gap-1",children:[(0,r.jsx)(Oe,{size:10})," Custom Styles"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Bg Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("input",{type:"color",value:k.backgroundColor,onChange:f=>l(N,{backgroundColor:f.target.value,colorPreset:null}),className:"w-5 h-5 rounded cursor-pointer bg-transparent p-0 border-none"}),(0,r.jsx)("span",{className:"text-[9px] font-mono text-gray-400",children:k.backgroundColor})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-[9px] text-gray-500 block mb-1",children:["Opacity ",k.backgroundOpacity,"%"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:k.backgroundOpacity,onChange:f=>l(N,{backgroundOpacity:Number(f.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Text Color"}),(0,r.jsx)("input",{type:"color",value:k.textColor,onChange:f=>l(N,{textColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Outline"}),(0,r.jsx)("input",{type:"color",value:k.outlineColor,onChange:f=>l(N,{outlineColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,r.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:k.enableHoverHighlight,onChange:f=>l(N,{enableHoverHighlight:f.target.checked})}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Enable Hover Highlight"})]}),k.enableHoverHighlight&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l border-purple-500/20",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Bg"}),(0,r.jsx)("input",{type:"color",value:k.hoverBackgroundColor,onChange:f=>l(N,{hoverBackgroundColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Text"}),(0,r.jsx)("input",{type:"color",value:k.hoverTextColor,onChange:f=>l(N,{hoverTextColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]})]})]})]},k.id))}),(0,r.jsxs)("div",{className:"p-3 bg-[#0F1115] border border-gray-800 rounded-lg space-y-2",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Quick Templates"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ir.map(k=>(0,r.jsxs)("button",{className:"p-2 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 hover:bg-purple-500/10 transition flex items-center gap-2 text-left",onClick:()=>I(k),children:[(0,r.jsx)("span",{className:"text-lg",children:k.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-white",children:k.label}),(0,r.jsx)("div",{className:"text-[10px] text-gray-400",children:k.description})]})]},k.id))})]}),(0,r.jsxs)("button",{onClick:_,className:"w-full py-2.5 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg text-xs font-bold text-purple-300 flex items-center justify-center gap-2 transition-all",children:[(0,r.jsx)(vr,{size:14})," Add Button"]})]})},ts=h.memo(({field:e,value:o,onChange:t})=>{if(e.locked)return(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 opacity-50",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"üîí Premium"})]});if(e.type==="boolean")return(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,r.jsx)("button",{onClick:()=>t(!o),className:`w-10 h-5 rounded-full p-1 transition-colors duration-300 ${o?"bg-purple-600":"bg-gray-700"}`,children:(0,r.jsx)("div",{className:`w-3 h-3 rounded-full bg-white shadow-md transform transition-transform duration-300 ${o?"translate-x-5":"translate-x-0"}`})})]});if(e.type==="select")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("select",{value:o||"",onChange:s=>t(s.target.value),className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500",style:{pointerEvents:"auto"},children:e.options.map(s=>(0,r.jsx)("option",{value:s.value,disabled:s.disabled,children:s.label},s.value))})]});if(e.type==="color")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"color",value:o||"#000000",onChange:s=>t(s.target.value),className:"w-8 h-8 rounded bg-transparent border-none cursor-pointer"}),(0,r.jsx)("input",{type:"text",value:o,onChange:s=>t(s.target.value),className:"flex-1 bg-gray-800 text-white text-xs p-2 rounded border border-gray-700"})]})]});if(e.type==="text"||e.type==="number"||e.type==="date"||e.type==="datetime-local")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("input",{type:e.type,value:o,onChange:s=>t(e.type==="number"?Number(s.target.value):s.target.value),min:e.min,max:e.max,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500 transition-colors"})]});if(e.type==="textarea")return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("textarea",{value:o||"",onChange:s=>t(s.target.value),rows:e.rows||4,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500"})]});if(e.type==="checkbox-list"){const s=d=>{const c=Array.isArray(o)?o:[];c.includes(d)?t(c.filter(a=>a!==d)):t([...c,d])};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1",children:e.options.map(d=>{const c=(o||[]).includes(d.value);return(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-1 rounded",onClick:()=>s(d.value),children:[(0,r.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,r.jsx)(Te,{size:10,className:"text-white"})}),(0,r.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}if(e.type==="bar-list"){const s=(c,a)=>{const m=[...o];a===-1&&c>0?[m[c],m[c-1]]=[m[c-1],m[c]]:a===1&&c<m.length-1&&([m[c],m[c+1]]=[m[c+1],m[c]]),t(m)},d=c=>{const a=[...o];a[c].enabled=!a[c].enabled,t(a)};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:o.map((c,a)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-gray-800 last:border-0 hover:bg-white/5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>d(a),className:`w-4 h-4 flex items-center justify-center rounded border ${c.enabled?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c.enabled&&(0,r.jsx)(Te,{size:12,className:"text-white"})}),(0,r.jsx)("span",{className:`text-xs ${c.enabled?"text-white":"text-gray-500"}`,children:c.label})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("button",{onClick:()=>s(a,-1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===0,children:(0,r.jsx)(no,{size:12})}),(0,r.jsx)("button",{onClick:()=>s(a,1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===o.length-1,children:(0,r.jsx)(wo,{size:12})})]})]},c.id))})]})}if(e.type==="button-manager")return(0,r.jsx)(es,{value:o||[],onChange:t});if(e.type==="multiselect"){const s=d=>{const c=Array.isArray(o)?o:[];if(c.includes(d))t(c.filter(a=>a!==d));else{if(e.maxItems&&c.length>=e.maxItems)return;t([...c,d])}};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),e.maxItems&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[(o||[]).length,"/",e.maxItems," selected"]})]}),e.helpText&&(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText}),(0,r.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1 max-h-64 overflow-y-auto",children:e.options.map(d=>{const c=(o||[]).includes(d.value),a=e.maxItems&&!c&&(o||[]).length>=e.maxItems;return(0,r.jsxs)("div",{className:`flex items-center gap-2 p-1 rounded ${a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-white/5"}`,onClick:()=>!a&&s(d.value),children:[(0,r.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,r.jsx)(Te,{size:10,className:"text-white"})}),(0,r.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}return null}),Pe={clock:{...ha,icon:(0,r.jsx)(hr,{className:"w-4 h-4"}),Component:va,generateHTML:wa,generateScript:Wr},weather:{...Wo,icon:(0,r.jsx)(wt,{className:"w-4 h-4"}),Component:zr,generateHTML:ma,generateScript:Dr},countdown:{...ka,icon:(0,r.jsx)(mr,{className:"w-4 h-4"}),Component:Ca,generateHTML:ja,generateScript:Rr},counter:{...No,icon:(0,r.jsx)(ur,{className:"w-4 h-4"}),Component:To,generateHTML:Fo,generateScript:Io},imageGallery:{...Bo,icon:(0,r.jsx)(pr,{className:"w-4 h-4"}),Component:Ao,generateHTML:Mo,generateScript:Lo},newButtonGenerator:{...La,icon:(0,r.jsx)(xr,{className:"w-4 h-4"}),Component:za,generateHTML:Ea,generateScript:Da},quotes:{...Eo,icon:(0,r.jsx)(yr,{className:"w-4 h-4"}),Component:Do,generateHTML:Po,generateScript:jr},simpleList:{id:"simpleList",label:"List",icon:(0,r.jsx)(Qr,{className:"w-4 h-4"}),defaultConfig:{title:"To Do",items:`Task 1
Task 2`,accentColor:W.colors.cosmicBlue,textColor:W.colors.graphite,bgColor:W.colors.stardustWhite},fields:[{name:"title",label:"Title",type:"text"},{name:"items",label:"Items",type:"textarea"},{name:"accentColor",label:"Accent",type:"color"}],Component:({config:e})=>{const o=(e.items||"").split(`
`).filter(Boolean);return(0,r.jsxs)("div",{className:"h-full w-full p-6 overflow-y-auto",style:{background:e.bgColor,color:e.textColor},children:[(0,r.jsx)("h3",{className:"font-bold mb-4 pb-2 border-b-2 text-lg",style:{borderColor:e.accentColor},children:e.title}),(0,r.jsx)("ul",{className:"space-y-2",children:o.map((t,s)=>(0,r.jsxs)("li",{className:"flex gap-2 items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 border rounded",style:{borderColor:e.accentColor}}),(0,r.jsx)("span",{children:t})]},s))})]})},generateHTML:e=>`
      <div style="padding:24px; height:100%; overflow-y:auto; background:${e.bgColor}; color:${e.textColor};">
        <h3 style="font-weight:bold; margin-bottom:16px; padding-bottom:8px; border-bottom:2px solid ${e.accentColor};">${cr(e.title)}</h3>
        <ul style="list-style:none; padding:0; margin:0;">
          ${(e.items||"").split(`
`).filter(Boolean).map(o=>`<li style="display:flex; gap:12px; margin-bottom:8px; cursor:pointer; align-items:center;" onclick="this.style.opacity = this.style.opacity === '0.5' ? '1' : '0.5'"><div style="width:16px; height:16px; border:2px solid ${e.accentColor}; border-radius:4px;"></div><span>${cr(o)}</span></li>`).join("")}
        </ul>
      </div>
    `,generateScript:()=>""},pomodoro:{id:"pomodoro",label:"Pomodoro",icon:(0,r.jsx)(vo,{className:"w-4 h-4"}),defaultConfig:{workTime:25,breakTime:5,accentColor:W.colors.neonPink,textColor:W.colors.graphite,bgColor:W.colors.stardustWhite},fields:[{name:"workTime",label:"Work",type:"number"},{name:"breakTime",label:"Break",type:"number"},{name:"accentColor",label:"Color",type:"color"}],Component:({config:e})=>{const o=Math.max(1,parseInt(e.workTime,10)||25),t=Math.max(1,parseInt(e.breakTime,10)||5),s=o*60,d=t*60,[c,a]=(0,h.useState)(s),[m,n]=(0,h.useState)(!1),[x,l]=(0,h.useState)(!0),u=(0,h.useRef)(x);(0,h.useEffect)(()=>{u.current=x},[x]),(0,h.useEffect)(()=>{n(!1),l(!0),u.current=!0,a(s)},[s,d]),(0,h.useEffect)(()=>{if(!m)return;const v=setInterval(()=>{a(y=>{if(y>1)return y-1;const w=!u.current;return u.current=w,l(w),w?s:d})},1e3);return()=>clearInterval(v)},[m,s,d]);const b=v=>`${Math.floor(v/60).toString().padStart(2,"0")}:${(v%60).toString().padStart(2,"0")}`,_=()=>{n(v=>!v)},I=()=>{n(!1),l(!0),u.current=!0,a(s)};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-center",style:{background:e.bgColor,color:e.textColor},children:[(0,r.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-widest",style:{color:e.accentColor},children:[x?"Work":"Break"," Session"]}),(0,r.jsx)("div",{className:"text-5xl font-bold tabular-nums",children:b(c)}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-semibold",style:{background:e.accentColor},onClick:_,children:m?"Pause":"Start"}),(0,r.jsx)("button",{className:"px-6 py-2 rounded-full border font-semibold",style:{borderColor:e.accentColor,color:e.accentColor},onClick:I,children:"Reset"})]})]})},generateHTML:e=>`
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:16px; text-align:center;">
        <div id="phase" style="font-size:14px; font-weight:600; text-transform:uppercase; letter-spacing:0.2em; color:${e.accentColor};">Work Session</div>
        <div id="timer" style="font-size:48px; font-weight:bold; margin-bottom:8px; font-family:'Courier New', monospace;">${String(e.workTime).padStart(2,"0")}:00</div>
        <div style="display:flex; gap:12px;">
          <button onclick="togglePomodoro()" id="btn" style="background:${e.accentColor}; color:white; border:none; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Start</button>
          <button onclick="resetPomodoro()" style="background:transparent; color:${e.accentColor}; border:2px solid ${e.accentColor}; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Reset</button>
        </div>
      </div>
    `,generateScript:e=>`
      (function() {
        const workMinutes = Math.max(1, parseInt(${JSON.stringify(e.workTime)}, 10) || 25);
        const breakMinutes = Math.max(1, parseInt(${JSON.stringify(e.breakTime)}, 10) || 5);
        const workSeconds = workMinutes * 60;
        const breakSeconds = breakMinutes * 60;
        let remaining = workSeconds;
        let isRunning = false;
        let isWorkPhase = true;
        let timerId = null;
        const timerEl = document.getElementById('timer');
        const phaseEl = document.getElementById('phase');
        const btn = document.getElementById('btn');

        function format(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return mins + ':' + secs;
        }

        function updateDisplay() {
          timerEl.textContent = format(remaining);
          phaseEl.textContent = (isWorkPhase ? 'Work' : 'Break') + ' Session';
        }

        function switchPhase() {
          isWorkPhase = !isWorkPhase;
          remaining = isWorkPhase ? workSeconds : breakSeconds;
          updateDisplay();
        }

        function tick() {
          if (remaining > 0) {
            remaining -= 1;
            updateDisplay();
          } else {
            switchPhase();
          }
        }

        window.togglePomodoro = function togglePomodoro() {
          isRunning = !isRunning;
          btn.textContent = isRunning ? 'Pause' : 'Start';
          if (isRunning) {
            timerId = setInterval(tick, 1000);
          } else if (timerId) {
            clearInterval(timerId);
            timerId = null;
  }
};

        window.resetPomodoro = function resetPomodoro() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
          isRunning = false;
          isWorkPhase = true;
          remaining = workSeconds;
          btn.textContent = 'Start';
          updateDisplay();
        };

        updateDisplay();
      })();
    `}},Ot={clock:"Time & Productivity",countdown:"Time & Productivity",pomodoro:"Time & Productivity",simpleList:"Time & Productivity",weather:"Data & Information",quotes:"Data & Information",counter:"Interactive",newButtonGenerator:"Interactive",imageGallery:"Media"},rs=({isOpen:e,onClose:o,widgetDef:t,config:s})=>{const d=(0,h.useMemo)(()=>{if(!e)return"";const m=Ya(s);return`${window.location.origin}${window.location.pathname}?embed=1&widget=${t.id}&config=${m}`},[e,s,t]);if(!e)return null;const c=()=>{navigator.clipboard.writeText(d),alert("Link copied! Paste into Notion using /embed")},a=()=>{const m=t.generateHTML?t.generateHTML(s):`<!-- ${t.label} Widget -->`,n=t.generateScript?t.generateScript(s):"",x=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t.label} Widget</title>
    <style>
      body { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; }
    </style>
</head>
<body>
    ${m}
    <script>${n}<\/script>
</body>
</html>`;navigator.clipboard.writeText(x),alert("HTML Code copied!")};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in",children:(0,r.jsxs)("div",{className:"bg-[#1A1D29] w-full max-w-2xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#0B0E12]",children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-xl font-mono flex items-center gap-2",children:[(0,r.jsx)(po,{className:"text-purple-500"})," GET WIDGET"]}),(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-white",children:(0,r.jsx)(lt,{})})]}),(0,r.jsxs)("div",{className:"p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-white",children:"Embed Link (Recommended)"}),(0,r.jsxs)("div",{className:"bg-[#0B0E12] p-4 rounded-xl border border-gray-800 flex gap-2 items-center",children:[(0,r.jsx)("input",{readOnly:!0,value:d,className:"bg-transparent w-full text-sm text-purple-300 outline-none font-mono truncate"}),(0,r.jsx)("button",{onClick:c,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-colors",children:"Copy Link"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["In Notion, type ",(0,r.jsx)("code",{className:"bg-gray-800 px-1 rounded",children:"/embed"})," and paste this URL. Requires this app to be hosted publicly."]})]}),(0,r.jsxs)("div",{className:"border-t border-white/5 pt-6 space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-white",children:"Standalone Code"}),(0,r.jsxs)("button",{onClick:a,className:"w-full bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(oo,{size:16})," Copy HTML Code"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Copy the full HTML code and save it as a .html file. Host it on GitHub Pages, Netlify, or Vercel."})]})]})]})})},os=({activeBrandId:e,config:o,activeWidgetId:t,debouncedConfig:s,handleConfigChange:d,brandTheme:c,ActiveWidget:a,showExport:m,setShowExport:n,onCustomizeRequest:x})=>{const[l,u]=(0,h.useState)(800),[b,_]=(0,h.useState)(450),[I,v]=(0,h.useState)(!1),y=(0,h.useRef)(null),w=c||s?.brandThemeSnapshot||o.brandThemeSnapshot,j=(0,h.useMemo)(()=>[{id:"phone",label:"Phone",width:360,height:640},{id:"tablet",label:"Tablet",width:820,height:640},{id:"desktop",label:"Desktop",width:1100,height:640}],[]),k=(f,E)=>{E.preventDefault(),v(f)},N=f=>{u(f.width),_(f.height)};return(0,h.useEffect)(()=>{const f=P=>{if(!I||!y.current)return;const Z=y.current.getBoundingClientRect();(I==="horizontal"||I==="both")&&u(Math.max(300,Math.min(1600,P.clientX-Z.left-40))),(I==="vertical"||I==="both")&&_(Math.max(200,Math.min(1e3,P.clientY-Z.top-40)))},E=()=>{v(!1)};return I&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",E)),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",E)}},[I]),(0,r.jsxs)("div",{ref:y,className:"flex-1 flex flex-col relative h-full",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",style:{background:e==="jazer"?`radial-gradient(circle at 50% 10%, ${W.ui.nebulaPurple} 0%, ${W.colors.nightBlack} 100%)`:"#f5f5f5",boxShadow:e==="jazer"?W.glow:"none"},children:(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl overflow-hidden relative group",style:{width:`${l}px`,height:`${b}px`,maxWidth:"100%",maxHeight:"min(80vh, 720px)",backgroundColor:o.bgColor,border:"2px solid var(--jazer-cosmic-blue)",boxShadow:"var(--jazer-glow-blue), 0 20px 40px rgba(0,0,0,0.4)",transition:I?"none":"all 0.2s ease"},children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 z-20 flex gap-2",children:j.map(f=>(0,r.jsx)("button",{type:"button",onClick:()=>N(f),className:`px-3 py-1 rounded-full text-[11px] uppercase tracking-[0.3em] border transition ${Math.round(l)===f.width&&Math.round(b)===f.height?"border-white text-white bg-white/20":"border-white/20 text-white/70 bg-black/30 hover:border-white/40 hover:text-white"}`,children:f.label},f.id))}),(0,r.jsx)(Hr,{children:(0,r.jsx)(a.Component,{config:s,onConfigChange:d,brand:W,brandTheme:w,onCustomizeRequest:x})},t),(0,r.jsx)("div",{onMouseDown:f=>k("horizontal",f),className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(90deg, transparent, var(--jazer-electric-purple))"},children:(0,r.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-12 rounded-l",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,r.jsx)("div",{onMouseDown:f=>k("vertical",f),className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(180deg, transparent, var(--jazer-electric-purple))"},children:(0,r.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-1 w-12 rounded-t",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,r.jsx)("div",{onMouseDown:f=>k("both",f),className:"absolute right-0 bottom-0 w-6 h-6 cursor-nwse-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"var(--jazer-electric-purple)",clipPath:"polygon(100% 0, 100% 100%, 0 100%)",boxShadow:"var(--jazer-glow-purple)"}}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-mono opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(139, 92, 246, 0.9)",color:"var(--jazer-stardust-white)",backdropFilter:"blur(10px)"},children:[l," √ó ",b]})]})}),(0,r.jsx)(rs,{isOpen:m,onClose:()=>n(!1),widgetDef:a,config:o})]})};function as({currentView:e,onNavigateHome:o,onNavigateBuilder:t,onNavigateBrand:s,selectedWidgetId:d,hasBrandTheme:c,brandLabel:a}){const m=[{id:"landing",label:"Widgets",action:o},{id:"builder",label:"Builder",action:t,disabled:!d},{id:"brand-generator",label:"Brand Kit",action:s}],[n,x]=(0,h.useState)(!1),l=(0,h.useRef)(null);return(0,h.useEffect)(()=>{if(!n)return;const u=b=>{l.current&&(l.current.contains(b.target)||x(!1))};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]),(0,r.jsx)("header",{className:"w-full border-b border-white/5 bg-[#0B0E12]/90 backdrop-blur-md sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex flex-col md:flex-row md:items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center font-black text-white",children:"NW"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-400",children:"JaZeR"}),(0,r.jsx)("p",{className:"text-base font-semibold text-white",children:"Notion Wiz Builder"})]})]}),(0,r.jsx)("div",{className:"flex-1 flex justify-end md:justify-center",children:(0,r.jsxs)("div",{className:"relative",ref:l,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>x(u=>!u),className:"flex items-center gap-2 px-4 py-2 text-xs font-semibold rounded-full border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition",children:[(0,r.jsx)(dr,{className:"w-4 h-4"}),"Navigate"]}),n&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 min-w-[200px] bg-[#0C0F16] border border-white/10 rounded-xl shadow-lg shadow-black/40 p-2 space-y-1",children:m.map(u=>{const b=e===u.id;return(0,r.jsx)("button",{type:"button",onClick:()=>{u.action(),x(!1)},disabled:u.disabled,className:`w-full px-3 py-2 rounded-lg text-left text-[12px] transition ${b?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-white/5 text-neutral-200 hover:border-purple-300 hover:text-white"} ${u.disabled?"opacity-40 cursor-not-allowed":""}`,children:u.label},u.id)})})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[(0,r.jsx)("span",{className:"uppercase tracking-widest text-neutral-500",children:"Brand"}),(0,r.jsx)("span",{className:`px-3 py-1 rounded-full border ${c?"border-emerald-400 text-emerald-200":"border-white/15 text-neutral-300"}`,children:c?a:"Default JaZeR Neon"})]})]})})}function ss({onSelect:e,onBrandGenerator:o}){const[t,s]=(0,h.useState)("all"),[d,c]=(0,h.useState)(""),a=(0,h.useMemo)(()=>Object.values(Pe).map(v=>({...v,category:Ot[v.id]||"Other"})),[]),m=(0,h.useMemo)(()=>["all",...Array.from(new Set(a.map(v=>v.category)))],[a]),n=["weather","clock","newButtonGenerator"],x=(0,h.useMemo)(()=>a.filter(v=>n.includes(v.id)),[a]),l=(0,h.useMemo)(()=>{const v=d.trim().toLowerCase();return a.filter(y=>{const w=t==="all"||y.category===t,j=!v||[y.label,y.description].filter(Boolean).some(k=>k.toLowerCase().includes(v));return w&&j})},[a,t,d]),u={weather:"Most Advanced",clock:"Fan Favorite",countdown:"New Animation",newButtonGenerator:"Workflow Booster",imageGallery:"Creator Ready",quotes:"API Connected",pomodoro:"Focus Mode"},b=[{label:"Widgets",value:"9",subLabel:"Final list"},{label:"Categories",value:"4",subLabel:"Time, Data, Media, Interactive"},{label:"API Integrations",value:"2",subLabel:"Weather + Quotes"},{label:"Brand Kits",value:"‚àû",subLabel:"Generator-powered"}],_=[{icon:(0,r.jsx)(Mt,{className:"w-5 h-5 text-purple-300"}),title:"Choose a widget",copy:"Clock, Weather, Buttons, and more with presets tuned to Notion."},{icon:(0,r.jsx)(Oe,{className:"w-5 h-5 text-cyan-300"}),title:"Apply your brand",copy:"Upload a logo once and sync its palette across every widget."},{icon:(0,r.jsx)(Ht,{className:"w-5 h-5 text-pink-300"}),title:"Export / embed",copy:"Copy the embed link or HTML snippet directly into Notion."}],I=[{quote:"‚ÄúThe builder finally feels as premium as the widgets themselves. I can move from idea to embedded widget in minutes.‚Äù",author:"Nara ¬∑ Product Ops"},{quote:"‚ÄúBrand kit syncing blew my mind‚Äîupload logo, click apply, every widget updates instantly.‚Äù",author:"Lewis ¬∑ Creator"},{quote:"‚ÄúFavorite part is the Button Generator. Macro + toggle modes mean I can run my workflows without leaving Notion.‚Äù",author:"Mika ¬∑ Studio Lead"}];return(0,r.jsx)("div",{className:"min-h-screen px-4 sm:px-6 lg:px-16 py-8 flex flex-col items-center",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:(0,r.jsxs)("div",{className:"w-full max-w-6xl space-y-14",children:[(0,r.jsxs)("section",{className:"space-y-6 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[(0,r.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"Final Widget List v1.2"}),(0,r.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"JaZeR Neon Ready"})]}),(0,r.jsx)("div",{className:"inline-flex items-center justify-center p-3 rounded-full animate-pulse-neon mx-auto",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",border:"1px solid var(--jazer-electric-purple)"},children:(0,r.jsx)(Me,{className:"w-8 h-8",style:{color:"var(--jazer-electric-purple)"}})}),(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-black tracking-tight gradient-text neon-text",style:{fontFamily:"Orbitron, sans-serif"},children:"Design-grade Notion Widgets"}),(0,r.jsx)("p",{className:"text-lg md:text-xl max-w-3xl mx-auto leading-relaxed",style:{color:"var(--jazer-soft-slate)"},children:"Shuttle nine premium widgets‚Äîclock, weather, pomodoro, button generator, and more‚Äîdirectly into Notion. Every control respects the JaZeR neon system, responsive layouts, and your custom brand kit."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap items-center justify-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>e("clock"),className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300 w-full sm:w-auto text-center",children:"Start Building"}),(0,r.jsxs)("button",{onClick:o,className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase border border-white/20 text-neutral-200 hover:border-cyan-400 hover:text-white transition flex items-center gap-2 justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300 w-full sm:w-auto",children:[(0,r.jsx)(Oe,{className:"w-4 h-4"})," Sync Brand Kit"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(v=>(0,r.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5",children:[(0,r.jsx)("div",{className:"text-3xl font-black",children:v.value}),(0,r.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-neutral-400 mt-1",children:v.label}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400 mt-1",children:v.subLabel})]},v.label))})]}),(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Spotlight"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Featured widgets"})]}),(0,r.jsxs)("button",{onClick:()=>e("weather"),className:"px-4 py-2 rounded-full border border-white/15 text-sm text-neutral-200 hover:border-purple-300 hover:text-white transition flex items-center gap-2 self-start sm:self-auto focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:["Explore builder ",(0,r.jsx)(Ut,{className:"w-4 h-4 rotate-180"})]})]}),(0,r.jsx)("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:overflow-visible",children:x.map(v=>(0,r.jsxs)("div",{className:"rounded-2xl p-6 border border-white/10 bg-gradient-to-br from-white/10 to-transparent backdrop-blur min-w-[260px] snap-center md:min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-white/10 text-purple-200",children:v.icon}),u[v.id]&&(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-[11px] uppercase tracking-widest bg-purple-500/20 border border-purple-400 text-purple-200",children:u[v.id]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:v.label}),(0,r.jsx)("p",{className:"text-sm text-neutral-300 mb-6",children:v.description||`Create a beautiful ${v.label.toLowerCase()} widget for your Notion pages.`}),(0,r.jsxs)("button",{onClick:()=>e(v.id),className:"w-full py-2 rounded-lg border border-white/15 text-sm font-semibold text-white hover:border-purple-400 transition",children:["Customize ",v.label]})]},v.id))})]}),(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,r.jsx)("div",{className:"flex gap-2 w-full overflow-x-auto pb-2 pr-4",style:{WebkitOverflowScrolling:"touch"},role:"tablist","aria-label":"Widget categories",children:m.map(v=>(0,r.jsx)("button",{type:"button",onClick:()=>s(v),className:`px-3 py-1.5 rounded-full text-[11px] uppercase tracking-widest border transition ${t===v?"border-purple-400 text-white bg-purple-500/20":"border-white/15 text-neutral-300 hover:border-purple-300 hover:text-white"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400`,"aria-pressed":t===v,role:"tab",children:v==="all"?"All widgets":v},v))}),(0,r.jsxs)("div",{className:"relative ml-auto",children:[(0,r.jsx)(nt,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text",value:d,onChange:v=>c(v.target.value),placeholder:"Search widgets...",className:"pl-9 pr-3 py-2 rounded-full bg-white/5 border border-white/10 text-sm text-white placeholder:text-neutral-500 focus:outline-none focus:border-purple-400"})]})]}),(0,r.jsx)("div",{className:"py-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(v=>(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center text-purple-200",children:v.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:v.label}),(0,r.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:v.category})]})]}),(0,r.jsx)("p",{className:"text-sm text-neutral-300 flex-1",children:v.description||`Create a ${v.label.toLowerCase()} widget.`}),(0,r.jsxs)("button",{onClick:()=>e(v.id),className:"mt-4 w-full py-2 rounded-lg bg-purple-500/20 border border-purple-400 text-sm font-semibold text-purple-50 hover:bg-purple-500/30 transition",children:["Build ",v.label]})]},v.id))})]}),(0,r.jsx)("section",{className:"p-1 rounded-2xl bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400",children:(0,r.jsxs)("div",{className:"rounded-2xl bg-[#0F111C] p-6 sm:p-8 flex flex-col lg:flex-row gap-8 items-start w-full",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-purple-500/20 border border-purple-300/40",children:(0,r.jsx)(Me,{className:"w-6 h-6 text-purple-200"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:"Generate once, sync everywhere"})]})]}),(0,r.jsx)("p",{className:"text-sm text-neutral-200 max-w-2xl",children:"Upload a logo, capture its palette, and notch it into every widget automatically. The generator writes to local storage so your theme loads every time you reopen the builder."}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-neutral-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Te,{className:"w-4 h-4 text-emerald-400"}),"8+ curated presets per brand"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Te,{className:"w-4 h-4 text-emerald-400"}),"Auto-applies to light + dark modes"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Te,{className:"w-4 h-4 text-emerald-400"}),"Palette chips ready for export"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Te,{className:"w-4 h-4 text-emerald-400"}),"One-click re-launch from builder"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 w-full lg:w-auto",children:[(0,r.jsx)("button",{onClick:o,className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase bg-white text-black hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white",children:"Launch Generator"}),(0,r.jsx)("button",{onClick:()=>e("newButtonGenerator"),className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase border border-white/20 text-white hover:border-cyan-300 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300",children:"Preview With Buttons"})]})]})}),(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Workflow"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"How builders ship faster"})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:_.map(v=>(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-5 space-y-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:v.icon}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:v.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-300",children:v.copy})]},v.title))})]}),(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Loved by teams"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Feedback from early builders"})]}),(0,r.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(v=>(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-transparent p-5",children:[(0,r.jsx)("p",{className:"text-sm text-neutral-200 leading-relaxed",children:v.quote}),(0,r.jsx)("p",{className:"mt-4 text-xs uppercase tracking-[0.3em] text-neutral-400",children:v.author})]},v.author))})]}),(0,r.jsx)("footer",{className:"text-center pt-8 text-sm text-neutral-500",children:(0,r.jsxs)("p",{children:["¬© ",new Date().getFullYear()," JaZeR. Built for the Notion Wiz community."]})})]})})}var qr=(e,o)=>{if(!o)return e;const t={...e};return t.brandThemeSnapshot={...o,appliedAt:o.appliedAt||new Date().toISOString()},o.backgroundColor&&(t.bgColor=o.backgroundColor,t.backgroundColor!==void 0&&(t.backgroundColor=o.backgroundColor)),o.textColor&&t.textColor!==void 0&&(t.textColor=o.textColor),o.accentColor&&t.accentColor!==void 0&&(t.accentColor=o.accentColor),t.lightMode&&(t.lightMode={...t.lightMode,backgroundColor:o.backgroundColor||t.lightMode.backgroundColor,clockColor:o.clockColor||t.lightMode.clockColor,digitColor:o.digitColor||o.clockColor||t.lightMode.digitColor,textColor:o.textColor||t.lightMode.textColor}),t.darkMode&&(t.darkMode={...t.darkMode,backgroundColor:o.backgroundColor||t.darkMode.backgroundColor,clockColor:o.clockColor||t.darkMode.clockColor,digitColor:o.digitColor||o.clockColor||t.darkMode.digitColor,textColor:o.textColor||t.darkMode.textColor}),o.glow!==void 0&&t.glowEffect!==void 0&&(t.glowEffect=o.glow),o.texture&&t.backgroundTexture!==void 0&&(t.backgroundTexture=o.texture),t},zt=(e,o,t)=>{if(o==="custom"&&t)return qr(e,t);if(o==="none"){const c={...e};return delete c.brandThemeSnapshot,c}const s=Gr[o];if(!s){const c={...e};return delete c.brandThemeSnapshot,c}const d={...e};return delete d.brandThemeSnapshot,s.fontFamily&&(d.fontFamily=s.fontFamily),s.bgColor&&(d.bgColor=s.bgColor),s.textColor&&(d.textColor=s.textColor),s.accentColor&&(d.accentColor=s.accentColor),o==="jazer"&&(d.glowEffect!==void 0&&(d.glowEffect=!0),d.gradientText!==void 0&&(d.gradientText=!0)),d};function ns({initialWidgetId:e,onBack:o,globalBrandTheme:t,onBrandThemeUpdate:s,onLaunchBrandGenerator:d}){const c=(0,h.useMemo)(()=>t?Fe(t):null,[t]),[a,m]=(0,h.useState)(e),[n,x]=(0,h.useState)(c?"custom":"none"),[l,u]=(0,h.useState)(()=>{const g=Pe[e].defaultConfig;return c?qr(g,c):g}),[b,_]=(0,h.useState)(c),[I,v]=(0,h.useState)({}),[y,w]=(0,h.useState)(""),j=(0,h.useRef)({}),k=(0,h.useRef)(null),N=(0,h.useRef)(null),f=(0,h.useRef)(null),[E,P]=(0,h.useState)(null),[Z,ce]=(0,h.useState)(!1),[Y,xe]=(0,h.useState)(rt),[ee,oe]=(0,h.useState)(!1),[Q,q]=(0,h.useState)(""),[pe,ye]=(0,h.useState)("all"),[Ce,We]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const g=window.localStorage.getItem("notion_wiz_pins");return g?JSON.parse(g):[]}catch{return[]}}),[D,R]=(0,h.useState)(!1),$=(0,h.useCallback)(()=>typeof window>"u"?!0:window.innerWidth>=1024,[]),[ge,Xe]=(0,h.useState)($),[He,Le]=(0,h.useState)($);(0,h.useEffect)(()=>{if(typeof window>"u")return;let g=$();const B=()=>{const F=$();F!==g&&(g=F,Xe(F),Le(F))};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[$]);const Ve=Za(l,Ga),me=b||c,mt=!!me,Ge=me?.presetName||me?.name||"Custom Brand Theme",C=Pe[a],z=(0,h.useMemo)(()=>C?.sections?C.sections.map(g=>{const B=C.fields.filter(F=>(F.section||"general")===g.id).length;return{...g,controlCount:B}}).filter(g=>g.controlCount>0):[],[C]);(0,h.useEffect)(()=>{const g=document.createElement("link");return g.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap",g.rel="stylesheet",document.head.appendChild(g),()=>document.head.removeChild(g)},[]),(0,h.useEffect)(()=>{j.current={}},[a]),(0,h.useEffect)(()=>{if(!ee)return;const g=B=>{f.current&&(f.current.contains(B.target)||oe(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[ee]),(0,h.useEffect)(()=>{if(!(typeof window>"u"))try{localStorage.setItem("notion_wiz_pins",JSON.stringify(Ce))}catch{}},[Ce]);const K=(0,h.useCallback)(g=>{v(B=>({...B,[g]:B[g]===!1}))},[]),le=(0,h.useCallback)(g=>I[g]!==!1,[I]),p=g=>{m(g),xe(rt);const B=Pe[g].defaultConfig;u(zt(B,n,me)),R(!1),q("")},S=g=>{const B=zt(Pe[a].defaultConfig,n,me);JSON.stringify(l)!==JSON.stringify(B)&&!window.confirm("Applying a brand kit will override your current customizations. Continue?")||(x(g),u(F=>zt(F,g,me)))},T=(g,B)=>B.split(".").reduce((F,G)=>F?.[G],g),M=(g,B,F)=>{const G=B.split("."),ae=G.pop(),J=G.reduce((ve,fe)=>(ve[fe]||(ve[fe]={}),ve[fe]),g);return J[ae]=F,g},L=(0,h.useCallback)((g,B)=>{if(g.includes(".")){u(F=>{const G={...F};return M(G,g,B),G});return}if(g==="lightMode"||g==="darkMode"){u(F=>({...F,[g]:{...F[g],...B}}));return}u(F=>{let G=B;if(typeof F[g]=="number"&&typeof B=="string"){const ae=parseInt(B,10);G=Number.isNaN(ae)?F[g]:ae}return{...F,[g]:G}})},[]),U=(0,h.useCallback)(g=>{w(g),g.trim()?xe(Number.MAX_SAFE_INTEGER):xe(rt)},[]),te=(0,h.useCallback)(g=>{const B=g?Fe(g):null;if(B){_(B),x("custom"),s?.(B);try{localStorage.setItem("jazer_global_brand_theme",JSON.stringify(B)),localStorage.setItem("jazer_global_brand_active","true")}catch{}return}_(null),x(F=>F==="custom"?"none":F),s?.(null);try{localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active")}catch{}},[s]),A=(0,h.useMemo)(()=>["all","pinned",...Array.from(new Set(Object.values(Ot)))],[]),be=(0,h.useMemo)(()=>{const g=Q.trim().toLowerCase(),B=F=>Ce.indexOf(F);return Object.values(Pe).map(F=>({...F,category:Ot[F.id]||"Other",isPinned:Ce.includes(F.id)})).filter(F=>g?[F.label,F.description].filter(Boolean).map(G=>String(G).toLowerCase()).some(G=>G.includes(g)):!0).filter(F=>pe==="all"?!0:pe==="pinned"?F.isPinned:F.category===pe).sort((F,G)=>{const ae=B(F.id),J=B(G.id);return ae!==J?ae===-1?1:J===-1?-1:ae-J:F.label.localeCompare(G.label)})},[Q,pe,Ce]),ne=(0,h.useCallback)(g=>{We(B=>B.includes(g)?B.filter(F=>F!==g):[...B,g])},[]),se=(0,h.useMemo)(()=>[{id:"brandControls",label:"Brand Kit"},{id:"appearanceControls",label:"Surface"},...z.map(g=>({id:g.id,label:g.label}))],[z]),{nodes:X,total:ie}=(0,h.useMemo)(()=>{if(!C)return{nodes:[],total:0};const g=y.trim().toLowerCase(),B=C.sections?C.sections.map(J=>J.id):[...new Set(C.fields.map(J=>J.section))].filter(Boolean),F=C.fields.filter(J=>!J.section);F.length>0&&!B.includes("general")&&B.unshift("general");const G=J=>g?[J.label,J.name,J.placeholder,J.section].filter(Boolean).map(ve=>String(ve).toLowerCase()).some(ve=>ve.includes(g)):!0,ae=B.map(J=>{const ve=J==="general"?F:C.fields.filter(ue=>ue.section===J);if(ve.length===0)return null;let fe=J,we=null;C.sections?(we=C.sections.find(ue=>ue.id===J),fe=we?we.label:J):fe={time:"Time Display",style:"Clock Style",analog:"Analog Customization",typography:"Typography",background:"Background",interactive:"Interactive Mode",theme:"Preset Themes",appearance:"Appearance Mode",features:"Additional Features",effects:"Visual Effects",event:"Event Setup",units:"Time Units",completion:"Completion",general:"General Settings"}[J]||J;const Be=fe.toLowerCase(),ht=g&&we?.description?.toLowerCase().includes(g),Ae=g&&we?.notes?.some(ue=>[ue.title,ue.body].filter(Boolean).some(xt=>xt.toLowerCase().includes(g))),Re=g&&(Be.includes(g)||ht||Ae)?ve:ve.filter(G);if(Re.length===0)return null;const $e=g?!0:le(J);return(0,r.jsxs)("div",{ref:ue=>{ue&&(j.current[J]=ue)},className:`border border-white/10 rounded-lg bg-white/5 overflow-hidden ${E===J?"ring-2 ring-purple-400":""}`,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>K(J),className:"w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold text-white",children:[(0,r.jsxs)("div",{className:"flex flex-col text-left",children:[(0,r.jsx)("span",{children:fe}),we?.description&&(0,r.jsx)("span",{className:"text-[11px] font-normal text-neutral-400",children:we.description})]}),(0,r.jsx)(br,{className:"w-4 h-4 transition-transform",style:{transform:$e?"rotate(180deg)":"rotate(0deg)"}})]}),$e&&(0,r.jsxs)("div",{className:"p-3 space-y-3 border-t border-white/5",children:[we?.notes?.length>0&&(0,r.jsx)("div",{className:"space-y-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2",children:we.notes.map(ue=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-white",children:ue.title}),ue.body&&(0,r.jsx)("p",{children:ue.body})]},`${J}-${ue.title}`))}),Re.map(ue=>{let xt=ue;if(ue.name==="presetTheme"&&b&&a==="clock"){const Tt=[{label:"--- Brand-Based Themes ---",value:"__separator__",disabled:!0},{label:"Brand Monochrome",value:"brand-monochrome"},{label:"Brand Contrast",value:"brand-contrast"},{label:"Brand Vibrant",value:"brand-vibrant"},{label:"Brand Professional",value:"brand-professional"},{label:"Brand Dark",value:"brand-dark"},{label:"Brand Light",value:"brand-light"},{label:"Brand Neon",value:"brand-neon"},{label:"Brand Minimal",value:"brand-minimal"}];xt={...ue,options:[...ue.options,...Tt]}}return(0,r.jsx)(ts,{field:xt,value:ue.name.includes(".")?T(l,ue.name):l[ue.name],onChange:Tt=>L(ue.name,Tt)},ue.name)})]})]},J)}).filter(Boolean);return ae.length===0?{nodes:[(0,r.jsx)("div",{className:"text-xs text-neutral-400 italic",children:g?`No settings match "${y}".`:"No configurable settings available."},"empty")],total:0}:{nodes:g?ae:ae.slice(0,Y),total:ae.length}},[C,a,b,l,y,L,E,le,K,Y]),H=!y.trim()&&ie>Y;(0,h.useEffect)(()=>{if(y.trim()||Y>=ie)return;const g=typeof window<"u"?window.requestAnimationFrame:null,B=()=>{const F=k.current;F&&F.scrollHeight<=F.clientHeight+40&&xe(G=>Math.min(G+rt,ie))};if(g)return g(B),()=>{};B()},[y,ie,Y]),(0,h.useEffect)(()=>{if(!H)return;const g=N.current;if(!g)return;const B=k.current||null,F=new IntersectionObserver(G=>{G[0].isIntersecting&&xe(ae=>Math.min(ae+rt,ie))},{root:B,threshold:.25});return F.observe(g),()=>F.disconnect()},[H,ie]);const je=(0,h.useCallback)(g=>!g||!j.current[g]?!1:(j.current[g].scrollIntoView({behavior:"smooth",block:"center"}),v(B=>({...B,[g]:!0})),P(g),setTimeout(()=>{P(B=>B===g?null:B)},1500),!0),[]),de=(0,h.useCallback)(g=>{!je(g)&&g?(xe(Number.MAX_SAFE_INTEGER),typeof window<"u"&&window.requestAnimationFrame(()=>{setTimeout(()=>je(g),80)})):!g&&k.current&&k.current.scrollIntoView({behavior:"smooth",block:"start"}),ce(!0),setTimeout(()=>ce(!1),1200)},[je]);return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row font-sans",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:[!ge&&He&&(0,r.jsx)("button",{type:"button",className:"fixed inset-0 bg-black/60 z-30 lg:hidden","aria-label":"Close widget list overlay",onClick:()=>Le(!1)}),(0,r.jsxs)("div",{className:`${ge?"relative w-full lg:w-72":"fixed inset-y-0 left-0 w-72 max-w-[85vw] transform transition-transform duration-300 z-40"} flex flex-col h-full min-h-0`,style:{backgroundColor:"var(--jazer-graphite)",borderRight:"1px solid var(--jazer-soft-slate)",transform:ge||He?"translateX(0)":"translateX(-100%)"},children:[(0,r.jsxs)("div",{className:"p-4 space-y-3",style:{borderBottom:"1px solid var(--jazer-soft-slate)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-500",children:"Builder"}),(0,r.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2 gradient-text neon-text",children:[(0,r.jsx)(Mt,{className:"w-5 h-5",style:{color:"var(--jazer-electric-purple)"}})," ",C?.label||"Widget"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!ge&&(0,r.jsx)("button",{type:"button","aria-label":"Close widget list",onClick:()=>Le(!1),className:"p-1 rounded-full border border-white/15 text-neutral-200 hover:border-purple-400 hover:text-white transition",children:(0,r.jsx)(lt,{className:"w-3 h-3"})}),(0,r.jsxs)("button",{"aria-label":"Navigate back to home",onClick:o,className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-neutral-300 hover:border-purple-400 hover:text-white transition-colors",children:[(0,r.jsx)(Ut,{className:"w-3 h-3"})," Exit"]})]})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:"Choose a widget to edit. Use search or pin your frequent favorites for faster access."})]}),(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-white/5 space-y-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(nt,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text",value:Q,onChange:g=>q(g.target.value),placeholder:"Search widgets...",className:"w-full bg-white/5 border border-white/10 rounded-full py-2 pl-9 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-[10px] uppercase tracking-widest text-neutral-500",children:[(0,r.jsxs)("span",{children:[be.length," results"]}),(0,r.jsx)("span",{className:"text-neutral-400",children:"Pin favorites for quick access"})]})]}),(0,r.jsx)("div",{className:"px-4 py-2 border-b border-white/5 flex flex-wrap gap-2",children:A.map(g=>{const B=g==="all"?"All Widgets":g==="pinned"?"Pinned":g,F=pe===g,G=g==="pinned"&&Ce.length===0;return(0,r.jsx)("button",{type:"button",disabled:G,onClick:()=>ye(g),className:`text-[10px] px-3 py-1.5 rounded-full border transition ${F?"border-purple-400 text-white bg-purple-500/20":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"} ${G?"opacity-30 cursor-not-allowed":""} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400`,"aria-pressed":F,children:B},g)})}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2",children:be.length===0?(0,r.jsx)("div",{className:"text-xs text-neutral-400 bg-white/5 border border-white/10 rounded-xl p-4",children:"No widgets match your search. Try a different phrase or reset filters."}):be.map(g=>{const B=g.description||`Customize the ${g.label} widget.`,F=a===g.id;return(0,r.jsxs)("div",{className:`border rounded-xl p-3 flex items-start gap-3 transition ${F?"border-purple-400 bg-purple-500/15 shadow-lg shadow-purple-900/30":"border-white/10 bg-white/5 hover:border-purple-300/70"}`,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>p(g.id),className:"flex-1 text-left flex items-start gap-3",children:[(0,r.jsx)("div",{className:`pt-1 px-2 py-1 rounded-lg text-sm ${F?"text-purple-300":"text-neutral-300"}`,children:g.icon}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-white",children:g.label}),F&&(0,r.jsx)("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded-full bg-purple-500/20 border border-purple-400 text-purple-200",children:"Active"})]}),(0,r.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:B}),(0,r.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-neutral-500",children:g.category})]})]}),(0,r.jsx)("button",{type:"button","aria-label":g.isPinned?"Unpin widget":"Pin widget",onClick:G=>{G.stopPropagation(),ne(g.id)},className:`p-1.5 rounded-full border ${g.isPinned?"border-amber-300 text-amber-200 bg-amber-500/10":"border-white/10 text-neutral-400 hover:border-amber-200 hover:text-amber-200"}`,children:(0,r.jsx)(io,{className:"w-3.5 h-3.5",fill:g.isPinned?"#FCD34D":"none"})})]},g.id)})})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,r.jsxs)("div",{className:"border-b border-white/10 bg-[#10121A] px-4 py-4 sm:px-6 sm:py-6 space-y-4",children:[!ge&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>Le(!0),className:"px-3 py-1.5 rounded-full border border-white/15 text-xs uppercase tracking-[0.3em] flex items-center gap-2 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:[(0,r.jsx)(Mt,{className:"w-3 h-3"})," Widgets"]}),(0,r.jsx)("span",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-500",children:"Preview"})]}),(0,r.jsx)(os,{activeBrandId:n,config:l,activeWidgetId:a,debouncedConfig:Ve,handleConfigChange:L,brandTheme:b,ActiveWidget:C,showExport:D,setShowExport:R,onCustomizeRequest:de})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col border-t border-white/5 bg-[#0F1115] min-h-0",children:[(0,r.jsxs)("div",{className:"lg:sticky lg:top-0 z-10 border-b border-white/10 bg-[#0A0C12]/95 backdrop-blur-md px-4 py-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("div",{className:"text-xs font-bold uppercase tracking-[0.4em] text-neutral-500",children:"Configure"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,r.jsxs)("div",{className:"relative",ref:f,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>oe(g=>!g),className:"flex items-center gap-2 px-3 py-1.5 text-[11px] rounded-full border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition","aria-expanded":ee,children:[(0,r.jsx)(dr,{className:"w-4 h-4"}),"Sections"]}),ee&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-60 bg-[#0C0F16] border border-white/10 rounded-xl shadow-lg shadow-black/40 p-2 space-y-1 max-h-72 overflow-y-auto custom-scrollbar",children:se.map(g=>{const B=E===g.id||g.id==="brandControls"&&!E;return(0,r.jsxs)("button",{type:"button",onClick:()=>{de(g.id),oe(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left text-[12px] transition ${B?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-white/5 text-neutral-200 hover:border-purple-300 hover:text-white"}`,children:[(0,r.jsx)("span",{children:g.label}),B&&(0,r.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-purple-200",children:"Active"})]},g.id)})})]}),(0,r.jsxs)("button",{"aria-label":"Get export code",onClick:()=>R(!0),className:"text-[11px] px-3 py-1.5 rounded-full border border-pink-400/60 text-white bg-pink-500/20 hover:bg-pink-500/30 transition flex items-center gap-1",children:[(0,r.jsx)(Ht,{className:"w-3 h-3"})," Export"]})]})]}),(0,r.jsxs)("div",{ref:k,className:"flex-1 overflow-y-auto px-4 sm:px-6 py-6 space-y-8 transition-all",style:{outline:Z?"2px solid var(--jazer-electric-purple)":"none",outlineOffset:Z?"2px":"0",overscrollBehavior:"contain",paddingBottom:ge?void 0:"8rem"},children:[(0,r.jsxs)("section",{ref:g=>{g&&(j.current.brandControls=g)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,r.jsx)("h3",{className:"text-base font-semibold text-white",children:"Global Palette"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{"aria-label":"Select brand kit",value:n,onChange:g=>S(g.target.value),className:"bg-[#0B0E12] border border-white/10 rounded-full text-xs text-white px-3 py-1.5",children:[(0,r.jsx)("option",{value:"none",children:"None"}),(0,r.jsx)("option",{value:"jazer",children:"JaZeR Neon"}),mt&&(0,r.jsx)("option",{value:"custom",children:Ge})]}),d&&(0,r.jsx)("button",{type:"button",onClick:d,className:"text-[11px] px-3 py-1.5 rounded-full border border-cyan-400/60 text-cyan-100 hover:border-cyan-200 transition",children:"Launch Generator"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[n==="jazer"&&(0,r.jsxs)("div",{className:"p-3 bg-purple-500/10 border border-purple-400/40 rounded-xl text-xs text-purple-100 space-y-1",children:[(0,r.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,r.jsx)(Me,{className:"w-3 h-3"})," Official JaZeR Kit"]}),(0,r.jsx)("p",{className:"text-purple-200/80",children:"Orbitron & Montserrat fonts, neon gradient accents, and night-mode canvas."})]}),n==="custom"&&me&&(0,r.jsxs)("div",{className:"p-3 bg-cyan-500/10 border border-cyan-400/40 rounded-xl text-xs text-cyan-100 space-y-2",children:[(0,r.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,r.jsx)(Me,{className:"w-3 h-3"})," ",Ge]}),(0,r.jsx)("p",{className:"text-cyan-100/80",children:"Widgets are synced with your logo palette."}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Background",color:me.backgroundColor||me.background},{label:"Primary",color:me.clockColor||me.primary},{label:"Digits",color:me.digitColor||me.secondary},{label:"Text",color:me.textColor||me.text}].map(({label:g,color:B})=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"h-10 rounded border border-white/20",style:{backgroundColor:B||"#0B0E12"}}),(0,r.jsx)("div",{className:"mt-1 text-[9px] uppercase text-neutral-400",children:g}),(0,r.jsx)("div",{className:"text-[9px] font-mono text-neutral-300",children:B||"--"})]},g))})]})]}),n==="custom"&&me?.palette?.length>0&&(0,r.jsxs)("div",{className:"bg-[#0B0E12] border border-white/10 rounded-xl p-3",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase text-neutral-500 mb-2",children:"Palette Swatches"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:me.palette.map((g,B)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-full h-10 rounded border border-white/10",style:{backgroundColor:g}}),(0,r.jsx)("div",{className:"text-[8px] text-neutral-400 truncate mt-1",children:g})]},`${g}-${B}`))})]}),n==="jazer"&&(0,r.jsx)(Va,{})]})]}),(0,r.jsxs)("section",{ref:g=>{g&&(j.current.appearanceControls=g)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Surface"}),(0,r.jsx)("h3",{className:"text-base font-semibold text-white",children:"Canvas & Appearance"})]}),l.fontSize!==void 0&&(0,r.jsxs)("div",{className:"text-[11px] text-neutral-400",children:[l.fontSize,"px"]})]}),l.fontSize!==void 0&&(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("div",{className:"flex justify-between",children:(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-400",children:"Font Size"})}),(0,r.jsx)("input",{"aria-label":"Font size slider",type:"range",min:qa,max:Ua,value:l.fontSize,onChange:g=>L("fontSize",parseInt(g.target.value)),className:"w-full h-2 bg-neutral-800 rounded-full appearance-none cursor-pointer accent-purple-500"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Background"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,r.jsx)("input",{"aria-label":"Background color",type:"color",value:l.bgColor,onChange:g=>L("bgColor",g.target.value),className:"w-8 h-8 rounded border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.bgColor})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Text"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,r.jsx)("input",{"aria-label":"Text color",type:"color",value:l.textColor||"#000000",onChange:g=>L("textColor",g.target.value),className:"w-8 h-8 rounded border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.textColor})]})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(nt,{className:"w-3 h-3"})," Quick Find"]}),y&&(0,r.jsx)("button",{type:"button",onClick:()=>U(""),className:"text-[10px] text-neutral-300 hover:text-white transition-colors",children:"Clear"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(nt,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text",value:y,onChange:g=>U(g.target.value),placeholder:"Search labels, sections, or controls...",className:"w-full bg-white/5 border border-white/10 rounded-full py-2.5 pl-10 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0"})]}),z.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:z.map(g=>(0,r.jsxs)("button",{type:"button",onClick:()=>de(g.id),className:`px-3 py-1.5 rounded-full border text-[11px] ${E===g.id?"border-purple-400 text-white bg-purple-500/20":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"}`,children:[g.label," ¬∑ ",g.controlCount]},g.id))})]}),(0,r.jsx)(Or,{onColorsExtracted:g=>{if(!g){te(null),u(Ae=>{if(!Ae.brandThemeSnapshot)return Ae;const Re={...Ae};return delete Re.brandThemeSnapshot,Re});return}const B=Fe(g,{appliedAt:new Date().toISOString()});if(!B)return;te(B);const F={...l,brandThemeSnapshot:B},G=B.backgroundColor||B.background,ae=B.textColor||B.text,J=B.text||B.textColor||"#0B0E12",ve=B.background||B.backgroundColor||"#F8F9FF",fe=B.clockColor||B.primary||B.primaryColor,we=B.digitColor||B.secondary||B.secondaryColor||fe,Be=B.accentColor||B.accent||fe,ht=Array.isArray(B.palette)?B.palette:[];if(a==="clock"?(F.lightMode={...F.lightMode,textColor:ae,panelColor:G,digitColor:fe,clockColor:fe,backgroundColor:G},F.darkMode={...F.darkMode,textColor:ve,panelColor:J,digitColor:we,clockColor:Be,backgroundColor:J},F.bgColor=G):a==="countdown"?(F.lightMode={...F.lightMode,textColor:ae,panelColor:G,digitColor:fe,backgroundColor:G},F.darkMode={...F.darkMode,textColor:ve,panelColor:J,digitColor:we,backgroundColor:J},F.bgColor=G):a==="quotes"&&(F.lightMode={...F.lightMode,textColor:ae,authorColor:we,backgroundColor:G},F.darkMode={...F.darkMode,textColor:ve,authorColor:Be,backgroundColor:J},F.bgColor=G),a==="counter")F.lightTextColor=ae,F.darkTextColor=J,F.bgColor=G;else if(a==="weather")F.bgColor=G,F.textColor=ae,F.accentColor=Be;else if(a==="imageGallery")F.bgColor=G;else if(a==="newButtonGenerator"){const Ae=ht.length>0?ht:[fe,Be,ae].filter(Boolean);F.buttons&&Array.isArray(F.buttons)&&(F.buttons=F.buttons.map((Re,$e)=>({...Re,backgroundColor:Ae[$e%Ae.length]||fe,textColor:ae,outlineColor:Be,hoverBackgroundColor:G,hoverTextColor:Ae[$e%Ae.length]||fe}))),F.bgColor=G}else a==="simpleList"||a==="pomodoro"?(F.bgColor=G,F.textColor=ae,F.accentColor=Be):(F.bgColor=G,F.textColor=ae,F.accentColor!==void 0&&(F.accentColor=Be));u(F)}}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,r.jsx)(fo,{className:"w-3 h-3"})," Widget Controls"]}),X,H&&(0,r.jsx)("div",{ref:N,className:"py-4 text-center text-[11px] text-neutral-400",children:"Keep scrolling to load more controls..."})]}),(0,r.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,r.jsx)(Oe,{className:"w-3 h-3"})," Light Mode Colors"]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.lightMode?.textColor||W.colors.graphite,onChange:g=>L("lightMode",{textColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.lightMode?.textColor||W.colors.graphite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.lightMode?.panelColor||W.colors.stardustWhite,onChange:g=>L("lightMode",{panelColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.lightMode?.panelColor||W.colors.stardustWhite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.lightMode?.digitColor||W.colors.nightBlack,onChange:g=>L("lightMode",{digitColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.lightMode?.digitColor||W.colors.nightBlack})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,r.jsx)(Oe,{className:"w-3 h-3"})," Dark Mode Colors"]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.darkMode?.textColor||W.colors.stardustWhite,onChange:g=>L("darkMode",{textColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.darkMode?.textColor||W.colors.stardustWhite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.darkMode?.panelColor||W.colors.graphite,onChange:g=>L("darkMode",{panelColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.darkMode?.panelColor||W.colors.graphite})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,r.jsx)("input",{type:"color",value:l.darkMode?.digitColor||W.colors.stardustWhite,onChange:g=>L("darkMode",{digitColor:g.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,r.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:l.darkMode?.digitColor||W.colors.stardustWhite})]})]})]}),(0,r.jsx)("hr",{className:"border-neutral-100"}),a==="clock"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-neutral-100 my-4"}),(0,r.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["üí° ",(0,r.jsx)("strong",{children:"Advanced Clock Features:"})," Full light/dark mode support, 7+ clock styles, and custom fonts available in the full version."]})]})]}),!ge&&(0,r.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 z-30 flex items-center gap-3 bg-[#0A0C12]/95 border border-white/10 rounded-full px-4 py-2 shadow-lg shadow-black/40 backdrop-blur",children:[(0,r.jsx)("button",{type:"button",onClick:()=>oe(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:"Sections"}),(0,r.jsx)("button",{type:"button",onClick:()=>R(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-pink-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300",children:"Export"})]})]})]})]})}function ls(){const e=(0,h.useMemo)(()=>new URLSearchParams(window.location.search),[]),o=e.get("embed")==="1",t=e.get("widget"),s=e.get("config"),[d,c]=(0,h.useState)("landing"),[a,m]=(0,h.useState)("clock"),[n,x]=(0,h.useState)(()=>Ka()),[l,u]=(0,h.useState)("landing"),b=k=>{m(k),c("builder")},_=()=>{u(d),c("brand-generator")},I=()=>{c("landing")},v=(0,h.useCallback)(()=>{c(l||"landing")},[l]),y=k=>{x(k?Fe(k):null)};if(o&&t&&Pe[t]){const k=Pe[t];let N=k.defaultConfig||{};s&&(N=Qa(s)||N);const f=Xa(N,!1),E=k.Component;return(0,r.jsx)("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:f.bg,color:f.text,fontFamily:"sans-serif",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)(E,{config:N,brandTheme:N.brandThemeSnapshot})})})}const w=n?.presetName||n?.name||"Custom Brand Theme",j=n?`${n.presetName||n.name||"custom"}-${n.appliedAt||n.backgroundColor||"base"}`:"none";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap');
        ${Gr.jazer.extraCSS}
      `}),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,r.jsx)(as,{currentView:d,onNavigateHome:I,onNavigateBuilder:()=>b(a||"clock"),onNavigateBrand:_,selectedWidgetId:a,hasBrandTheme:!!n,brandLabel:w}),(0,r.jsx)("div",{className:"flex-1 w-full",children:d==="landing"?(0,r.jsx)(ss,{onSelect:b,onBrandGenerator:_}):d==="brand-generator"?(0,r.jsx)(Hr,{children:(0,r.jsx)(Ha,{onBack:v,onThemeGenerated:y})}):(0,r.jsx)(ns,{initialWidgetId:a,onBack:I,globalBrandTheme:n,onBrandThemeUpdate:y,onLaunchBrandGenerator:_},j)})]})]})}var is=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches;const cs=({children:e})=>{const[o,t]=(0,h.useState)(O),[s,d]=(0,h.useState)(()=>is()),[c,a]=(0,h.useState)("jazer-neon");(0,h.useEffect)(()=>{if(typeof window<"u"){const b=window.matchMedia("(prefers-color-scheme: dark)"),_=I=>d(I.matches);return b.addEventListener("change",_),()=>b.removeEventListener("change",_)}},[]);const m=(0,h.useCallback)((b,_="custom")=>{t(b),a(_)},[]),n=(0,h.useCallback)(()=>{t(O),a("jazer-neon")},[]),x=(0,h.useCallback)((b,_=O.colors.stardustWhite)=>o?.colors?.[b]||_,[o]),l=(0,h.useMemo)(()=>({...o,isDark:s,activeBrandId:c,isJazerNeon:c==="jazer-neon"}),[o,s,c]),u=(0,h.useMemo)(()=>({theme:l,setTheme:m,resetToJazerNeon:n,getColor:x,activeBrandId:c,baseTheme:O}),[l,m,n,x,c]);return(0,r.jsx)(Cr.Provider,{value:u,children:e})};(0,Co.createRoot)(document.getElementById("root")).render((0,r.jsx)(h.StrictMode,{children:(0,r.jsx)(cs,{children:(0,r.jsx)(ls,{})})}));
