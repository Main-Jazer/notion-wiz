import{a as vr,i as ut,n as tt,r as eo,t as je}from"./rolldown-runtime-Dq6TatWD.js";import{$ as ft,A as to,B as ro,C as wr,D as oo,E as ao,F as er,G as so,H as Se,I as kr,J as Ve,K as Zt,L as _r,M as no,N as Wt,O as lo,P as Yt,Q as io,R as yt,S as Qt,T as co,U as Kt,V as uo,W as po,X as mo,Y as Ct,Z as tr,_ as Cr,a as At,at as ho,b as _t,c as Qe,ct as Fe,d as rr,dt as xo,et as go,f as bo,ft as Xt,g as fo,h as ct,ht as yo,i as vo,it as wo,j as ko,k as _o,l as or,lt as Co,m as jo,mt as No,n as Ge,nt as jr,o as Nr,ot as $t,p as Me,pt as So,q as To,r as Ae,rt as Fo,s as Io,st as Sr,t as Bo,tt as jt,u as Ke,ut as Ao,v as Tr,w as ar,x as Je,y as Fr,z as nt}from"./vendor-BVNhKbvY.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const l of d)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(d){const l={};return d.integrity&&(l.integrity=d.integrity),d.referrerPolicy&&(l.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?l.credentials="include":d.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(d){if(d.ep)return;d.ep=!0;const l=r(d);fetch(d.href,l)}})();var Mo=No(),h=vr(yo(),1),vt=function(e,o){return e<o?-1:e>o?1:0},sr=function(e){return e.reduce(function(o,r){return o+r},0)},zo=(function(){function e(r){this.colors=r}var o=e.prototype;return o.palette=function(){return this.colors},o.map=function(r){return r},e})(),Lo=(function(){function e(l,a,m){return(l<<10)+(a<<5)+m}function o(l){var a=[],m=!1;function n(){a.sort(l),m=!0}return{push:function(g){a.push(g),m=!1},peek:function(g){return m||n(),g===void 0&&(g=a.length-1),a[g]},pop:function(){return m||n(),a.pop()},size:function(){return a.length},map:function(g){return a.map(g)},debug:function(){return m||n(),a}}}function r(l,a,m,n,g,c,u){var b=this;b.r1=l,b.r2=a,b.g1=m,b.g2=n,b.b1=g,b.b2=c,b.histo=u}function s(){this.vboxes=new o(function(l,a){return vt(l.vbox.count()*l.vbox.volume(),a.vbox.count()*a.vbox.volume())})}function d(l,a){if(a.count()){var m=a.r2-a.r1+1,n=a.g2-a.g1+1,g=Math.max.apply(null,[m,n,a.b2-a.b1+1]);if(a.count()==1)return[a.copy()];var c,u,b,k,T=0,C=[],y=[];if(g==m)for(c=a.r1;c<=a.r2;c++){for(k=0,u=a.g1;u<=a.g2;u++)for(b=a.b1;b<=a.b2;b++)k+=l[e(c,u,b)]||0;C[c]=T+=k}else if(g==n)for(c=a.g1;c<=a.g2;c++){for(k=0,u=a.r1;u<=a.r2;u++)for(b=a.b1;b<=a.b2;b++)k+=l[e(u,c,b)]||0;C[c]=T+=k}else for(c=a.b1;c<=a.b2;c++){for(k=0,u=a.r1;u<=a.r2;u++)for(b=a.g1;b<=a.g2;b++)k+=l[e(u,b,c)]||0;C[c]=T+=k}return C.forEach(function(x,_){y[_]=T-x}),(function(x){var _,w,N,f,D,z=x+"1",q=x+"2",ie=0;for(c=a[z];c<=a[q];c++)if(C[c]>T/2){for(N=a.copy(),f=a.copy(),D=(_=c-a[z])<=(w=a[q]-c)?Math.min(a[q]-1,~~(c+w/2)):Math.max(a[z],~~(c-1-_/2));!C[D];)D++;for(ie=y[D];!ie&&C[D-1];)ie=y[--D];return N[q]=D,f[z]=N[q]+1,[N,f]}})(g==m?"r":g==n?"g":"b")}}return r.prototype={volume:function(l){var a=this;return a._volume&&!l||(a._volume=(a.r2-a.r1+1)*(a.g2-a.g1+1)*(a.b2-a.b1+1)),a._volume},count:function(l){var a=this,m=a.histo;if(!a._count_set||l){var n,g,c,u=0;for(n=a.r1;n<=a.r2;n++)for(g=a.g1;g<=a.g2;g++)for(c=a.b1;c<=a.b2;c++)u+=m[e(n,g,c)]||0;a._count=u,a._count_set=!0}return a._count},copy:function(){var l=this;return new r(l.r1,l.r2,l.g1,l.g2,l.b1,l.b2,l.histo)},avg:function(l){var a=this,m=a.histo;if(!a._avg||l){var n,g,c,u,b=0,k=0,T=0,C=0;if(a.r1===a.r2&&a.g1===a.g2&&a.b1===a.b2)a._avg=[a.r1<<3,a.g1<<3,a.b1<<3];else{for(g=a.r1;g<=a.r2;g++)for(c=a.g1;c<=a.g2;c++)for(u=a.b1;u<=a.b2;u++)b+=n=m[e(g,c,u)]||0,k+=n*(g+.5)*8,T+=n*(c+.5)*8,C+=n*(u+.5)*8;a._avg=b?[~~(k/b),~~(T/b),~~(C/b)]:[~~(8*(a.r1+a.r2+1)/2),~~(8*(a.g1+a.g2+1)/2),~~(8*(a.b1+a.b2+1)/2)]}}return a._avg},contains:function(l){var a=this,m=l[0]>>3;return gval=l[1]>>3,bval=l[2]>>3,m>=a.r1&&m<=a.r2&&gval>=a.g1&&gval<=a.g2&&bval>=a.b1&&bval<=a.b2}},s.prototype={push:function(l){this.vboxes.push({vbox:l,color:l.avg()})},palette:function(){return this.vboxes.map(function(l){return l.color})},size:function(){return this.vboxes.size()},map:function(l){for(var a=this.vboxes,m=0;m<a.size();m++)if(a.peek(m).vbox.contains(l))return a.peek(m).color;return this.nearest(l)},nearest:function(l){for(var a,m,n,g=this.vboxes,c=0;c<g.size();c++)((m=Math.sqrt(Math.pow(l[0]-g.peek(c).color[0],2)+Math.pow(l[1]-g.peek(c).color[1],2)+Math.pow(l[2]-g.peek(c).color[2],2)))<a||a===void 0)&&(a=m,n=g.peek(c).color);return n},forcebw:function(){var l=this.vboxes;l.sort(function(g,c){return vt(sr(g.color),sr(c.color))});var a=l[0].color;a[0]<5&&a[1]<5&&a[2]<5&&(l[0].color=[0,0,0]);var m=l.length-1,n=l[m].color;n[0]>251&&n[1]>251&&n[2]>251&&(l[m].color=[255,255,255])}},{quantize:function(l,a){if(!Number.isInteger(a)||a<1||a>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!l.length||a<2||a>256||!l.length||a<2||a>256)return!1;for(var m=[],n=new Set,g=0;g<l.length;g++){var c=l[g],u=c.join(",");n.has(u)||(n.add(u),m.push(c))}if(m.length<=a)return new zo(m);var b=(function(_){var w,N=new Array(32768);return _.forEach(function(f){w=e(f[0]>>3,f[1]>>3,f[2]>>3),N[w]=(N[w]||0)+1}),N})(l);b.forEach(function(){});var k=(function(_,w){var N,f,D,z=1e6,q=0,ie=1e6,Z=0,xe=1e6,te=0;return _.forEach(function(oe){(N=oe[0]>>3)<z?z=N:N>q&&(q=N),(f=oe[1]>>3)<ie?ie=f:f>Z&&(Z=f),(D=oe[2]>>3)<xe?xe=D:D>te&&(te=D)}),new r(z,q,ie,Z,xe,te,w)})(l,b),T=new o(function(_,w){return vt(_.count(),w.count())});function C(_,w){for(var N,f=_.size(),D=0;D<1e3;){if(f>=w||D++>1e3)return;if((N=_.pop()).count()){var z=d(b,N),q=z[0],ie=z[1];if(!q)return;_.push(q),ie&&(_.push(ie),f++)}else _.push(N),D++}}T.push(k),C(T,.75*a);for(var y=new o(function(_,w){return vt(_.count()*_.volume(),w.count()*w.volume())});T.size();)y.push(T.pop());C(y,a);for(var x=new s;y.size();)x.push(y.pop());return x}}})().quantize,Ir=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};Ir.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var $e=function(){};$e.prototype.getColor=function(e,o){return o===void 0&&(o=10),this.getPalette(e,5,o)[0]},$e.prototype.getPalette=function(e,o,r){var s=(function(a){var m=a.colorCount,n=a.quality;if(m!==void 0&&Number.isInteger(m)){if(m===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");m=Math.max(m,2),m=Math.min(m,20)}else m=10;return(n===void 0||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:m,quality:n}})({colorCount:o,quality:r}),d=new Ir(e),l=Lo((function(a,m,n){for(var g,c,u,b,k,T=a,C=[],y=0;y<m;y+=n)c=T[0+(g=4*y)],u=T[g+1],b=T[g+2],((k=T[g+3])===void 0||k>=125)&&(c>250&&u>250&&b>250||C.push([c,u,b]));return C})(d.getImageData().data,d.width*d.height,s.quality),s.colorCount);return l?l.palette():null},$e.prototype.getColorFromUrl=function(e,o,r){var s=this,d=document.createElement("img");d.addEventListener("load",function(){o(s.getPalette(d,5,r)[0],e)}),d.src=e},$e.prototype.getImageData=function(e,o){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var d=new Array(i),l=0;l<s.length;l++)d[l]=String.fromCharCode(s[l]);var a=d.join("");o("data:image/png;base64,"+window.btoa(a))}},r.send()},$e.prototype.getColorAsync=function(e,o,r){var s=this;this.getImageData(e,function(d){var l=document.createElement("img");l.addEventListener("load",function(){o(s.getPalette(l,5,r)[0],this)}),l.src=d})};var t=Bo();function nr({items:e=[],className:o=""}){return e.length===0?null:(0,t.jsx)("nav",{"aria-label":"Breadcrumb",className:`flex items-center gap-2 text-sm ${o}`,children:(0,t.jsx)("ol",{className:"flex items-center gap-2",children:e.map((r,s)=>{const d=s===e.length-1,l=s===0&&r.label==="Home";return(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[s>0&&(0,t.jsx)($t,{className:"w-4 h-4 text-neutral-500","aria-hidden":"true"}),d?(0,t.jsxs)("span",{className:"text-white font-medium flex items-center gap-1.5","aria-current":"page",children:[l&&(0,t.jsx)(er,{className:"w-4 h-4"}),r.label]}):(0,t.jsxs)("button",{onClick:r.onClick,className:"text-neutral-400 hover:text-white transition-colors flex items-center gap-1.5 focus-ring rounded px-1 -mx-1",type:"button",children:[l&&(0,t.jsx)(er,{className:"w-4 h-4"}),r.label]})]},s)})})})}function Eo({currentView:e,onNavigateHome:o,onNavigateBuilder:r,onNavigateBrand:s,onOpenHelp:d,selectedWidgetId:l,selectedWidgetLabel:a,hasBrandTheme:m,brandLabel:n}){const g=[{id:"landing",label:"Widgets",action:o},{id:"builder",label:"Builder",action:r,disabled:!l},{id:"brand-generator",label:"Brand Kit",action:s}],[c,u]=(0,h.useState)(!1),[b,k]=(0,h.useState)(!0),T=(0,h.useRef)(null);(0,h.useEffect)(()=>{const y=()=>{k(window.innerWidth>=1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),(0,h.useEffect)(()=>{if(!c)return;const y=x=>{T.current&&(T.current.contains(x.target)||u(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[c]);const C=h.useMemo(()=>{const y=[{label:"Home",onClick:o}];return e==="builder"&&l&&a?(y.push({label:a,onClick:null}),y.push({label:"Builder",onClick:null})):e==="brand-generator"&&y.push({label:"Brand Generator",onClick:null}),y},[e,l,a,o]);return(0,t.jsx)("header",{className:"w-full border-b border-subtle bg-[#0B0E12]/90 backdrop-blur-md sticky top-0 z-30 shadow-lg",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:o,className:"flex items-center gap-3 focus-ring rounded-lg group","aria-label":"Go to home",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 flex items-center justify-center font-black text-white shadow-lg group-hover:scale-105 transition-transform",children:"NW"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-400",children:"JaZeR"}),(0,t.jsx)("p",{className:"text-base font-semibold text-white",children:"Notion Wiz"})]})]}),!b&&(0,t.jsx)("button",{type:"button",onClick:()=>u(y=>!y),className:"md:hidden p-2 rounded-lg border border-interactive text-neutral-200 hover:border-purple-300 hover:text-white transition focus-ring","aria-label":"Toggle navigation menu","aria-expanded":c,children:(0,t.jsx)(wr,{className:"w-5 h-5"})})]}),(0,t.jsxs)("nav",{className:"flex-1 flex flex-col md:flex-row md:items-center gap-4",children:[b?(0,t.jsx)("div",{className:"flex items-center gap-2",children:g.map(y=>{const x=e===y.id;return(0,t.jsx)("button",{type:"button",onClick:y.action,disabled:y.disabled,className:`
                        px-4 py-2 rounded-lg text-sm font-semibold transition-all focus-ring
                        ${x?"bg-purple-500/20 text-white border-2 border-purple-400 shadow-lg":"text-neutral-300 hover:text-white hover:bg-white/5 border-2 border-transparent"}
                        ${y.disabled?"opacity-40 cursor-not-allowed":""}
                      `,"aria-current":x?"page":void 0,children:y.label},y.id)})}):(0,t.jsx)("div",{className:"relative",ref:T,children:c&&(0,t.jsx)("div",{className:"absolute left-0 top-0 min-w-[200px] bg-[#0C0F16] border border-interactive rounded-xl shadow-2xl p-2 space-y-1 animate-fadeIn",children:g.map(y=>{const x=e===y.id;return(0,t.jsx)("button",{type:"button",onClick:()=>{y.action(),u(!1)},disabled:y.disabled,className:`
                            w-full px-4 py-2.5 rounded-lg text-left text-sm font-medium transition
                            ${x?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-subtle text-neutral-200 hover:border-purple-300 hover:text-white"}
                            ${y.disabled?"opacity-40 cursor-not-allowed":""}
                          `,children:y.label},y.id)})})}),b&&C.length>1&&(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsx)(nr,{items:C})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"hidden sm:inline uppercase tracking-widest text-neutral-500",children:"Brand"}),(0,t.jsxs)("span",{className:`
                  px-3 py-1.5 rounded-full border text-xs font-semibold flex items-center gap-1.5
                  ${m?"border-emerald-400/50 bg-emerald-500/10 text-emerald-200":"border-interactive bg-white/5 text-neutral-300"}
                `,children:[m&&(0,t.jsx)(Me,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:m?n:"JaZeR Neon"}),(0,t.jsx)("span",{className:"sm:hidden",children:m?"✓":"–"})]})]}),d&&(0,t.jsx)("button",{onClick:d,className:"p-2 rounded-lg border border-interactive text-neutral-300 hover:border-purple-300 hover:text-white transition focus-ring","aria-label":"Open help and shortcuts",title:"Keyboard shortcuts",children:(0,t.jsx)(jr,{className:"w-4 h-4"})})]})]})]}),!b&&C.length>1&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-subtle",children:(0,t.jsx)(nr,{items:C})})]})})}function Do(e={},o=!0){const r=(0,h.useCallback)(s=>{if(!o)return;const d=[];(s.ctrlKey||s.metaKey)&&d.push("cmd"),s.altKey&&d.push("alt"),s.shiftKey&&d.push("shift");const l=s.key.toLowerCase();d.push(l);const a=d.join("+"),m=s.key,n=e[a]||e[m];n&&(s.preventDefault(),s.stopPropagation(),n(s))},[e,o]);(0,h.useEffect)(()=>{if(o)return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[r,o])}function Po(e){const o=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;return e.split("+").map(r=>{switch(r.toLowerCase()){case"cmd":return o?"⌘":"Ctrl";case"alt":return o?"⌥":"Alt";case"shift":return o?"⇧":"Shift";case"escape":return"Esc";default:return r.toUpperCase()}}).join(o?"":"+")}function Wo({isOpen:e,onClose:o}){if(!e)return null;const r=[{category:"Navigation",items:[{keys:"cmd+k",description:"Open quick widget switcher"},{keys:"cmd+/",description:"Focus search input"},{keys:"Escape",description:"Close modals and overlays"}]},{category:"Actions",items:[{keys:"cmd+e",description:"Open export modal"},{keys:"cmd+b",description:"Go to brand generator"},{keys:"cmd+s",description:"Quick save (export)"}]},{category:"Help",items:[{keys:"?",description:"Show this help dialog"}]}];return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",children:(0,t.jsxs)("div",{className:"bg-[#0B0E12] border-2 border-purple-400/30 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:s=>s.stopPropagation(),children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(ko,{className:"w-5 h-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{id:"shortcuts-title",className:"text-xl font-bold text-white",children:"Keyboard Shortcuts"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:"Boost your productivity with these shortcuts"})]})]}),(0,t.jsx)("button",{onClick:o,className:"p-2 hover:bg-white/10 rounded-lg transition-colors focus-ring","aria-label":"Close shortcuts dialog",children:(0,t.jsx)(Ge,{className:"w-5 h-5 text-neutral-400"})})]}),(0,t.jsx)("div",{className:"px-6 py-6 overflow-y-auto max-h-[calc(80vh-120px)] space-y-6",children:r.map(s=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xs uppercase tracking-wider font-bold text-purple-400 mb-3",children:s.category}),(0,t.jsx)("div",{className:"space-y-2",children:s.items.map((d,l)=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm text-neutral-300",children:d.description}),(0,t.jsx)("kbd",{className:"px-3 py-1.5 bg-[#1F2937] border border-white/20 rounded-lg text-xs font-mono text-white shadow-sm",children:Po(d.keys)})]},l))})]},s.category))}),(0,t.jsx)("div",{className:"px-6 py-4 border-t border-white/10 bg-white/5",children:(0,t.jsxs)("p",{className:"text-xs text-neutral-400 text-center",children:["Press ",(0,t.jsx)("kbd",{className:"px-2 py-0.5 bg-[#1F2937] border border-white/20 rounded text-[10px] font-mono",children:"?"})," anytime to see this dialog"]})})]})})}var Ro=(0,h.createContext)(null);function Oo({children:e}){const[o,r]=(0,h.useState)([]),s=(0,h.useCallback)((a,m="info",n=3e3)=>{const g=Date.now()+Math.random(),c={id:g,message:a,type:m,duration:n};return r(u=>[...u,c]),n>0&&setTimeout(()=>{r(u=>u.filter(b=>b.id!==g))},n),g},[]),d=(0,h.useCallback)(a=>{r(m=>m.filter(n=>n.id!==a))},[]),l=(0,h.useMemo)(()=>({success:(a,m)=>s(a,"success",m),error:(a,m)=>s(a,"error",m),info:(a,m)=>s(a,"info",m),warning:(a,m)=>s(a,"warning",m)}),[s]);return(0,t.jsxs)(Ro.Provider,{value:{toast:l,addToast:s,removeToast:d},children:[e,(0,t.jsx)(Ho,{toasts:o,onRemove:d})]})}function Ho({toasts:e,onRemove:o}){return e.length===0?null:(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 max-w-sm",children:e.map(r=>(0,t.jsx)(Go,{...r,onClose:()=>o(r.id)},r.id))})}function Go({id:e,message:o,type:r,onClose:s}){const d={success:Fo,error:wo,warning:At,info:Wt},l={success:"bg-green-500/20 border-green-400 text-green-100",error:"bg-red-500/20 border-red-400 text-red-100",warning:"bg-amber-500/20 border-amber-400 text-amber-100",info:"bg-blue-500/20 border-blue-400 text-blue-100"},a=d[r]||Wt;return(0,t.jsxs)("div",{className:`
        flex items-start gap-3 p-4 rounded-xl border backdrop-blur-sm
        shadow-lg animate-fadeIn
        ${l[r]}
      `,role:"alert",children:[(0,t.jsx)(a,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,t.jsx)("p",{className:"flex-1 text-sm font-medium",children:o}),(0,t.jsx)("button",{onClick:s,className:"flex-shrink-0 hover:opacity-70 transition-opacity focus-ring rounded","aria-label":"Close notification",children:(0,t.jsx)(Ge,{className:"w-4 h-4"})})]})}var he={electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},Br={deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},lt={heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},Rt='"Montserrat", system-ui, sans-serif',it={h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},Te={letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)"},Nt={gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)"},Ar={minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}};const Xe={colors:he,ui:Br,fonts:lt,fontFamily:Rt,sizes:it,glowBlur:Te.glowBlur,glowBlurSubtle:Te.glowBlurSubtle,glow:Te.glow,glowStrong:Te.glowStrong,gradient:Nt.gradient,borderGradient:Nt.borderGradient,logo:Ar},O={id:"jazer-neon",name:"JaZeR Neon",colors:he,ui:Br,fonts:lt,fontFamily:Rt,sizes:it,effects:Te,gradients:Nt,logo:Ar,fontLinks:`
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
  `,cssVariables:`:root {
    --jazer-electric-purple: ${he.electricPurple};
    --jazer-cosmic-blue: ${he.cosmicBlue};
    --jazer-neon-pink: ${he.neonPink};
    --jazer-sunburst-gold: ${he.sunburstGold};
    --jazer-aether-teal: ${he.aetherTeal};
    --jazer-ultraviolet: ${he.ultraviolet};
    --jazer-night-black: ${he.nightBlack};
    --jazer-stardust-white: ${he.stardustWhite};
    --jazer-graphite: ${he.graphite};
    --jazer-soft-slate: ${he.softSlate};
    
    --jazer-glow-blur: ${Te.glowBlur};
    --jazer-glow-purple: ${Te.glow};
  }`,extraCSS:`
  body {
    background-color: ${he.nightBlack};
    color: ${he.stardustWhite};
    font-family: ${Rt};
  }

  .neon-text { 
    font-family: "${lt.heading}", system-ui, sans-serif; 
    color: ${he.stardustWhite}; 
    text-shadow: ${Te.glow}; 
    letter-spacing: ${Te.letterSpacing}; 
  }
  .neon-gradient-text { 
    font-family: "${lt.heading}", system-ui, sans-serif; 
    background: ${Nt.gradient}; 
    -webkit-background-clip: text; 
    background-clip: text; 
    color: transparent; 
    text-shadow: ${Te.glow}; 
    letter-spacing: ${Te.letterSpacing}; 
  }
  h1, h2, h3 { letter-spacing: ${Te.letterSpacing}; font-family: "${lt.heading}", system-ui, sans-serif; } 
  h1 { font-size: ${it.h1}; }
  h2 { font-size: ${it.h2}; color: ${he.electricPurple}; }
  h3 { font-size: ${it.h3}; color: ${he.cosmicBlue}; } 
  
  button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${he.cosmicBlue}; outline-offset: 2px; }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 10px; }
  ::-webkit-scrollbar-track { background: ${he.nightBlack}; }
  ::-webkit-scrollbar-thumb { background: ${he.graphite}; border-radius: 5px; border: 1px solid ${he.nightBlack}; }
  ::-webkit-scrollbar-thumb:hover { background: ${he.softSlate}; }
  
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes roulette { 
    0% { transform: translateY(-20px); opacity: 0; } 
    100% { transform: translateY(0); opacity: 1; } 
  }
  `},qo={id:"counter",label:"Counter",description:"Track habits and count things",defaultConfig:{counterTitle:"Counter",preferredIcons:"plusMinus",counterSize:"medium",centerText:!0,textShadows:!1,transparentBg:!1,backgroundColor:O.colors.stardustWhite,hideResetButton:!1,step:1,minValue:null,maxValue:null,resetValue:0,textColorLight:O.colors.nightBlack,textColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"counterTitle",label:"Counter Title",type:"text",section:"settings"},{name:"preferredIcons",label:"Preferred Icons",type:"select",section:"settings",options:[{label:"Plus and Minus",value:"plusMinus"},{label:"Arrows",value:"arrows"}]},{name:"counterSize",label:"Counter Size",type:"select",section:"settings",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"centerText",label:"Center Text",type:"boolean",section:"style"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"style"},{name:"transparentBg",label:"Use Transparent Background",type:"boolean",section:"style"},{name:"backgroundColor",label:"Background Color",type:"color",section:"style"},{name:"hideResetButton",label:"Hide Reset Button",type:"boolean",section:"behavior"},{name:"step",label:"Step",type:"number",section:"behavior"},{name:"minValue",label:"Min Value",type:"number",section:"behavior"},{name:"maxValue",label:"Max Value",type:"number",section:"behavior"},{name:"resetValue",label:"Reset Value",type:"number",section:"behavior"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Mr=(0,h.createContext)(),pt=()=>{const e=(0,h.useContext)(Mr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Uo=({config:e,onCustomizeRequest:o})=>{const{getColor:r}=pt(),[s,d]=(0,h.useState)(e.resetValue||0),[l,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const T=window.matchMedia("(prefers-color-scheme: dark)"),C=y=>a(y.matches);return T.addEventListener("change",C),()=>T.removeEventListener("change",C)},[e.appearanceMode]);const m=(0,h.useMemo)(()=>e.appearanceMode==="system"?l:e.appearanceMode==="dark",[e.appearanceMode,l]),n={small:{container:"text-4xl p-4",button:"text-2xl px-3 py-1",title:"text-sm"},medium:{container:"text-6xl p-6",button:"text-3xl px-4 py-2",title:"text-base"},large:{container:"text-8xl p-8",button:"text-4xl px-5 py-2",title:"text-lg"},xlarge:{container:"text-9xl p-10",button:"text-5xl px-6 py-3",title:"text-xl"}},g=n[e.counterSize]||n.medium,c=m?e.textColorDark||r("stardustWhite"):e.textColorLight||r("graphite"),u=e.transparentBg?"transparent":e.backgroundColor||r("stardustWhite"),b={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},k=b[e.preferredIcons]||b.plusMinus;return(0,t.jsxs)("div",{style:{backgroundColor:u,color:c,textAlign:e.centerText?"center":"left",textShadow:e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none",borderRadius:"8px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:e.centerText?"center":"flex-start"},className:`${g.container} relative`,children:[(0,t.jsx)("div",{className:`font-bold mb-4 ${g.title}`,children:e.counterTitle}),(0,t.jsx)("div",{className:"font-bold mb-6",children:s}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>d(T=>{const C=T-(e.step||1);return e.minValue!==null&&C<e.minValue?e.minValue:C}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:c,border:`2px solid ${c}`},children:k.decrement}),(0,t.jsx)("button",{onClick:()=>d(T=>{const C=T+(e.step||1);return e.maxValue!==null&&C>e.maxValue?e.maxValue:C}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:c,border:`2px solid ${c}`},children:k.increment}),!e.hideResetButton&&(0,t.jsx)("button",{onClick:()=>d(e.resetValue||0),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity text-sm`,style:{backgroundColor:m?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:c,border:`1px solid ${c}`},children:"Reset"})]}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-xs font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>o?.("features"),children:"Customize"})]})};var lr=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const Jo=e=>{const o={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},r=o[e.preferredIcons]||o.plusMinus;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${lr(e.counterTitle)}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      background: ${e.transparentBg?"transparent":e.backgroundColor};
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .counter-container {
      text-align: ${e.centerText?"center":"left"};
      color: ${e.textColorLight};
      padding: ${e.counterSize==="small"?"1rem":e.counterSize==="large"?"2rem":e.counterSize==="xlarge"?"2.5rem":"1.5rem"};
    }
    .counter-title {
      font-size: ${e.counterSize==="small"?"0.875rem":e.counterSize==="large"?"1.125rem":e.counterSize==="xlarge"?"1.25rem":"1rem"};
      font-weight: bold;
      margin-bottom: 1rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-value {
      font-size: ${e.counterSize==="small"?"2.25rem":e.counterSize==="large"?"6rem":e.counterSize==="xlarge"?"8rem":"3.75rem"};
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-shadow: ${e.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-buttons {
      display: flex;
      gap: 1rem;
      justify-content: ${e.centerText?"center":"flex-start"};
    }
    button {
      font-size: ${e.counterSize==="small"?"1.5rem":e.counterSize==="large"?"2.25rem":e.counterSize==="xlarge"?"3rem":"1.875rem"};
      padding: ${e.counterSize==="small"?"0.25rem 0.75rem":e.counterSize==="large"?"0.5rem 1.25rem":e.counterSize==="xlarge"?"0.75rem 1.5rem":"0.5rem 1rem"};
      border-radius: 0.5rem;
      border: 2px solid currentColor;
      background: rgba(0,0,0,0.1);
      cursor: pointer;
      transition: opacity 0.2s;
    }
    button:hover { opacity: 0.8; }
    button.reset {
      font-size: 0.875rem;
      border-width: 1px;
      background: rgba(0,0,0,0.05);
    }
    @media (prefers-color-scheme: dark) {
      .counter-container { color: ${e.textColorDark}; }
      button { background: rgba(255,255,255,0.2); }
      button.reset { background: rgba(255,255,255,0.1); }
    }
  </style>
</head>
<body>
  <div class="counter-container">
    <div class="counter-title">${lr(e.counterTitle)}</div>
    <div class="counter-value" id="count">0</div>
    <div class="counter-buttons">
      <button onclick="changeCount(-1)">${r.decrement}</button>
      <button onclick="changeCount(1)">${r.increment}</button>
      ${e.hideResetButton?"":'<button class="reset" onclick="resetCount()">Reset</button>'}
    </div>
  </div>
  <script>
    let count = parseInt(localStorage.getItem('counter_value') || '0');
    document.getElementById('count').textContent = count;
    
    function changeCount(delta) {
      count += delta;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
    
    function resetCount() {
      count = 0;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
  <\/script>
</body>
</html>`},Zo=()=>"",Yo={id:"imageGallery",label:"Image Gallery",description:"Dynamic image gallery with advanced controls.",defaultConfig:{images:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e","https://images.unsplash.com/photo-1506744038136-462a42ee7a1b"],captions:[],minImagesRequired:1,sizingMode:"cover",animateGallerySpeedToggle:!1,scrollSpeed:"1s",dotsIndicator:!0,overlayArrows:!1,slideBackgroundColor:O.colors.stardustWhite,textColor:O.colors.nightBlack,dropShadows:!1,transparentBackground:!1,setBackgroundColor:!0,arrowColorLight:O.colors.graphite,arrowColorDark:O.colors.stardustWhite,dotsColorLight:O.colors.graphite,dotsColorDark:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"images",label:"Image URLs (one per line)",type:"textarea",section:"imageManagement"},{name:"captions",label:"Image Captions (one per line)",type:"textarea",section:"imageManagement"},{name:"sizingMode",label:"Image Sizing Mode",type:"select",section:"imageDisplay",options:[{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"Wrap Around Image Size",value:"wrap"}]},{name:"animateGallerySpeedToggle",label:"Animate Gallery Speed",type:"boolean",section:"animationControls"},{name:"scrollSpeed",label:"Scroll Speed",type:"select",section:"animationControls",options:[{label:"Very Slow (3s)",value:"3s"},{label:"Slow (2s)",value:"2s"},{label:"Regular (1s)",value:"1s"},{label:"Fast (0.5s)",value:"0.5s"},{label:"Very Fast (0.3s)",value:"0.3s"},{label:"Extremely Fast (0.2s)",value:"0.2s"},{label:"Warp Speed (0.1s)",value:"0.1s"}]},{name:"dotsIndicator",label:"Show Dots Indicator",type:"boolean",section:"navigation"},{name:"overlayArrows",label:"Show Overlay Arrows",type:"boolean",section:"navigation"},{name:"slideBackgroundColor",label:"Slide Background Color",type:"color",section:"style"},{name:"textColor",label:"Text Color",type:"color",section:"style"},{name:"dropShadows",label:"Drop Shadows",type:"boolean",section:"style"},{name:"transparentBackground",label:"Transparent Background",type:"boolean",section:"style"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"style"},{name:"arrowColorLight",label:"Arrow Color (Light Mode)",type:"color",section:"colors"},{name:"arrowColorDark",label:"Arrow Color (Dark Mode)",type:"color",section:"colors"},{name:"dotsColorLight",label:"Dots Color (Light Mode)",type:"color",section:"colors"},{name:"dotsColorDark",label:"Dots Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Qo=({config:e,onCustomizeRequest:o})=>{const r=(e.images||[]).filter(Boolean),[s,d]=(0,h.useState)(0),[l,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[m,n]=(0,h.useState)(!1),g=(0,h.useMemo)(()=>{const y=parseFloat(e.scrollSpeed);return(Number.isFinite(y)&&y>0?y:5)*1e3},[e.scrollSpeed]);(0,h.useEffect)(()=>{if(typeof window>"u")return;const y=window.matchMedia("(prefers-color-scheme: dark)"),x=_=>a(_.matches);return y.addEventListener("change",x),()=>y.removeEventListener("change",x)},[]);const c=(0,h.useMemo)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:l,[e.appearanceMode,l]);if((0,h.useEffect)(()=>{let y=requestAnimationFrame(()=>{});return r.length===0?y=requestAnimationFrame(()=>d(0)):y=requestAnimationFrame(()=>{d(x=>Math.min(x,r.length-1))}),()=>cancelAnimationFrame(y)},[r.length]),(0,h.useEffect)(()=>{if(e.animateGallerySpeedToggle&&r.length>1){const x=setInterval(()=>{d(_=>(_+1)%r.length)},g);return()=>clearInterval(x)}},[e.animateGallerySpeedToggle,r.length,g]),r.length===0)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full w-full text-neutral-500",children:"No images configured. Please add at least one image URL."});const u=()=>{n(!1),d(y=>(y+1)%r.length)},b=()=>{n(!1),d(y=>(y-1+r.length)%r.length)},k=r[s],T=c?e.arrowColorDark:e.arrowColorLight,C=c?e.dotsColorDark:e.dotsColorLight;return(0,t.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",style:{backgroundColor:e.transparentBackground?"transparent":e.slideBackgroundColor,boxShadow:e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none"},children:[m?(0,t.jsx)("div",{className:"flex items-center justify-center h-full w-full bg-neutral-200 text-neutral-500",children:"Error loading image."}):(0,t.jsx)("img",{src:k,alt:"Gallery Image",className:"max-w-full max-h-full transition-opacity duration-500",style:{objectFit:e.sizingMode==="wrap"?"unset":e.sizingMode,height:"100%"},onError:()=>n(!0),onLoad:()=>n(!1)}),e.overlayArrows&&r.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:T},children:"<"}),(0,t.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:T},children:">"})]}),e.dotsIndicator&&r.length>1&&(0,t.jsx)("div",{className:"absolute bottom-4 flex gap-2",children:r.map((y,x)=>(0,t.jsx)("span",{className:`block w-3 h-3 rounded-full ${x===s?"opacity-100":"opacity-50"}`,style:{backgroundColor:C,cursor:"pointer"},onClick:()=>d(x)},x))}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white",onClick:()=>o?.("imageManagement"),children:"Customize"})]})};var Ko=e=>typeof e!="string"?e:e.replace(/[&<>'"]/,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const Xo=e=>{const o=e.images.filter(Boolean);if(o.length===0)return`<div style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; color: ${O.colors.softSlate};">No images configured.</div>`;const r=e.appearanceMode==="dark"?e.arrowColorDark:e.arrowColorLight,s=e.appearanceMode==="dark"?e.dotsColorDark:e.dotsColorLight,d=e.transparentBackground?"transparent":e.slideBackgroundColor,l=e.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none",a=parseFloat(e.scrollSpeed)*1e3;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Widget</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        .gallery-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: ${d};
            box-shadow: ${l};
            overflow: hidden;
        }
        .gallery-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: ${e.sizingMode==="wrap"?"unset":e.sizingMode};
            display: none; /* Controlled by JS */
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            height: 100%;
        }
        .gallery-image.active { display: block; opacity: 1; }
        .gallery-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: ${r};
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            border: none;
            z-index: 10;
        }
        .gallery-nav-arrow.left { left: 1rem; }
        .gallery-nav-arrow.right { right: 1rem; }
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .gallery-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: ${s};
            opacity: 0.5;
            cursor: pointer;
        }
        .gallery-dot.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="gallery-container">
        ${o.map((m,n)=>`<img src="${Ko(m)}" class="gallery-image ${n===0?"active":""}" alt="Gallery Image ${n+1}">`).join("")}
        
        ${e.overlayArrows&&o.length>1?`
          <button class="gallery-nav-arrow left" onclick="prevImage()"></button>
          <button class="gallery-nav-arrow right" onclick="nextImage()">></button>
        `:""}

        ${e.dotsIndicator&&o.length>1?`
          <div class="gallery-dots">
            ${o.map((m,n)=>`<span class="gallery-dot ${n===0?"active":""}" onclick="goToImage(${n})"></span>`).join("")}
          </div>
        `:""}
    </div>
    <script>
        const images = ${JSON.stringify(o)};
        let currentIndex = 0;
        const galleryImages = document.querySelectorAll('.gallery-image');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        const animateGallery = ${e.animateGallerySpeedToggle};
        const scrollSpeed = ${a};
        let intervalId;

        function updateGallery() {
            galleryImages.forEach((img, idx) => {
                img.classList.toggle('active', idx === currentIndex);
            });
            galleryDots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === currentIndex);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updateGallery();
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateGallery();
        }

        function goToImage(index) {
            currentIndex = index;
            updateGallery();
        }

        if (animateGallery && images.length > 1) {
            intervalId = setInterval(nextImage, scrollSpeed);
        }

        // Initial display
        updateGallery();

        // Clear interval on window unload to prevent memory leaks (important for iframes)
        window.addEventListener('beforeunload', () => {
          if (intervalId) clearInterval(intervalId);
        });
    <\/script>
</body>
</html>`},$o=()=>"",Vo={id:"quotes",label:"Quotes",description:"Dynamic quotes from Instagram with custom styling and typography.",defaultConfig:{instagramAccount:"positivemindsetdaily",quoteText:"Design is how it works.",author:"Steve Jobs",showRefreshIcon:!0,autoRefreshInterval:0,useQuoteAPI:!0,useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:"jazerNeonTheme.colors.stardustWhite",quoteTextFont:"body",attributionFont:"heading",textAlign:"center",textShadows:!1,textColorLight:"jazerNeonTheme.colors.nightBlack",textColorDark:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundLight:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundDark:"jazerNeonTheme.ui.deepSpace",refreshIconColor:"jazerNeonTheme.colors.electricPurple",authorColor:"jazerNeonTheme.colors.aetherTeal",appearanceMode:"system",gradientQuoteText:!1,gradientQuoteCardBorder:!1,glowQuoteCard:!1,glowRefreshIconHover:!1,useGradientRefreshIcon:!1,showHoverMenu:!0,showCustomizeButton:!0,fontSize:32,glowEffect:!1,gradientText:!1},fields:[{name:"instagramAccount",label:"Instagram Account",type:"text",section:"contentSource",placeholder:"positivemindsetdaily"},{name:"quoteText",label:"Quote Text",type:"textarea",section:"contentSource"},{name:"author",label:"Author",type:"text",section:"contentSource"},{name:"showRefreshIcon",label:"Show Refresh Icon",type:"boolean",section:"displayOptions"},{name:"useQuoteAPI",label:"Fetch Quotes from API",type:"boolean",section:"displayOptions"},{name:"autoRefreshInterval",label:"Auto-refresh Interval",type:"select",section:"displayOptions",options:[{label:"Disabled",value:0},{label:"1 Minute",value:1},{label:"5 Minutes",value:5},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"background"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"background"},{name:"backgroundColor",label:"Background Color",type:"color",section:"background"},{name:"quoteTextFont",label:"Quote Text Font",type:"select",section:"typography",options:[{label:"Default (Body)",value:"body"},{label:"Heading",value:"heading"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"attributionFont",label:"Attribution Font",type:"select",section:"typography",options:[{label:"Default (Heading)",value:"heading"},{label:"Body",value:"body"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"quoteBackgroundLight",label:"Quote Background (Light)",type:"color",section:"colors"},{name:"quoteBackgroundDark",label:"Quote Background (Dark)",type:"color",section:"colors"},{name:"refreshIconColor",label:"Refresh Icon Color",type:"color",section:"colors"},{name:"authorColor",label:"Author Color",type:"color",section:"colors"},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"do-nothing"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"gradientQuoteText",label:"Gradient Quote Text",type:"boolean",section:"effects"},{name:"gradientQuoteCardBorder",label:"Gradient Quote Card Border",type:"boolean",section:"effects"},{name:"glowQuoteCard",label:"Glow Effect on Quote Card",type:"boolean",section:"effects"},{name:"glowRefreshIconHover",label:"Glow on Refresh Icon Hover",type:"boolean",section:"effects"},{name:"useGradientRefreshIcon",label:"Use Gradient for Refresh Icon",type:"boolean",section:"effects"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},ea=({config:e,onCustomizeRequest:o})=>{const{theme:r}=pt(),[s,d]=(0,h.useState)({text:e.quoteText,author:e.author}),[l,a]=(0,h.useState)(()=>e.appearanceMode==="dark"?!0:e.appearanceMode==="light"?!1:e.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[m,n]=(0,h.useState)(!1),g=(0,h.useRef)(!0);(0,h.useEffect)(()=>()=>{g.current=!1},[]),(0,h.useEffect)(()=>{if(e.appearanceMode==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),D=z=>a(z.matches);return f.addEventListener("change",D),()=>f.removeEventListener("change",D)}else e.appearanceMode==="dark"?a(!0):e.appearanceMode==="light"&&a(!1)},[e.appearanceMode]),(0,h.useEffect)(()=>{d({text:e.quoteText,author:e.author})},[e.quoteText,e.author]);const c=(0,h.useCallback)(async f=>{if(e.useQuoteAPI){n(!0);try{const D=await fetch("https://api.quotable.io/random",{signal:f});if(!D.ok)throw new Error("Failed to fetch quote");const z=await D.json();!f?.aborted&&g.current&&d({text:z.content,author:z.author})}catch(D){D.name}finally{!f?.aborted&&g.current&&n(!1)}}},[e.useQuoteAPI]);(0,h.useEffect)(()=>{if(!e.useQuoteAPI)return;const f=new AbortController;return c(f.signal),()=>f.abort()},[e.useQuoteAPI,c]),(0,h.useEffect)(()=>{if(!e.useQuoteAPI||e.autoRefreshInterval<=0)return;const f=setInterval(()=>{c()},e.autoRefreshInterval*60*1e3);return()=>clearInterval(f)},[e.autoRefreshInterval,e.useQuoteAPI,c]);const u=f=>({body:r.fonts.body,heading:r.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[f]||r.fonts.body,b=l?e.textColorDark:e.textColorLight,k=l?e.quoteBackgroundDark:e.quoteBackgroundLight,T=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:k,C=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",y={fontSize:`${e.fontSize}px`,fontFamily:u(e.quoteTextFont),fontStyle:"italic",lineHeight:"1.6",textShadow:C,...e.gradientQuoteText&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},x={fontFamily:u(e.attributionFont),color:e.authorColor,fontSize:"14px",fontWeight:"bold",opacity:.7,textTransform:"uppercase",letterSpacing:"2px",textShadow:C},_={background:T,color:(e.gradientQuoteText,b),textAlign:e.textAlign,padding:"48px",borderRadius:"16px",...e.gradientQuoteCardBorder&&{border:"2px solid transparent",backgroundImage:`${r.gradients.gradient}, ${T}`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},...e.glowQuoteCard&&{boxShadow:r.effects.glow}},w={marginTop:"16px",padding:"12px",borderRadius:"50%",backgroundColor:e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`,border:e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none",color:e.refreshIconColor,cursor:"pointer",transition:"all 0.3s ease",...e.useGradientRefreshIcon&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},N=e.glowRefreshIconHover?{filter:`drop-shadow(${r.effects.glow})`}:{};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 relative",style:{background:T,color:b},children:[m&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 backdrop-blur-sm z-10 rounded-lg",children:(0,t.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:r.fonts.heading},children:"Loading..."})}),(0,t.jsxs)("div",{style:_,className:"max-w-3xl w-full",children:[(0,t.jsxs)("p",{className:"mb-6",style:y,children:['"',s.text,'"']}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsxs)("span",{style:x,children:["— ",s.author]}),e.instagramAccount&&(0,t.jsxs)("a",{href:`https://www.instagram.com/${e.instagramAccount}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs opacity-50 hover:opacity-100 hover:underline transition-opacity",style:{color:b},children:[(0,t.jsx)(no,{className:"w-3 h-3"}),"@",e.instagramAccount]})]}),e.showRefreshIcon&&(0,t.jsx)("button",{onClick:()=>c(),className:"mx-auto hover:scale-110 transition-transform",style:w,onMouseEnter:f=>{e.glowRefreshIconHover&&Object.assign(f.currentTarget.style,N)},onMouseLeave:f=>{e.glowRefreshIconHover&&(f.currentTarget.style.filter="none")},"aria-label":"Refresh Quote",disabled:m||!e.useQuoteAPI,children:(0,t.jsx)(Cr,{className:`w-5 h-5 ${m?"animate-spin":""}`})})]}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:r.colors.cosmicBlue,color:r.colors.stardustWhite,fontFamily:r.fonts.heading},onClick:()=>o?.("contentSource"),children:"Customize"})]})};var Ce=O,ot=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,r=>o[r])},ir=e=>({body:Ce.fonts.body,heading:Ce.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[e]||Ce.fonts.body;const ta=e=>{const o=e.appearanceMode==="dark",r=o?e.textColorDark:e.textColorLight,s=o?e.quoteBackgroundDark:e.quoteBackgroundLight,d=e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:s,l=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",a=`
    font-size: ${e.fontSize}px;
    font-family: ${ir(e.quoteTextFont)};
    font-style: italic;
    line-height: 1.6;
    text-shadow: ${l};
    ${e.gradientQuoteText?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:`color: ${r};`}
  `,m=`
    background: ${d};
    color: ${r};
    text-align: ${e.textAlign};
    padding: 48px;
    border-radius: 16px;
    max-width: 768px;
    width: 100%;
    ${e.gradientQuoteCardBorder?`
      border: 2px solid transparent;
      background-image: ${Ce.gradients.gradient}, ${d};
      background-origin: border-box;
      background-clip: padding-box, border-box;
    `:""}
    ${e.glowQuoteCard?`box-shadow: ${Ce.effects.glow};`:""}
  `,n=`
    margin-top: 16px;
    padding: 12px;
    border-radius: 50%;
    background-color: ${e.useGradientRefreshIcon?"transparent":`${e.refreshIconColor}20`};
    border: ${e.useGradientRefreshIcon?`2px solid ${e.refreshIconColor}`:"none"};
    color: ${e.refreshIconColor};
    cursor: pointer;
    transition: all 0.3s ease;
    ${e.useGradientRefreshIcon?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:""}
  `;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${ot(e.author)} - Quote Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: ${d};
      font-family: ${Ce.fonts.body};
      padding: 32px;
    }

    .quote-card {
      ${m}
    }

    .quote-text {
      ${a}
      margin-bottom: 24px;
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .author {
      font-family: ${ir(e.attributionFont)};
      color: ${e.authorColor};
      font-size: 14px;
      font-weight: bold;
      opacity: 0.7;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: ${l};
    }

    .instagram-link {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      opacity: 0.5;
      color: ${r};
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .instagram-link:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .refresh-button {
      ${n}
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .refresh-button:hover {
      transform: scale(1.1);
      ${e.glowRefreshIconHover?`filter: drop-shadow(${Ce.effects.glow});`:""}
    }

    .refresh-button:active {
      transform: scale(0.95);
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      background-color: ${Ce.colors.cosmicBlue};
      color: ${Ce.colors.stardustWhite};
      font-family: ${Ce.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 16px;
      z-index: 10;
    }

    .loading-text {
      font-size: 20px;
      font-weight: bold;
      font-family: ${Ce.fonts.heading};
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body { background: ${e.quoteBackgroundDark}; }
        .quote-card { background: ${e.quoteBackgroundDark}; color: ${e.textColorDark}; }
        .instagram-link { color: ${e.textColorDark}; }
      `:""}
    }
  </style>
</head>
<body>
  <div class="quote-card" id="quote-card">
    <div id="loading" class="loading" style="display: none;">
      <span class="loading-text">Loading...</span>
    </div>

    <p class="quote-text" id="quote-text">
      "${ot(e.quoteText)}"
    </p>

    <div class="attribution">
      <span class="author" id="author">
        — ${ot(e.author)}
      </span>

      ${e.instagramAccount?`
        <a href="https://www.instagram.com/${ot(e.instagramAccount)}"
           target="_blank"
           rel="noopener noreferrer"
           class="instagram-link">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
          @${ot(e.instagramAccount)}
        </a>
      `:""}
    </div>

    ${e.showRefreshIcon?`
      <button class="refresh-button" id="refresh-btn" onclick="fetchQuote()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.8L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.8L21 16"/><path d="M21 21v-5h-5"/></svg>
      </button>
    `:""}
  </div>

  ${e.showCustomizeButton?`
    <button class="customize-button">
      Customize
    </button>
  `:""}

  <script>
    ${zr(e)}
  <\/script>
</body>
</html>`},zr=()=>`
    const exampleQuotes = [
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
      { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
      { text: "Life is 10% what happens to you and 90% how you react to it.", author: "Charles R. Swindoll" },
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" }
    ];

    function fetchQuote() {
      const loading = document.getElementById('loading');
      const quoteText = document.getElementById('quote-text');
      const author = document.getElementById('author');

      loading.style.display = 'flex';

      setTimeout(() => {
        const randomQuote = exampleQuotes[Math.floor(Math.random() * exampleQuotes.length)];
        quoteText.textContent = '"' + randomQuote.text + '"';
        author.textContent = '— ' + randomQuote.author;
        loading.style.display = 'none';
      }, 500);
    }
  `,ra={id:"weather",label:"Weather",description:"Dynamic weather widget with forecast and customization.",sections:[{id:"locationSettings",label:"Location Settings",icon:"📍",order:1},{id:"displayConfiguration",label:"Display Configuration",icon:"📊",order:2},{id:"forecastOptions",label:"Forecast Options",icon:"📅",order:3},{id:"layoutOptions",label:"Layout Options",icon:"📐",order:4},{id:"appearance",label:"Appearance",icon:"🎨",order:5},{id:"typography",label:"Typography",icon:"🔤",order:6},{id:"background",label:"Background",icon:"🖼️",order:7},{id:"theme",label:"Preset Themes",icon:"🎭",order:8},{id:"effects",label:"Effects",icon:"✨",order:9},{id:"features",label:"Additional Features",icon:"⚙️",order:10}],defaultConfig:{weatherLocation:"Austin, TX",useGeolocation:!0,preferredUnits:"imperial",numberOfDays:5,currentWeatherFields:["temperature","condition","humidity","wind"],dailyWeatherFields:["high","low","condition","precipitation"],hideTodayInForecast:!1,displayDates:!1,orientation:"auto",widgetSize:"medium",animateIcons:!0,greyscaleIcons:!1,textShadows:!1,fontScale:1,appearanceMode:"system",useTransparentBackground:!1,textColorLight:O.colors.graphite,textColorDark:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack,setBackgroundColor:!1,theme:{light:{textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},dark:{textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack}},textFontFamily:"default",googleFont:"none",textAlign:"center",backgroundTexture:"none",presetTheme:"none",glowEffect:!1,gradientText:!1,visuallyGroupForecast:!1,showHoverMenu:!0,showCustomizeButton:!0,timeFormat:"12h",showSevereAlerts:!0},validation:{weatherLocation:{required:!0,type:"string",minLength:2},currentWeatherFields:{required:!0,type:"array",minItems:1,maxItems:6},dailyWeatherFields:{required:!0,type:"array",minItems:1},numberOfDays:{type:"number",min:3,max:10},fontScale:{type:"number",min:.8,max:1.2,step:.1}},fields:[{name:"weatherLocation",label:"Weather Location",type:"text",section:"locationSettings",placeholder:"City, State or ZIP",helpText:"Uses free Open-Meteo API - no key required",required:!0},{name:"useGeolocation",label:"Auto-Detect Location",type:"boolean",section:"locationSettings",helpText:"Automatically detect user location (requires permission)"},{name:"preferredUnits",label:"Preferred Units",type:"select",section:"locationSettings",options:[{label:"Imperial (°F, mph)",value:"imperial"},{label:"Metric (°C, km/h)",value:"metric"}]},{name:"numberOfDays",label:"Number of Days",type:"select",section:"locationSettings",options:[{label:"3 Days",value:3},{label:"5 Days",value:5},{label:"7 Days",value:7},{label:"10 Days",value:10}]},{name:"currentWeatherFields",label:"Current Weather Fields",type:"multiselect",section:"displayConfiguration",helpText:"Select 1-6 fields to display",maxItems:6,options:[{label:"Temperature",value:"temperature"},{label:"Condition",value:"condition"},{label:"Humidity",value:"humidity"},{label:"Wind Speed",value:"wind"},{label:"Feels Like",value:"feelsLike"},{label:"UV Index",value:"uvIndex"},{label:"Cloud Cover",value:"cloudCover"},{label:"Pressure",value:"pressure"},{label:"Visibility",value:"visibility"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"dailyWeatherFields",label:"Daily Weather Fields",type:"multiselect",section:"displayConfiguration",options:[{label:"High Temp",value:"high"},{label:"Low Temp",value:"low"},{label:"Condition",value:"condition"},{label:"Precipitation",value:"precipitation"},{label:"Wind",value:"wind"},{label:"UV Index",value:"uvIndex"},{label:"Humidity",value:"humidity"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"hideTodayInForecast",label:"Hide Today in Forecast",type:"boolean",section:"forecastOptions",helpText:"Show forecast starting from tomorrow"},{name:"displayDates",label:"Display Dates",type:"boolean",section:"forecastOptions",helpText:"Show dates alongside day names"},{name:"orientation",label:"Orientation",type:"select",section:"layoutOptions",options:[{label:"Auto (Responsive)",value:"auto"},{label:"Horizontal",value:"horizontal"},{label:"Compact",value:"compact"},{label:"Wide",value:"wide"}]},{name:"widgetSize",label:"Widget Size",type:"select",section:"layoutOptions",helpText:"Control the overall dimensions of the widget",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}]},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",helpText:"Control light/dark mode behavior",options:[{label:"Use System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"appearance",helpText:"Override background colors with transparency"},{name:"theme.light.textColor",label:"Light Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.light.backgroundColor",label:"Light Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.textColor",label:"Dark Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.backgroundColor",label:"Dark Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"animateIcons",label:"Animate Weather Icons",type:"boolean",section:"appearance"},{name:"greyscaleIcons",label:"Greyscale Icons",type:"boolean",section:"appearance"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"appearance",helpText:"Add subtle shadows for better readability"},{name:"fontScale",label:"Font Scale",type:"range",section:"appearance",min:.8,max:1.2,step:.1},{name:"textFontFamily",label:"Base Font Style",type:"select",section:"typography",options:[{label:"Default (Sans-serif)",value:"default"},{label:"Serif",value:"serif"},{label:"Monospace",value:"mono"}]},{name:"googleFont",label:"Google Font Override",type:"select",section:"typography",helpText:"Apply a custom Google Font (overrides base font)",options:[{label:"None",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",helpText:"Add a subtle pattern overlay",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",helpText:"Quick-apply a pre-designed theme (overrides custom colors)",options:[{label:"None (Use Custom Settings)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects",helpText:"Add a subtle glow around elements"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects",helpText:"Apply color gradients to text"},{name:"visuallyGroupForecast",label:"Visually Group Forecast",type:"boolean",section:"features",helpText:"Add visual separation between forecast days"},{name:"timeFormat",label:"Time Format",type:"select",section:"features",options:[{label:"12-hour (AM/PM)",value:"12h"},{label:"24-hour",value:"24h"}]},{name:"showSevereAlerts",label:"Show Severe Weather Alerts",type:"boolean",section:"features",helpText:"Display warnings for severe weather conditions"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features",helpText:"Display interactive menu on hover"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features",helpText:"Show button to open customization panel"}]};var oa=je({"node_modules/prop-types/lib/ReactPropTypesSecret.js":((e,o)=>{var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=r})}),aa=je({"node_modules/prop-types/factoryWithThrowingShims.js":((e,o)=>{var r=oa();function s(){}function d(){}d.resetWarningCache=s,o.exports=function(){function l(n,g,c,u,b,k){if(k!==r){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}l.isRequired=l;function a(){return l}var m={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:a,element:l,elementType:l,instanceOf:a,node:l,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:d,resetWarningCache:s};return m.PropTypes=m,m}})}),sa=je({"node_modules/prop-types/index.js":((e,o)=>{o.exports=aa()()})}),na,la,ia,ca,Vt=tt({"node_modules/flatbuffers/mjs/constants.js":(()=>{na=2,la=4,ia=4,ca=4})}),Ee,St,Tt,et,Lr=tt({"node_modules/flatbuffers/mjs/utils.js":(()=>{Ee=new Int32Array(2),St=new Float32Array(Ee.buffer),Tt=new Float64Array(Ee.buffer),et=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1})}),Ft,Er=tt({"node_modules/flatbuffers/mjs/encoding.js":(()=>{(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Ft||(Ft={}))})}),It,Dr=tt({"node_modules/flatbuffers/mjs/byte-buffer.js":(()=>{Vt(),Er(),Lr(),It=class Pr{constructor(o){this.bytes_=o,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(o){return new Pr(new Uint8Array(o))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(o){this.position_=o}capacity(){return this.bytes_.length}readInt8(o){return this.readUint8(o)<<24>>24}readUint8(o){return this.bytes_[o]}readInt16(o){return this.readUint16(o)<<16>>16}readUint16(o){return this.bytes_[o]|this.bytes_[o+1]<<8}readInt32(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24}readUint32(o){return this.readInt32(o)>>>0}readInt64(o){return BigInt.asIntN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readUint64(o){return BigInt.asUintN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readFloat32(o){return Ee[0]=this.readInt32(o),St[0]}readFloat64(o){return Ee[et?0:1]=this.readInt32(o),Ee[et?1:0]=this.readInt32(o+4),Tt[0]}writeInt8(o,r){this.bytes_[o]=r}writeUint8(o,r){this.bytes_[o]=r}writeInt16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeUint16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeInt32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeUint32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeInt64(o,r){this.writeInt32(o,Number(BigInt.asIntN(32,r))),this.writeInt32(o+4,Number(BigInt.asIntN(32,r>>BigInt(32))))}writeUint64(o,r){this.writeUint32(o,Number(BigInt.asUintN(32,r))),this.writeUint32(o+4,Number(BigInt.asUintN(32,r>>BigInt(32))))}writeFloat32(o,r){St[0]=r,this.writeInt32(o,Ee[0])}writeFloat64(o,r){Tt[0]=r,this.writeInt32(o,Ee[et?0:1]),this.writeInt32(o+4,Ee[et?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let o="";for(let r=0;r<4;r++)o+=String.fromCharCode(this.readInt8(this.position_+4+r));return o}__offset(o,r){const s=o-this.readInt32(o);return r<this.readInt16(s)?this.readInt16(s+r):0}__union(o,r){return o.bb_pos=r+this.readInt32(r),o.bb=this,o}__string(o,r){o+=this.readInt32(o);const s=this.readInt32(o);o+=4;const d=this.bytes_.subarray(o,o+s);return r===Ft.UTF8_BYTES?d:this.text_decoder_.decode(d)}__union_with_string(o,r){return typeof o=="string"?this.__string(r):this.__union(o,r)}__indirect(o){return o+this.readInt32(o)}__vector(o){return o+this.readInt32(o)+4}__vector_len(o){return this.readInt32(o+this.readInt32(o))}__has_identifier(o){if(o.length!=4)throw new Error("FlatBuffers: file identifier must be length 4");for(let r=0;r<4;r++)if(o.charCodeAt(r)!=this.readInt8(this.position()+4+r))return!1;return!0}createScalarList(o,r){const s=[];for(let d=0;d<r;++d){const l=o(d);l!==null&&s.push(l)}return s}createObjList(o,r){const s=[];for(let d=0;d<r;++d){const l=o(d);l!==null&&s.push(l.unpack())}return s}}})}),Wr,da=tt({"node_modules/flatbuffers/mjs/builder.js":(()=>{Dr(),Vt(),Wr=class Rr{constructor(o){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let r;o?r=o:r=1024,this.bb=It.allocate(r),this.space=r}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(o){this.force_defaults=o}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(o,r){o>this.minalign&&(this.minalign=o);const s=~(this.bb.capacity()-this.space+r)+1&o-1;for(;this.space<s+o+r;){const d=this.bb.capacity();this.bb=Rr.growByteBuffer(this.bb),this.space+=this.bb.capacity()-d}this.pad(s)}pad(o){for(let r=0;r<o;r++)this.bb.writeInt8(--this.space,0)}writeInt8(o){this.bb.writeInt8(this.space-=1,o)}writeInt16(o){this.bb.writeInt16(this.space-=2,o)}writeInt32(o){this.bb.writeInt32(this.space-=4,o)}writeInt64(o){this.bb.writeInt64(this.space-=8,o)}writeFloat32(o){this.bb.writeFloat32(this.space-=4,o)}writeFloat64(o){this.bb.writeFloat64(this.space-=8,o)}addInt8(o){this.prep(1,0),this.writeInt8(o)}addInt16(o){this.prep(2,0),this.writeInt16(o)}addInt32(o){this.prep(4,0),this.writeInt32(o)}addInt64(o){this.prep(8,0),this.writeInt64(o)}addFloat32(o){this.prep(4,0),this.writeFloat32(o)}addFloat64(o){this.prep(8,0),this.writeFloat64(o)}addFieldInt8(o,r,s){(this.force_defaults||r!=s)&&(this.addInt8(r),this.slot(o))}addFieldInt16(o,r,s){(this.force_defaults||r!=s)&&(this.addInt16(r),this.slot(o))}addFieldInt32(o,r,s){(this.force_defaults||r!=s)&&(this.addInt32(r),this.slot(o))}addFieldInt64(o,r,s){(this.force_defaults||r!==s)&&(this.addInt64(r),this.slot(o))}addFieldFloat32(o,r,s){(this.force_defaults||r!=s)&&(this.addFloat32(r),this.slot(o))}addFieldFloat64(o,r,s){(this.force_defaults||r!=s)&&(this.addFloat64(r),this.slot(o))}addFieldOffset(o,r,s){(this.force_defaults||r!=s)&&(this.addOffset(r),this.slot(o))}addFieldStruct(o,r,s){r!=s&&(this.nested(r),this.slot(o))}nested(o){if(o!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(o){this.vtable!==null&&(this.vtable[o]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(o){const r=o.capacity();if(r&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const s=r<<1,d=It.allocate(s);return d.setPosition(s-r),d.bytes().set(o.bytes(),s-r),d}addOffset(o){this.prep(4,0),this.writeInt32(this.offset()-o+4)}startObject(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(let r=0;r<o;r++)this.vtable[r]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const o=this.offset();let r=this.vtable_in_use-1;for(;r>=0&&this.vtable[r]==0;r--);const s=r+1;for(;r>=0;r--)this.addInt16(this.vtable[r]!=0?o-this.vtable[r]:0);const d=2;this.addInt16(o-this.object_start);const l=(s+d)*2;this.addInt16(l);let a=0;const m=this.space;e:for(r=0;r<this.vtables.length;r++){const n=this.bb.capacity()-this.vtables[r];if(l==this.bb.readInt16(n)){for(let g=2;g<l;g+=2)if(this.bb.readInt16(m+g)!=this.bb.readInt16(n+g))continue e;a=this.vtables[r];break}}return a?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,a-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o}finish(o,r,s){const d=s?4:0;if(r){const l=r;if(this.prep(this.minalign,8+d),l.length!=4)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let a=3;a>=0;a--)this.writeInt8(l.charCodeAt(a))}this.prep(this.minalign,4+d),this.addOffset(o),d&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(o,r){this.finish(o,r,!0)}requiredField(o,r){const s=this.bb.capacity()-o,d=s-this.bb.readInt32(s);if(!(r<this.bb.readInt16(d)&&this.bb.readInt16(d+r)!=0))throw new TypeError("FlatBuffers: field "+r+" must be set")}startVector(o,r,s){this.notNested(),this.vector_num_elems=r,this.prep(4,o*r),this.prep(s,o*r)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(o){if(!o)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(o))return this.string_maps.get(o);const r=this.createString(o);return this.string_maps.set(o,r),r}createString(o){if(o==null)return 0;let r;return o instanceof Uint8Array?r=o:r=this.text_encoder.encode(o),this.addInt8(0),this.startVector(1,r.length,1),this.bb.setPosition(this.space-=r.length),this.bb.bytes().set(r,this.space),this.endVector()}createByteVector(o){return o==null?0:(this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length),this.bb.bytes().set(o,this.space),this.endVector())}createObjectOffset(o){return o===null?0:typeof o=="string"?this.createString(o):o.pack(this)}createObjectOffsetList(o){const r=[];for(let s=0;s<o.length;++s){const d=o[s];if(d!==null)r.push(this.createObjectOffset(d));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return r}createStructOffsetList(o,r){return r(this,o.length),this.createObjectOffsetList(o.slice().reverse()),this.endVector()}}})}),mt=eo({Builder:()=>Wr,ByteBuffer:()=>It,Encoding:()=>Ft,FILE_IDENTIFIER_LENGTH:()=>4,SIZEOF_INT:()=>4,SIZEOF_SHORT:()=>2,SIZE_PREFIX_LENGTH:()=>4,float32:()=>St,float64:()=>Tt,int32:()=>Ee,isLittleEndian:()=>et}),ht=tt({"node_modules/flatbuffers/mjs/flatbuffers.js":(()=>{Vt(),Lr(),da(),Dr(),Er()})}),ua=je({"node_modules/@openmeteo/sdk/model.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.best_match=1]="best_match",r[r.gfs_seamless=2]="gfs_seamless",r[r.gfs_global=3]="gfs_global",r[r.gfs_hrrr=4]="gfs_hrrr",r[r.meteofrance_seamless=5]="meteofrance_seamless",r[r.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",r[r.meteofrance_arpege_world=7]="meteofrance_arpege_world",r[r.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",r[r.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",r[r.meteofrance_arome_france=10]="meteofrance_arome_france",r[r.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",r[r.jma_seamless=12]="jma_seamless",r[r.jma_msm=13]="jma_msm",r[r.jms_gsm=14]="jms_gsm",r[r.jma_gsm=15]="jma_gsm",r[r.gem_seamless=16]="gem_seamless",r[r.gem_global=17]="gem_global",r[r.gem_regional=18]="gem_regional",r[r.gem_hrdps_continental=19]="gem_hrdps_continental",r[r.icon_seamless=20]="icon_seamless",r[r.icon_global=21]="icon_global",r[r.icon_eu=22]="icon_eu",r[r.icon_d2=23]="icon_d2",r[r.ecmwf_ifs04=24]="ecmwf_ifs04",r[r.metno_nordic=25]="metno_nordic",r[r.era5_seamless=26]="era5_seamless",r[r.era5=27]="era5",r[r.cerra=28]="cerra",r[r.era5_land=29]="era5_land",r[r.ecmwf_ifs=30]="ecmwf_ifs",r[r.gwam=31]="gwam",r[r.ewam=32]="ewam",r[r.glofas_seamless_v3=33]="glofas_seamless_v3",r[r.glofas_forecast_v3=34]="glofas_forecast_v3",r[r.glofas_consolidated_v3=35]="glofas_consolidated_v3",r[r.glofas_seamless_v4=36]="glofas_seamless_v4",r[r.glofas_forecast_v4=37]="glofas_forecast_v4",r[r.glofas_consolidated_v4=38]="glofas_consolidated_v4",r[r.gfs025=39]="gfs025",r[r.gfs05=40]="gfs05",r[r.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",r[r.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",r[r.FGOALS_f3_H=43]="FGOALS_f3_H",r[r.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",r[r.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",r[r.EC_Earth3P_HR=46]="EC_Earth3P_HR",r[r.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",r[r.NICAM16_8S=48]="NICAM16_8S",r[r.cams_europe=49]="cams_europe",r[r.cams_global=50]="cams_global",r[r.cfsv2=51]="cfsv2",r[r.era5_ocean=52]="era5_ocean",r[r.cma_grapes_global=53]="cma_grapes_global",r[r.bom_access_global=54]="bom_access_global",r[r.bom_access_global_ensemble=55]="bom_access_global_ensemble",r[r.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",r[r.arpae_cosmo_2i=57]="arpae_cosmo_2i",r[r.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",r[r.arpae_cosmo_5m=59]="arpae_cosmo_5m",r[r.ecmwf_ifs025=60]="ecmwf_ifs025",r[r.ecmwf_aifs025=61]="ecmwf_aifs025",r[r.gfs013=62]="gfs013",r[r.gfs_graphcast025=63]="gfs_graphcast025",r[r.ecmwf_wam025=64]="ecmwf_wam025",r[r.meteofrance_wave=65]="meteofrance_wave",r[r.meteofrance_currents=66]="meteofrance_currents",r[r.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",r[r.ncep_gfswave025=68]="ncep_gfswave025",r[r.ncep_gefswave025=69]="ncep_gefswave025",r[r.knmi_seamless=70]="knmi_seamless",r[r.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",r[r.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",r[r.dmi_seamless=73]="dmi_seamless",r[r.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",r[r.metno_seamless=75]="metno_seamless",r[r.era5_ensemble=76]="era5_ensemble",r[r.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",r[r.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",r[r.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",r[r.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",r[r.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",r[r.ukmo_seamless=82]="ukmo_seamless",r[r.ncep_gfswave016=83]="ncep_gfswave016",r[r.ncep_nbm_conus=84]="ncep_nbm_conus",r[r.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",r[r.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",r[r.jma_jaxa_himawari=87]="jma_jaxa_himawari",r[r.eumetsat_sarah3=88]="eumetsat_sarah3",r[r.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",r[r.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",r[r.satellite_radiation_seamless=91]="satellite_radiation_seamless",r[r.kma_gdps=92]="kma_gdps",r[r.kma_ldps=93]="kma_ldps",r[r.kma_seamless=94]="kma_seamless",r[r.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",r[r.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",r[r.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",r[r.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",r[r.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",r[r.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",r[r.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",r[r.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",r[r.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",r[r.ncep_nam_conus=104]="ncep_nam_conus",r[r.icon_d2_ruc=105]="icon_d2_ruc",r[r.ecmwf_seas5=106]="ecmwf_seas5",r[r.ecmwf_ec46=107]="ecmwf_ec46",r[r.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",r[r.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",r[r.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",r[r.gem_hrdps_west=111]="gem_hrdps_west"})(o||(e.Model=o={}))})}),pa=je({"node_modules/@openmeteo/sdk/aggregation.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregation=void 0;var o;(function(r){r[r.none=0]="none",r[r.minimum=1]="minimum",r[r.maximum=2]="maximum",r[r.mean=3]="mean",r[r.p10=4]="p10",r[r.p25=5]="p25",r[r.median=6]="median",r[r.p75=7]="p75",r[r.p90=8]="p90",r[r.dominant=9]="dominant",r[r.sum=10]="sum",r[r.spread=11]="spread",r[r.anomaly=12]="anomaly",r[r.sot10=13]="sot10",r[r.sot90=14]="sot90",r[r.efi=15]="efi"})(o||(e.Aggregation=o={}))})}),ma=je({"node_modules/@openmeteo/sdk/probability.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Probability=void 0;var o;(function(r){r[r.none=0]="none",r[r.gt0=1]="gt0",r[r.gt0p1=2]="gt0p1",r[r.gt1=3]="gt1",r[r.gt2=4]="gt2",r[r.gt3=5]="gt3",r[r.gt4=6]="gt4",r[r.gt5=7]="gt5",r[r.gt8=8]="gt8",r[r.gt10=9]="gt10",r[r.gt15=10]="gt15",r[r.gt20=11]="gt20",r[r.gt25=12]="gt25",r[r.gt30=13]="gt30",r[r.gt35=14]="gt35",r[r.gt40=15]="gt40",r[r.gt50=16]="gt50",r[r.gt60=17]="gt60",r[r.gt75=18]="gt75",r[r.gt80=19]="gt80",r[r.gt100=20]="gt100",r[r.lt0=21]="lt0",r[r.lt0p1=22]="lt0p1",r[r.lt1=23]="lt1",r[r.ltm1=24]="ltm1",r[r.ltm2=25]="ltm2",r[r.ltm3=26]="ltm3",r[r.ltm4=27]="ltm4",r[r.ltm5=28]="ltm5",r[r.ltm8=29]="ltm8",r[r.ltm10=30]="ltm10",r[r.ltm15=31]="ltm15",r[r.ltm20=32]="ltm20",r[r.gt1stdev=33]="gt1stdev",r[r.gt1p5stdev=34]="gt1p5stdev",r[r.gt2stdev=35]="gt2stdev",r[r.lt1stdev=36]="lt1stdev",r[r.lt1p5stdev=37]="lt1p5stdev",r[r.lt2stdev=38]="lt2stdev"})(o||(e.Probability=o={}))})}),ha=je({"node_modules/@openmeteo/sdk/unit.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unit=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.celsius=1]="celsius",r[r.centimetre=2]="centimetre",r[r.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",r[r.cubic_metre_per_second=4]="cubic_metre_per_second",r[r.degree_direction=5]="degree_direction",r[r.dimensionless_integer=6]="dimensionless_integer",r[r.dimensionless=7]="dimensionless",r[r.european_air_quality_index=8]="european_air_quality_index",r[r.fahrenheit=9]="fahrenheit",r[r.feet=10]="feet",r[r.fraction=11]="fraction",r[r.gdd_celsius=12]="gdd_celsius",r[r.geopotential_metre=13]="geopotential_metre",r[r.grains_per_cubic_metre=14]="grains_per_cubic_metre",r[r.gram_per_kilogram=15]="gram_per_kilogram",r[r.hectopascal=16]="hectopascal",r[r.hours=17]="hours",r[r.inch=18]="inch",r[r.iso8601=19]="iso8601",r[r.joule_per_kilogram=20]="joule_per_kilogram",r[r.kelvin=21]="kelvin",r[r.kilopascal=22]="kilopascal",r[r.kilogram_per_square_metre=23]="kilogram_per_square_metre",r[r.kilometres_per_hour=24]="kilometres_per_hour",r[r.knots=25]="knots",r[r.megajoule_per_square_metre=26]="megajoule_per_square_metre",r[r.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",r[r.metre_per_second=28]="metre_per_second",r[r.metre=29]="metre",r[r.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",r[r.miles_per_hour=31]="miles_per_hour",r[r.millimetre=32]="millimetre",r[r.pascal=33]="pascal",r[r.per_second=34]="per_second",r[r.percentage=35]="percentage",r[r.seconds=36]="seconds",r[r.unix_time=37]="unix_time",r[r.us_air_quality_index=38]="us_air_quality_index",r[r.watt_per_square_metre=39]="watt_per_square_metre",r[r.wmo_code=40]="wmo_code",r[r.parts_per_million=41]="parts_per_million",r[r.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(o||(e.Unit=o={}))})}),xa=je({"node_modules/@openmeteo/sdk/variable.js":(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.apparent_temperature=1]="apparent_temperature",r[r.cape=2]="cape",r[r.cloud_cover=3]="cloud_cover",r[r.cloud_cover_high=4]="cloud_cover_high",r[r.cloud_cover_low=5]="cloud_cover_low",r[r.cloud_cover_mid=6]="cloud_cover_mid",r[r.daylight_duration=7]="daylight_duration",r[r.dew_point=8]="dew_point",r[r.diffuse_radiation=9]="diffuse_radiation",r[r.diffuse_radiation_instant=10]="diffuse_radiation_instant",r[r.direct_normal_irradiance=11]="direct_normal_irradiance",r[r.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",r[r.direct_radiation=13]="direct_radiation",r[r.direct_radiation_instant=14]="direct_radiation_instant",r[r.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",r[r.evapotranspiration=16]="evapotranspiration",r[r.freezing_level_height=17]="freezing_level_height",r[r.growing_degree_days=18]="growing_degree_days",r[r.is_day=19]="is_day",r[r.latent_heat_flux=20]="latent_heat_flux",r[r.leaf_wetness_probability=21]="leaf_wetness_probability",r[r.lifted_index=22]="lifted_index",r[r.lightning_potential=23]="lightning_potential",r[r.precipitation=24]="precipitation",r[r.precipitation_hours=25]="precipitation_hours",r[r.precipitation_probability=26]="precipitation_probability",r[r.pressure_msl=27]="pressure_msl",r[r.rain=28]="rain",r[r.relative_humidity=29]="relative_humidity",r[r.runoff=30]="runoff",r[r.sensible_heat_flux=31]="sensible_heat_flux",r[r.shortwave_radiation=32]="shortwave_radiation",r[r.shortwave_radiation_instant=33]="shortwave_radiation_instant",r[r.showers=34]="showers",r[r.snow_depth=35]="snow_depth",r[r.snow_height=36]="snow_height",r[r.snowfall=37]="snowfall",r[r.snowfall_height=38]="snowfall_height",r[r.snowfall_water_equivalent=39]="snowfall_water_equivalent",r[r.sunrise=40]="sunrise",r[r.sunset=41]="sunset",r[r.soil_moisture=42]="soil_moisture",r[r.soil_moisture_index=43]="soil_moisture_index",r[r.soil_temperature=44]="soil_temperature",r[r.surface_pressure=45]="surface_pressure",r[r.surface_temperature=46]="surface_temperature",r[r.temperature=47]="temperature",r[r.terrestrial_radiation=48]="terrestrial_radiation",r[r.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",r[r.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",r[r.updraft=51]="updraft",r[r.uv_index=52]="uv_index",r[r.uv_index_clear_sky=53]="uv_index_clear_sky",r[r.vapour_pressure_deficit=54]="vapour_pressure_deficit",r[r.visibility=55]="visibility",r[r.weather_code=56]="weather_code",r[r.wind_direction=57]="wind_direction",r[r.wind_gusts=58]="wind_gusts",r[r.wind_speed=59]="wind_speed",r[r.vertical_velocity=60]="vertical_velocity",r[r.geopotential_height=61]="geopotential_height",r[r.wet_bulb_temperature=62]="wet_bulb_temperature",r[r.river_discharge=63]="river_discharge",r[r.wave_height=64]="wave_height",r[r.wave_period=65]="wave_period",r[r.wave_direction=66]="wave_direction",r[r.wind_wave_height=67]="wind_wave_height",r[r.wind_wave_period=68]="wind_wave_period",r[r.wind_wave_peak_period=69]="wind_wave_peak_period",r[r.wind_wave_direction=70]="wind_wave_direction",r[r.swell_wave_height=71]="swell_wave_height",r[r.swell_wave_period=72]="swell_wave_period",r[r.swell_wave_peak_period=73]="swell_wave_peak_period",r[r.swell_wave_direction=74]="swell_wave_direction",r[r.pm10=75]="pm10",r[r.pm2p5=76]="pm2p5",r[r.dust=77]="dust",r[r.aerosol_optical_depth=78]="aerosol_optical_depth",r[r.carbon_monoxide=79]="carbon_monoxide",r[r.nitrogen_dioxide=80]="nitrogen_dioxide",r[r.ammonia=81]="ammonia",r[r.ozone=82]="ozone",r[r.sulphur_dioxide=83]="sulphur_dioxide",r[r.alder_pollen=84]="alder_pollen",r[r.birch_pollen=85]="birch_pollen",r[r.grass_pollen=86]="grass_pollen",r[r.mugwort_pollen=87]="mugwort_pollen",r[r.olive_pollen=88]="olive_pollen",r[r.ragweed_pollen=89]="ragweed_pollen",r[r.european_aqi=90]="european_aqi",r[r.european_aqi_pm2p5=91]="european_aqi_pm2p5",r[r.european_aqi_pm10=92]="european_aqi_pm10",r[r.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",r[r.european_aqi_ozone=94]="european_aqi_ozone",r[r.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",r[r.us_aqi=96]="us_aqi",r[r.us_aqi_pm2p5=97]="us_aqi_pm2p5",r[r.us_aqi_pm10=98]="us_aqi_pm10",r[r.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",r[r.us_aqi_ozone=100]="us_aqi_ozone",r[r.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",r[r.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",r[r.sunshine_duration=103]="sunshine_duration",r[r.convective_inhibition=104]="convective_inhibition",r[r.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",r[r.global_tilted_irradiance=106]="global_tilted_irradiance",r[r.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",r[r.ocean_current_velocity=108]="ocean_current_velocity",r[r.ocean_current_direction=109]="ocean_current_direction",r[r.cloud_base=110]="cloud_base",r[r.cloud_top=111]="cloud_top",r[r.mass_density=112]="mass_density",r[r.boundary_layer_height=113]="boundary_layer_height",r[r.formaldehyde=114]="formaldehyde",r[r.glyoxal=115]="glyoxal",r[r.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",r[r.pm10_wildfires=117]="pm10_wildfires",r[r.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",r[r.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",r[r.residential_elementary_carbon=120]="residential_elementary_carbon",r[r.total_elementary_carbon=121]="total_elementary_carbon",r[r.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",r[r.sea_salt_aerosol=123]="sea_salt_aerosol",r[r.nitrogen_monoxide=124]="nitrogen_monoxide",r[r.thunderstorm_probability=125]="thunderstorm_probability",r[r.rain_probability=126]="rain_probability",r[r.freezing_rain_probability=127]="freezing_rain_probability",r[r.ice_pellets_probability=128]="ice_pellets_probability",r[r.snowfall_probability=129]="snowfall_probability",r[r.carbon_dioxide=130]="carbon_dioxide",r[r.methane=131]="methane",r[r.sea_level_height_msl=132]="sea_level_height_msl",r[r.sea_surface_temperature=133]="sea_surface_temperature",r[r.invert_barometer_height=134]="invert_barometer_height",r[r.hail=135]="hail",r[r.albedo=136]="albedo",r[r.precipitation_type=137]="precipitation_type",r[r.convective_cloud_base=138]="convective_cloud_base",r[r.convective_cloud_top=139]="convective_cloud_top",r[r.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",r[r.secondary_swell_wave_height=141]="secondary_swell_wave_height",r[r.secondary_swell_wave_period=142]="secondary_swell_wave_period",r[r.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",r[r.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",r[r.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",r[r.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",r[r.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",r[r.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",r[r.wind_u_component=149]="wind_u_component",r[r.wind_v_component=150]="wind_v_component",r[r.temperature_max24h=151]="temperature_max24h",r[r.temperature_min24h=152]="temperature_min24h",r[r.temperature_mean24h=153]="temperature_mean24h",r[r.snow_density=154]="snow_density",r[r.longwave_radiation=155]="longwave_radiation",r[r.sea_ice_cover=156]="sea_ice_cover",r[r.k_index=157]="k_index",r[r.roughness_length=158]="roughness_length",r[r.potential_evapotranspiration=159]="potential_evapotranspiration",r[r.wave_peak_period=160]="wave_peak_period",r[r.temperature_max6h=161]="temperature_max6h",r[r.temperature_min6h=162]="temperature_min6h"})(o||(e.Variable=o={}))})}),Or=je({"node_modules/@openmeteo/sdk/variable-with-values.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(c,u,b,k){k===void 0&&(k=b);var T=Object.getOwnPropertyDescriptor(u,b);(!T||("get"in T?!u.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return u[b]}}),Object.defineProperty(c,k,T)}):(function(c,u,b,k){k===void 0&&(k=b),c[k]=u[b]})),r=e&&e.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),s=e&&e.__importStar||(function(){var c=function(u){return c=Object.getOwnPropertyNames||function(b){var k=[];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(k[k.length]=T);return k},c(u)};return function(u){if(u&&u.__esModule)return u;var b={};if(u!=null)for(var k=c(u),T=0;T<k.length;T++)k[T]!=="default"&&o(b,u,k[T]);return r(b,u),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWithValues=void 0;var d=s((ht(),ut(mt))),l=pa(),a=ma(),m=ha(),n=xa(),g=class Ot{constructor(){this.bb=null,this.bb_pos=0}__init(u,b){return this.bb_pos=u,this.bb=b,this}static getRootAsVariableWithValues(u,b){return(b||new Ot).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsVariableWithValues(u,b){return u.setPosition(u.position()+d.SIZE_PREFIX_LENGTH),(b||new Ot).__init(u.readInt32(u.position())+u.position(),u)}variable(){const u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint8(this.bb_pos+u):n.Variable.undefined}unit(){const u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint8(this.bb_pos+u):m.Unit.undefined}value(){const u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readFloat32(this.bb_pos+u):0}values(u){const b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+u*4):0}valuesLength(){const u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__vector_len(this.bb_pos+u):0}valuesArray(){const u=this.bb.__offset(this.bb_pos,10);return u?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}valuesInt64(u){const b=this.bb.__offset(this.bb_pos,12);return b?this.bb.readInt64(this.bb.__vector(this.bb_pos+b)+u*8):BigInt(0)}valuesInt64Length(){const u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}altitude(){const u=this.bb.__offset(this.bb_pos,14);return u?this.bb.readInt16(this.bb_pos+u):0}aggregation(){const u=this.bb.__offset(this.bb_pos,16);return u?this.bb.readUint8(this.bb_pos+u):l.Aggregation.none}pressureLevel(){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.readInt16(this.bb_pos+u):0}depth(){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readInt16(this.bb_pos+u):0}depthTo(){const u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt16(this.bb_pos+u):0}ensembleMember(){const u=this.bb.__offset(this.bb_pos,24);return u?this.bb.readInt16(this.bb_pos+u):0}previousDay(){const u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt16(this.bb_pos+u):0}probability(){const u=this.bb.__offset(this.bb_pos,28);return u?this.bb.readUint8(this.bb_pos+u):a.Probability.none}};e.VariableWithValues=g})}),ga=je({"node_modules/@openmeteo/sdk/variables-with-month.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(m,n,g,c){c===void 0&&(c=g);var u=Object.getOwnPropertyDescriptor(n,g);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[g]}}),Object.defineProperty(m,c,u)}):(function(m,n,g,c){c===void 0&&(c=g),m[c]=n[g]})),r=e&&e.__setModuleDefault||(Object.create?(function(m,n){Object.defineProperty(m,"default",{enumerable:!0,value:n})}):function(m,n){m.default=n}),s=e&&e.__importStar||(function(){var m=function(n){return m=Object.getOwnPropertyNames||function(g){var c=[];for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(c[c.length]=u);return c},m(n)};return function(n){if(n&&n.__esModule)return n;var g={};if(n!=null)for(var c=m(n),u=0;u<c.length;u++)c[u]!=="default"&&o(g,n,c[u]);return r(g,n),g}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithMonth=void 0;var d=s((ht(),ut(mt))),l=Or(),a=class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(n,g){return this.bb_pos=n,this.bb=g,this}static getRootAsVariablesWithMonth(n,g){return(g||new Ht).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsVariablesWithMonth(n,g){return n.setPosition(n.position()+d.SIZE_PREFIX_LENGTH),(g||new Ht).__init(n.readInt32(n.position())+n.position(),n)}year(){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt16(this.bb_pos+n):0}month(){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt8(this.bb_pos+n):0}count(){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):0}variables(n,g){const c=this.bb.__offset(this.bb_pos,10);return c?(g||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+n*4),this.bb):null}variablesLength(){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__vector_len(this.bb_pos+n):0}};e.VariablesWithMonth=a})}),ba=je({"node_modules/@openmeteo/sdk/variables-with-time.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(m,n,g,c){c===void 0&&(c=g);var u=Object.getOwnPropertyDescriptor(n,g);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[g]}}),Object.defineProperty(m,c,u)}):(function(m,n,g,c){c===void 0&&(c=g),m[c]=n[g]})),r=e&&e.__setModuleDefault||(Object.create?(function(m,n){Object.defineProperty(m,"default",{enumerable:!0,value:n})}):function(m,n){m.default=n}),s=e&&e.__importStar||(function(){var m=function(n){return m=Object.getOwnPropertyNames||function(g){var c=[];for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(c[c.length]=u);return c},m(n)};return function(n){if(n&&n.__esModule)return n;var g={};if(n!=null)for(var c=m(n),u=0;u<c.length;u++)c[u]!=="default"&&o(g,n,c[u]);return r(g,n),g}})();Object.defineProperty(e,"__esModule",{value:!0}),e.VariablesWithTime=void 0;var d=s((ht(),ut(mt))),l=Or(),a=class Gt{constructor(){this.bb=null,this.bb_pos=0}__init(n,g){return this.bb_pos=n,this.bb=g,this}static getRootAsVariablesWithTime(n,g){return(g||new Gt).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsVariablesWithTime(n,g){return n.setPosition(n.position()+d.SIZE_PREFIX_LENGTH),(g||new Gt).__init(n.readInt32(n.position())+n.position(),n)}time(){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt64(this.bb_pos+n):BigInt("0")}timeEnd(){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):BigInt("0")}interval(){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):0}variables(n,g){const c=this.bb.__offset(this.bb_pos,10);return c?(g||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+n*4),this.bb):null}variablesLength(){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__vector_len(this.bb_pos+n):0}};e.VariablesWithTime=a})}),fa=je({"node_modules/@openmeteo/sdk/weather-api-response.js":(e=>{var o=e&&e.__createBinding||(Object.create?(function(g,c,u,b){b===void 0&&(b=u);var k=Object.getOwnPropertyDescriptor(c,u);(!k||("get"in k?!c.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(g,b,k)}):(function(g,c,u,b){b===void 0&&(b=u),g[b]=c[u]})),r=e&&e.__setModuleDefault||(Object.create?(function(g,c){Object.defineProperty(g,"default",{enumerable:!0,value:c})}):function(g,c){g.default=c}),s=e&&e.__importStar||(function(){var g=function(c){return g=Object.getOwnPropertyNames||function(u){var b=[];for(var k in u)Object.prototype.hasOwnProperty.call(u,k)&&(b[b.length]=k);return b},g(c)};return function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var b=g(c),k=0;k<b.length;k++)b[k]!=="default"&&o(u,c,b[k]);return r(u,c),u}})();Object.defineProperty(e,"__esModule",{value:!0}),e.WeatherApiResponse=void 0;var d=s((ht(),ut(mt))),l=ua(),a=ga(),m=ba(),n=class qt{constructor(){this.bb=null,this.bb_pos=0}__init(c,u){return this.bb_pos=c,this.bb=u,this}static getRootAsWeatherApiResponse(c,u){return(u||new qt).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsWeatherApiResponse(c,u){return c.setPosition(c.position()+d.SIZE_PREFIX_LENGTH),(u||new qt).__init(c.readInt32(c.position())+c.position(),c)}latitude(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readFloat32(this.bb_pos+c):0}longitude(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readFloat32(this.bb_pos+c):0}elevation(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readFloat32(this.bb_pos+c):0}generationTimeMilliseconds(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readFloat32(this.bb_pos+c):0}locationId(){const c=this.bb.__offset(this.bb_pos,12);return c?this.bb.readInt64(this.bb_pos+c):BigInt("0")}model(){const c=this.bb.__offset(this.bb_pos,14);return c?this.bb.readUint8(this.bb_pos+c):l.Model.undefined}utcOffsetSeconds(){const c=this.bb.__offset(this.bb_pos,16);return c?this.bb.readInt32(this.bb_pos+c):0}timezone(c){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,c):null}timezoneAbbreviation(c){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,c):null}current(c){const u=this.bb.__offset(this.bb_pos,22);return u?(c||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}daily(c){const u=this.bb.__offset(this.bb_pos,24);return u?(c||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}hourly(c){const u=this.bb.__offset(this.bb_pos,26);return u?(c||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}minutely15(c){const u=this.bb.__offset(this.bb_pos,28);return u?(c||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}monthly(c){const u=this.bb.__offset(this.bb_pos,30);return u?(c||new a.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}};e.WeatherApiResponse=n})}),ya=je({"node_modules/openmeteo/lib/index.js":(e=>{var o=e&&e.__awaiter||function(m,n,g,c){function u(b){return b instanceof g?b:new g(function(k){k(b)})}return new(g||(g=Promise))(function(b,k){function T(x){try{y(c.next(x))}catch(_){k(_)}}function C(x){try{y(c.throw(x))}catch(_){k(_)}}function y(x){x.done?b(x.value):u(x.value).then(T,C)}y((c=c.apply(m,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWeatherApi=a;var r=(ht(),ut(mt)),s=fa(),d=m=>new Promise(n=>setTimeout(n,m));function l(m){return o(this,arguments,void 0,function*(n,g=3,c=.5,u=2,b={}){const k=[500,502,504],T=[400,429];let C=0,y=yield fetch(n,b);for(;k.includes(y.status);){if(C++,C>=g)throw new Error(y.statusText);yield d(Math.min(c*Math.pow(2,C),u)*1e3),y=yield fetch(n,b)}if(T.includes(y.status)){const x=yield y.json();throw"reason"in x?new Error(x.reason):new Error(y.statusText)}return y})}function a(m,n){return o(this,arguments,void 0,function*(g,c,u=3,b=.2,k=2,T={}){const C=new URLSearchParams(c);C.set("format","flatbuffers");const y=yield l(`${g}?${C.toString()}`,u,b,k,T),x=new r.ByteBuffer(new Uint8Array(yield y.arrayBuffer())),_=[];let w=0;for(;w<x.capacity();){x.setPosition(w);const N=x.readInt32(x.position());_.push(s.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(x)),w+=N+4}return _})}})}),re=vr(sa(),1),cr=ya(),zt={current:{temperature:72,condition:"Partly Cloudy",humidity:65,wind:12,feelsLike:70,uvIndex:6,cloudCover:45,pressure:1013,visibility:10,sunrise:"6:45 AM",sunset:"7:30 PM",icon:"partly-cloudy"},forecast:[{day:"Mon",date:"Jan 6",high:75,low:58,condition:"Sunny",precipitation:0,wind:8,uvIndex:7,humidity:55,sunrise:"6:46 AM",sunset:"7:31 PM",icon:"sunny"},{day:"Tue",date:"Jan 7",high:72,low:60,condition:"Cloudy",precipitation:10,wind:10,uvIndex:4,humidity:70,sunrise:"6:46 AM",sunset:"7:32 PM",icon:"cloudy"},{day:"Wed",date:"Jan 8",high:68,low:55,condition:"Rainy",precipitation:80,wind:15,uvIndex:2,humidity:85,sunrise:"6:47 AM",sunset:"7:33 PM",icon:"rainy"},{day:"Thu",date:"Jan 9",high:70,low:57,condition:"Partly Cloudy",precipitation:20,wind:12,uvIndex:5,humidity:65,sunrise:"6:47 AM",sunset:"7:34 PM",icon:"partly-cloudy"},{day:"Fri",date:"Jan 10",high:74,low:59,condition:"Sunny",precipitation:0,wind:7,uvIndex:8,humidity:50,sunrise:"6:48 AM",sunset:"7:35 PM",icon:"sunny"},{day:"Sat",date:"Jan 11",high:76,low:61,condition:"Sunny",precipitation:0,wind:9,uvIndex:8,humidity:48,sunrise:"6:48 AM",sunset:"7:36 PM",icon:"sunny"},{day:"Sun",date:"Jan 12",high:73,low:60,condition:"Partly Cloudy",precipitation:15,wind:11,uvIndex:6,humidity:60,sunrise:"6:49 AM",sunset:"7:37 PM",icon:"partly-cloudy"}],alerts:[]},dr={0:{condition:"Clear",icon:"clear"},1:{condition:"Partly Cloudy",icon:"partly-cloudy"},2:{condition:"Partly Cloudy",icon:"partly-cloudy"},3:{condition:"Partly Cloudy",icon:"partly-cloudy"},45:{condition:"Fog",icon:"fog"},48:{condition:"Fog",icon:"fog"},51:{condition:"Drizzle",icon:"drizzle"},53:{condition:"Drizzle",icon:"drizzle"},55:{condition:"Drizzle",icon:"drizzle"},56:{condition:"Drizzle",icon:"drizzle"},57:{condition:"Drizzle",icon:"drizzle"},61:{condition:"Rain",icon:"rain"},63:{condition:"Rain",icon:"rain"},65:{condition:"Rain",icon:"rain"},66:{condition:"Rain",icon:"rain"},67:{condition:"Rain",icon:"rain"},71:{condition:"Snow",icon:"snow"},73:{condition:"Snow",icon:"snow"},75:{condition:"Snow",icon:"snow"},77:{condition:"Snow",icon:"snow"},80:{condition:"Rain",icon:"rain"},81:{condition:"Rain",icon:"rain"},82:{condition:"Rain",icon:"rain"},85:{condition:"Snow",icon:"snow"},86:{condition:"Snow",icon:"snow"},95:{condition:"Thunderstorm",icon:"thunderstorm"},96:{condition:"Thunderstorm",icon:"thunderstorm"},99:{condition:"Thunderstorm",icon:"thunderstorm"}},Oe=e=>dr[e]?dr[e]:e<=3?{condition:"Partly Cloudy",icon:"partly-cloudy"}:e<=48?{condition:"Fog",icon:"fog"}:e<=57?{condition:"Drizzle",icon:"drizzle"}:e<=67?{condition:"Rain",icon:"rain"}:e<=77?{condition:"Snow",icon:"snow"}:e<=82?{condition:"Rain",icon:"rain"}:e<=86?{condition:"Snow",icon:"snow"}:e>=95?{condition:"Thunderstorm",icon:"thunderstorm"}:{condition:"Cloudy",icon:"clouds"},He=({condition:e,animate:o,greyscale:r,size:s=32,theme:d})=>{const l=d||O,a=r?"#94A3B8":"#F59E0B",m=l?.colors?r?l.colors.softSlate||"#94A3B8":l.colors.sunburstGold||"#F59E0B":a,n={size:s,className:`${o?"animate-pulse":""} ${r?"grayscale":""}`,style:{color:m},"aria-hidden":!0},g=(k,T)=>l?.colors?.[k]||T,c={sunny:(0,t.jsx)(or,{...n}),clear:(0,t.jsx)(or,{...n}),rainy:(0,t.jsx)(tr,{...n,style:{...n.style,color:g("cosmicBlue","#3B82F6")}}),rain:(0,t.jsx)(tr,{...n,style:{...n.style,color:g("cosmicBlue","#3B82F6")}}),drizzle:(0,t.jsx)(go,{...n,style:{...n.style,color:g("aetherTeal","#06B6D4")}}),cloudy:(0,t.jsx)(Ve,{...n,style:{...n.style,color:g("softSlate","#94A3B8")}}),clouds:(0,t.jsx)(Ve,{...n,style:{...n.style,color:g("softSlate","#94A3B8")}}),"partly-cloudy":(0,t.jsx)(Ct,{...n,style:{...n.style,color:g("aetherTeal","#06B6D4")}}),snow:(0,t.jsx)(mo,{...n,style:{...n.style,color:g("stardustWhite","#F8F9FF")}}),thunderstorm:(0,t.jsx)(io,{...n,style:{...n.style,color:g("electricPurple","#8B5CF6")}}),mist:(0,t.jsx)(ft,{...n,style:{...n.style,color:g("softSlate","#94A3B8")}}),fog:(0,t.jsx)(ft,{...n,style:{...n.style,color:g("softSlate","#94A3B8")}}),haze:(0,t.jsx)(ft,{...n,style:{...n.style,color:g("softSlate","#94A3B8")}}),smoke:(0,t.jsx)(ft,{...n,style:{...n.style,color:g("graphite","#1F2937")}}),dust:(0,t.jsx)(Ae,{...n,style:{...n.style,color:g("sunburstGold","#F59E0B")}}),sand:(0,t.jsx)(Ae,{...n,style:{...n.style,color:g("sunburstGold","#F59E0B")}}),tornado:(0,t.jsx)(Ae,{...n,style:{...n.style,color:g("electricPurple","#8B5CF6")}})},u=e?.toLowerCase()||"partly-cloudy",b=`Weather condition: ${e||"Partly Cloudy"}`;return(0,t.jsx)("span",{role:"img","aria-label":b,children:c[u]||(0,t.jsx)(Ct,{...n,style:{...n.style,color:g("aetherTeal","#06B6D4")}})})},va=({orientation:e="auto"})=>e==="compact"?(0,t.jsxs)("div",{className:"animate-pulse flex items-center gap-2 p-2",role:"status","aria-label":"Loading weather data",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-16"}),(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="horizontal"?(0,t.jsxs)("div",{className:"animate-pulse flex items-center justify-between w-full p-3",role:"status","aria-label":"Loading weather data",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded w-20"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"}),(0,t.jsx)("div",{className:"h-3 bg-gray-300 rounded w-20"})]}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-28"}),(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})]}):e==="wide"?(0,t.jsxs)("div",{className:"animate-pulse space-y-4 p-4",role:"status","aria-label":"Loading weather data",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-full"}),(0,t.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24"})]}),(0,t.jsx)("div",{className:"h-5 bg-gray-300 rounded w-28"})]}),(0,t.jsx)("div",{className:"flex justify-between gap-4",children:[...Array(5)].map((o,r)=>(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-16"},r))}),(0,t.jsx)("div",{className:"flex gap-2 overflow-hidden",children:[...Array(6)].map((o,r)=>(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-20 bg-gray-300 rounded"},r))}),(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})]}):(0,t.jsxs)("div",{className:"animate-pulse space-y-4",role:"status","aria-label":"Loading weather data","aria-live":"polite",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"})]}),(0,t.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24 mb-2"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,t.jsx)("span",{className:"sr-only",children:"Loading weather data..."})]}),wa=({alert:e})=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 mb-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeftColor:"#EF4444",color:"#DC2626"},children:[(0,t.jsx)(At,{size:24,className:"flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm mb-1",children:e.event}),(0,t.jsx)("div",{className:"text-xs opacity-90",children:e.description})]})]});const Hr=({config:e,onCustomizeRequest:o})=>{let r;try{r=pt()?.theme||O}catch{r=O}const s=r,[d,l]=(0,h.useState)(null),[a,m]=(0,h.useState)(!0),[n,g]=(0,h.useState)(null),[c,u]=(0,h.useState)(null),[b,k]=(0,h.useState)(e.weatherLocation),[T,C]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{!e.useGeolocation&&e.weatherLocation!==b&&k(e.weatherLocation)},[e.weatherLocation,e.useGeolocation,b]);const y=(0,h.useCallback)(async(S,L={})=>{const{signal:W}=L;m(!0),g(null),u(null);try{const ne=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(S)}&count=1&language=en&format=json`,{signal:W});if(!ne.ok)throw new Error("Location not found");const p=await ne.json();if(!p.results||p.results.length===0)throw new Error("Location not found");const{latitude:j,longitude:F,name:M,admin1:R,country:Q}=p.results[0];k(R?`${M}, ${R}`:`${M}, ${Q}`);const X=(await(0,cr.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:j,longitude:F,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],A=X.current(),be=X.utcOffsetSeconds(),ce=X.timezone(),se=ee=>{if(!ee)return null;try{return ee.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:ce||void 0})}catch{return ee.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},K={current:{temperature:Math.round(A.variables(0).value()),condition:Oe(A.variables(3).value()).condition,humidity:Math.round(A.variables(1).value()),wind:Math.round(A.variables(4).value()),feelsLike:Math.round(A.variables(2).value()),cloudCover:Math.round(A.variables(5).value()),pressure:Math.round(A.variables(6).value()),visibility:Math.round(A.variables(7).value()/1e3),uvIndex:0,icon:Oe(A.variables(3).value()).icon},forecast:[]},me=X.daily(),J=Math.min(e.numberOfDays+1,10),we=me.variables(7),ue=me.variables(8);for(let ee=0;ee<J;ee++){const Re=Number(me.time())+ee*me.interval(),v=new Date((Re+be)*1e3);let B=null,I=null;try{if(we){const H=Number(we.valuesInt64(ee));H>0&&(B=new Date(H*1e3))}if(ue){const H=Number(ue.valuesInt64(ee));H>0&&(I=new Date(H*1e3))}}catch(H){console.warn("Error parsing sunrise/sunset:",H)}K.forecast.push({day:v.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?v.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(me.variables(1).valuesArray()[ee]),low:Math.round(me.variables(2).valuesArray()[ee]),condition:Oe(me.variables(0).valuesArray()[ee]).condition,precipitation:Math.round(me.variables(3).valuesArray()[ee]||0),wind:Math.round(me.variables(4).valuesArray()[ee]),uvIndex:Math.round(me.variables(5).valuesArray()[ee]||0),humidity:Math.round(me.variables(6).valuesArray()[ee]||0),sunrise:se(B),sunset:se(I),icon:Oe(me.variables(0).valuesArray()[ee]).icon}),ee===0&&(K.current.uvIndex=Math.round(me.variables(5).valuesArray()[ee]||0),K.current.sunrise=se(B),K.current.sunset=se(I))}K.alerts=[],l(K),m(!1)}catch(ne){ne.name!=="AbortError"&&(console.error("Weather fetch error:",ne),g(ne.message),l(zt),m(!1))}},[e.preferredUnits,e.numberOfDays,e.displayDates]),x=(0,h.useCallback)(async(S,L,W,ne={})=>{const{signal:p}=ne;if(!p?.aborted){m(!0),g(null),u(null);try{const j=(await(0,cr.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:S,longitude:L,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:e.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:e.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:e.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],F=j.current(),M=j.utcOffsetSeconds(),R=j.timezone(),Q=K=>{if(!K)return null;try{return K.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:R||void 0})}catch{return K.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},X={current:{temperature:Math.round(F.variables(0).value()),condition:Oe(F.variables(3).value()).condition,humidity:Math.round(F.variables(1).value()),wind:Math.round(F.variables(4).value()),feelsLike:Math.round(F.variables(2).value()),cloudCover:Math.round(F.variables(5).value()),pressure:Math.round(F.variables(6).value()),visibility:Math.round(F.variables(7).value()/1e3),uvIndex:0,icon:Oe(F.variables(3).value()).icon},forecast:[],alerts:[]},A=j.daily(),be=Math.min(e.numberOfDays+1,10),ce=A.variables(7),se=A.variables(8);for(let K=0;K<be;K++){const me=Number(A.time())+K*A.interval(),J=new Date((me+M)*1e3);let we=null,ue=null;try{if(ce){const ee=Number(ce.valuesInt64(K));ee>0&&(we=new Date(ee*1e3))}if(se){const ee=Number(se.valuesInt64(K));ee>0&&(ue=new Date(ee*1e3))}}catch(ee){console.warn("Error parsing sunrise/sunset:",ee)}X.forecast.push({day:J.toLocaleDateString("en-US",{weekday:"short"}),date:e.displayDates?J.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(A.variables(1).valuesArray()[K]),low:Math.round(A.variables(2).valuesArray()[K]),condition:Oe(A.variables(0).valuesArray()[K]).condition,precipitation:Math.round(A.variables(3).valuesArray()[K]||0),wind:Math.round(A.variables(4).valuesArray()[K]),uvIndex:Math.round(A.variables(5).valuesArray()[K]||0),humidity:Math.round(A.variables(6).valuesArray()[K]||0),sunrise:Q(we),sunset:Q(ue),icon:Oe(A.variables(0).valuesArray()[K]).icon}),K===0&&(X.current.uvIndex=Math.round(A.variables(5).valuesArray()[K]||0),X.current.sunrise=Q(we),X.current.sunset=Q(ue))}k(W),l(X),m(!1)}catch(j){j.name!=="AbortError"&&(console.error("Weather fetch error:",j),g(j.message),l(zt),m(!1))}}},[e.preferredUnits,e.numberOfDays,e.displayDates]),_=(0,h.useCallback)((S={})=>{const{signal:L}=S;if(!navigator.geolocation){u("Geolocation is not supported by your browser");return}m(!0),u(null),navigator.geolocation.getCurrentPosition(async W=>{if(!L?.aborted)try{const{latitude:ne,longitude:p}=W.coords,j=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${ne}&longitude=${p}&localityLanguage=en`,{signal:L});let F=`${ne.toFixed(2)}, ${p.toFixed(2)}`;if(j.ok){const M=await j.json(),R=M.city||M.locality||M.principalSubdivision,Q=M.principalSubdivision||M.countryName;R&&Q&&R!==Q?F=`${R}, ${Q}`:R?F=R:M.countryName&&(F=M.countryName)}k(F),x(ne,p,F,{signal:L})}catch(ne){if(ne.name!=="AbortError"){const{latitude:p,longitude:j}=W.coords,F=`${p.toFixed(2)}, ${j.toFixed(2)}`;k(F),x(p,j,F,{signal:L})}}},W=>{let ne="Unable to retrieve your location.";switch(W.code){case W.PERMISSION_DENIED:ne="Location access denied. Please enable location permissions in your browser settings.";break;case W.POSITION_UNAVAILABLE:ne="Location information is unavailable. Please try again later.";break;case W.TIMEOUT:ne="Location request timed out. Please try again.";break;default:ne="An unknown error occurred while getting your location."}u(ne),m(!1)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[x]);(0,h.useEffect)(()=>{const S=new AbortController;return e.useGeolocation?_({signal:S.signal}):y(b,{signal:S.signal}),()=>S.abort()},[e.preferredUnits,e.useGeolocation,b,_,y]),(0,h.useEffect)(()=>{const S=new AbortController,L=setInterval(()=>{e.useGeolocation?_({signal:S.signal}):y(b,{signal:S.signal})},6e5);return()=>{clearInterval(L),S.abort()}},[b,e.useGeolocation,_,y]),(0,h.useEffect)(()=>{if(e.googleFont!=="none"){const S=document.createElement("link");return S.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`,S.rel="stylesheet",document.head.appendChild(S),()=>{try{S&&document.head.contains(S)&&document.head.removeChild(S)}catch{}}}},[e.googleFont]),(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const S=window.matchMedia("(prefers-color-scheme: dark)"),L=W=>C(W.matches);return S.addEventListener("change",L),()=>S.removeEventListener("change",L)},[e.appearanceMode]);const w=(0,h.useMemo)(()=>e.appearanceMode==="system"?T:e.appearanceMode==="dark",[e.appearanceMode,T]),N=w?e.textColorDark||e.theme?.dark?.textColor||s.colors.stardustWhite:e.textColorLight||e.theme?.light?.textColor||s.colors.graphite,f=(0,h.useMemo)(()=>{if(e.googleFont&&e.googleFont!=="none")return`"${String(e.googleFont).replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return s?.fonts?.body||'"Montserrat", system-ui, sans-serif'}},[e.googleFont,e.textFontFamily,s]),D=(0,h.useMemo)(()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",[e.backgroundTexture]),z=(0,h.useMemo)(()=>e.presetTheme==="none"?{}:{cyberpunk:{primary:s.colors.neonPink,secondary:s.colors.electricPurple,gradient:`linear-gradient(135deg, ${s.colors.neonPink}, ${s.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{primary:s.colors.graphite,secondary:s.colors.nightBlack,gradient:`linear-gradient(135deg, ${s.colors.graphite}, ${s.colors.nightBlack})`,glow:"none"},ocean:{primary:s.colors.aetherTeal,secondary:s.colors.cosmicBlue,gradient:`linear-gradient(135deg, ${s.colors.aetherTeal}, ${s.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{primary:s.colors.sunburstGold,secondary:s.colors.neonPink,gradient:`linear-gradient(135deg, ${s.colors.sunburstGold}, ${s.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{primary:"#10b981",secondary:"#059669",gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{primary:s.colors.ultraviolet,secondary:s.colors.neonPink,gradient:s.gradients.gradient,glow:s.effects.glow},midnight:{primary:s.colors.nightBlack,secondary:s.colors.ultraviolet,gradient:`linear-gradient(135deg, ${s.colors.nightBlack}, ${s.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},[e.presetTheme,s]),q=(0,h.useMemo)(()=>{if(e.useTransparentBackground)return"transparent";if(e.setBackgroundColor&&!d)return e.backgroundColor;if(e.presetTheme!=="none"&&z.gradient)return z.gradient;const S=d?.current?.icon||"clear",L={clear:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,cloudy:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,rainy:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,drizzle:`linear-gradient(135deg, ${s.colors.aetherTeal} 0%, ${s.colors.cosmicBlue} 100%)`,thunderstorm:`linear-gradient(135deg, ${s.colors.electricPurple} 0%, ${s.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${s.colors.stardustWhite} 0%, ${s.colors.cosmicBlue} 100%)`,mist:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`,fog:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`};return e.setBackgroundColor?e.backgroundColor:L[S]||(w?s.colors.nightBlack:s.colors.stardustWhite)},[e.useTransparentBackground,e.setBackgroundColor,e.backgroundColor,e.presetTheme,z,d,w,s]),ie=(0,h.useMemo)(()=>e.useTransparentBackground?{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",backgroundColor:w?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)",borderRadius:"12px",border:`1px solid ${w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"}`}:{},[e.useTransparentBackground,w]),Z=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",xe=e.glowEffect?z.glow||s.effects.glow:"none",te=(0,h.useMemo)(()=>e.gradientText?{background:z.gradient||s.gradients?.gradient||"linear-gradient(135deg, #EC4899, #8B5CF6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{},[e.gradientText,z.gradient,s.gradients]),oe=S=>Math.round(S),Y=e.preferredUnits==="metric"?"°C":"°F",U=e.preferredUnits==="metric"?"km/h":"mph",de=d||zt,ve=de.forecast.slice(e.hideTodayInForecast?1:0).slice(0,e.numberOfDays),Ne=S=>{const{current:L}=de;switch(S){case"temperature":return(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsxs)("span",{className:"text-4xl font-bold",style:{fontFamily:s.fonts.heading,fontSize:`${48*e.fontScale}px`},children:[oe(L.temperature),Y]})});case"condition":return(0,t.jsx)("div",{className:"text-lg opacity-80 text-center",style:{fontSize:`${18*e.fontScale}px`},children:L.condition});case"humidity":return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(Se,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Humidity: ",L.humidity,"%"]})]});case"wind":return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(Ae,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Wind: ",L.wind," ",U]})]});case"feelsLike":return(0,t.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["Feels like: ",oe(L.feelsLike),Y]});case"uvIndex":return(0,t.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*e.fontScale}px`},children:["UV Index: ",L.uvIndex]});case"cloudCover":return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(Ve,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Cloud Cover: ",L.cloudCover,"%"]})]});case"pressure":return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(yt,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Pressure: ",L.pressure," hPa"]})]});case"visibility":return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(nt,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Visibility: ",L.visibility," ",e.preferredUnits==="metric"?"km":"mi"]})]});case"sunrise":return L.sunrise?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(Ke,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Sunrise: ",L.sunrise]})]}):null;case"sunset":return L.sunset?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*e.fontScale}px`},children:[(0,t.jsx)(Qe,{size:16*e.fontScale}),(0,t.jsxs)("span",{children:["Sunset: ",L.sunset]})]}):null;default:return null}},qe=()=>{switch(e.orientation){case"horizontal":return"flex-row items-start justify-center";case"compact":return"flex-col items-center max-w-sm mx-auto";case"wide":return"flex-row items-start justify-between w-full";default:return"flex-col items-center md:flex-row md:items-start md:justify-center"}},E=()=>{const{current:S}=de;return(0,t.jsxs)("div",{className:"space-y-3 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between w-full gap-4 px-2",style:{minHeight:"60px"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,t.jsx)(He,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:40*e.fontScale,theme:s}),(0,t.jsxs)("span",{className:"text-3xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${36*e.fontScale}px`,textShadow:Z,...te},children:[oe(S.temperature),Y]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 min-w-0 px-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold truncate max-w-full",style:{fontFamily:s.fonts.heading,fontSize:`${18*e.fontScale}px`,textShadow:Z,...te},title:b,children:b}),(0,t.jsx)("span",{className:"text-sm opacity-80 truncate max-w-full",style:{fontSize:`${14*e.fontScale}px`},title:S.condition,children:S.condition})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[(e.currentWeatherFields||[]).includes("feelsLike")&&(0,t.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["Feels ",oe(S.feelsLike),Y]}),(e.currentWeatherFields||[]).includes("humidity")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(Se,{size:13*e.fontScale}),S.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(Ae,{size:13*e.fontScale}),S.wind," ",U]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,t.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:["UV: ",S.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(Ve,{size:13*e.fontScale}),S.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(yt,{size:13*e.fontScale}),S.pressure," hPa"]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(nt,{size:13*e.fontScale}),S.visibility," ",e.preferredUnits==="metric"?"km":"mi"]}),(e.currentWeatherFields||[]).includes("sunrise")&&S.sunrise&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(Ke,{size:13*e.fontScale}),S.sunrise]}),(e.currentWeatherFields||[]).includes("sunset")&&S.sunset&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*e.fontScale}px`},children:[(0,t.jsx)(Qe,{size:13*e.fontScale}),S.sunset]})]})]}),e.numberOfDays>0&&ve.length>0&&(0,t.jsx)("div",{className:"border-t pt-3",style:{borderColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:(0,t.jsx)("div",{className:"overflow-x-auto pb-2 px-2",children:(0,t.jsx)("div",{className:"flex gap-4",style:{minWidth:"min-content"},children:ve.map((L,W)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",style:{minWidth:"120px"},children:[(0,t.jsxs)("div",{className:"text-center",style:{minWidth:"45px"},children:[(0,t.jsx)("div",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:L.day}),(0,t.jsx)(He,{condition:L.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:s})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,t.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[oe(L.high),"°"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,t.jsxs)("span",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[oe(L.low),"°"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,t.jsx)("div",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`,maxWidth:"100px"},children:L.condition}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&L.precipitation>0&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:10*e.fontScale}),L.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ae,{size:10*e.fontScale}),L.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:10*e.fontScale}),L.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,t.jsxs)("div",{children:["UV: ",L.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&L.sunrise&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ke,{size:10*e.fontScale}),L.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&L.sunset&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Qe,{size:10*e.fontScale}),L.sunset]})]})]})]},W))})})})]})},G=()=>{const{current:S}=de;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,t.jsx)(He,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:32*e.fontScale,theme:s}),(0,t.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${28*e.fontScale}px`,textShadow:Z,...te},children:[oe(S.temperature),Y]}),e.currentWeatherFields?.includes("feelsLike")&&(0,t.jsxs)("span",{className:"text-xs opacity-60 whitespace-nowrap",style:{fontSize:`${11*e.fontScale}px`},children:["(",oe(S.feelsLike),Y,")"]})]}),e.currentWeatherFields?.includes("condition")&&(0,t.jsx)("span",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*e.fontScale}px`},title:S.condition,children:S.condition}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-1 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.currentWeatherFields||[]).includes("humidity")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:10*e.fontScale}),S.humidity,"%"]}),(e.currentWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ae,{size:10*e.fontScale}),S.wind]}),(e.currentWeatherFields||[]).includes("uvIndex")&&(0,t.jsxs)("div",{children:["UV:",S.uvIndex]}),(e.currentWeatherFields||[]).includes("cloudCover")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ve,{size:10*e.fontScale}),S.cloudCover,"%"]}),(e.currentWeatherFields||[]).includes("pressure")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(yt,{size:10*e.fontScale}),S.pressure]}),(e.currentWeatherFields||[]).includes("visibility")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(nt,{size:10*e.fontScale}),S.visibility]})]})]})]}),e.numberOfDays>0&&ve.length>0&&(0,t.jsx)("div",{className:"flex gap-2 px-2 overflow-x-auto",children:ve.slice(0,3).map((L,W)=>(0,t.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 p-1.5 rounded",style:{minWidth:"50px",backgroundColor:w?"rgba(248, 249, 255, 0.05)":"rgba(11, 14, 18, 0.03)"},children:[(0,t.jsx)("span",{className:"text-xs font-semibold opacity-60",style:{fontSize:`${10*e.fontScale}px`},children:L.day}),(0,t.jsx)(He,{condition:L.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:16*e.fontScale,theme:s}),(0,t.jsxs)("div",{className:"text-xs mt-0.5 space-y-0.5",style:{fontSize:`${11*e.fontScale}px`},children:[(0,t.jsxs)("div",{children:[(e.dailyWeatherFields||[]).includes("high")&&(0,t.jsxs)("span",{className:"font-bold",children:[oe(L.high),"°"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,t.jsxs)("span",{className:"opacity-60 ml-0.5",children:[oe(L.low),"°"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,t.jsx)("div",{className:"opacity-70 truncate",style:{fontSize:`${9*e.fontScale}px`,maxWidth:"50px"},children:L.condition}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 items-center opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&L.precipitation>0&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:8*e.fontScale}),L.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ae,{size:8*e.fontScale}),L.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:8*e.fontScale}),L.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,t.jsxs)("div",{children:["UV:",L.uvIndex]})]})]})]},W))})]})},ae=()=>{const{current:S}=de,L=[{key:"feelsLike",label:"Feels Like",value:`${oe(S.feelsLike)}${Y}`,icon:null},{key:"humidity",label:"Humidity",value:`${S.humidity}%`,icon:Se},{key:"wind",label:"Wind",value:`${S.wind} ${U}`,icon:Ae},{key:"uvIndex",label:"UV Index",value:S.uvIndex,icon:null},{key:"pressure",label:"Pressure",value:`${S.pressure} hPa`,icon:yt},{key:"visibility",label:"Visibility",value:`${S.visibility} ${e.preferredUnits==="metric"?"km":"mi"}`,icon:nt},{key:"cloudCover",label:"Clouds",value:`${S.cloudCover}%`,icon:Ve},{key:"sunrise",label:"Sunrise",value:S.sunrise,icon:Ke},{key:"sunset",label:"Sunset",value:S.sunset,icon:Qe}].filter(W=>(e.currentWeatherFields||[]).includes(W.key)&&W.value);return(0,t.jsxs)("div",{className:"w-full space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-xl font-bold truncate",style:{fontFamily:s.fonts.heading,fontSize:`${22*e.fontScale}px`,textShadow:Z,...te},title:b,children:b}),e.useGeolocation&&(0,t.jsxs)("button",{onClick:()=>_(),className:"flex items-center gap-1 text-xs opacity-60 hover:opacity-100 transition-opacity mt-1",style:{fontSize:`${11*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,t.jsx)(ar,{size:10*e.fontScale,"aria-hidden":"true"}),"Update"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0 px-6",children:[(0,t.jsx)(He,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:56*e.fontScale,theme:s}),(0,t.jsxs)("span",{className:"text-5xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${52*e.fontScale}px`,textShadow:Z,...te},children:[oe(S.temperature),Y]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,t.jsx)("div",{className:"text-lg opacity-90 truncate",style:{fontSize:`${18*e.fontScale}px`},title:S.condition,children:S.condition}),ve[0]&&(0,t.jsxs)("div",{className:"text-sm opacity-70",style:{fontSize:`${14*e.fontScale}px`},children:["H: ",oe(ve[0].high),Y," / L: ",oe(ve[0].low),Y]})]})]}),L.length>0&&(0,t.jsx)("div",{className:"grid gap-4 py-3 border-t border-b",style:{gridTemplateColumns:L.length<=5?`repeat(${L.length}, 1fr)`:"repeat(auto-fit, minmax(120px, 1fr))",borderColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:L.map(W=>(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("span",{className:"text-xs opacity-60 uppercase tracking-wider mb-1",style:{fontSize:`${10*e.fontScale}px`},children:W.label}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[W.icon&&(0,t.jsx)(W.icon,{size:14*e.fontScale,className:"opacity-70"}),(0,t.jsx)("span",{className:"font-semibold",style:{fontSize:`${14*e.fontScale}px`},children:W.value})]})]},W.key))}),e.numberOfDays>0&&ve.length>0&&(0,t.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,t.jsx)("div",{className:"flex gap-3",style:{minWidth:"min-content"},children:ve.slice(0,7).map((W,ne)=>(0,t.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center p-3 rounded-lg",style:{minWidth:"70px",backgroundColor:w?"rgba(248, 249, 255, 0.08)":"rgba(11, 14, 18, 0.04)"},children:[(0,t.jsx)("span",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*e.fontScale}px`},children:W.day}),(0,t.jsx)(He,{condition:W.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:20*e.fontScale,theme:s}),(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,t.jsxs)("div",{className:"text-center",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,t.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${13*e.fontScale}px`},children:[oe(W.high),"°"]}),(e.dailyWeatherFields||[]).includes("low")&&(0,t.jsxs)("span",{className:"text-xs opacity-60 ml-1",style:{fontSize:`${11*e.fontScale}px`},children:[oe(W.low),"°"]})]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,t.jsx)("div",{className:"text-xs opacity-70 text-center truncate",style:{fontSize:`${10*e.fontScale}px`},children:W.condition}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 text-xs opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("precipitation")&&W.precipitation>0&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:10*e.fontScale}),W.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ae,{size:10*e.fontScale}),W.wind]}),(e.dailyWeatherFields||[]).includes("humidity")&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Se,{size:10*e.fontScale}),W.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&(0,t.jsxs)("div",{children:["UV: ",W.uvIndex]})]}),((e.dailyWeatherFields||[]).includes("sunrise")||(e.dailyWeatherFields||[]).includes("sunset"))&&(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-center text-xs opacity-70",style:{fontSize:`${9*e.fontScale}px`},children:[(e.dailyWeatherFields||[]).includes("sunrise")&&W.sunrise&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Ke,{size:9*e.fontScale}),W.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&W.sunset&&(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Qe,{size:9*e.fontScale}),W.sunset]})]})]})]},ne))})})]})},fe=()=>{switch(e.orientation){case"horizontal":return"auto-cols-fr grid-flow-col";case"compact":return"grid-cols-2 sm:grid-cols-3";case"wide":return"auto-cols-fr grid-flow-col";default:return"grid-cols-3 md:grid-cols-5"}},Pe=()=>{const S=Math.min(e.numberOfDays||5,10);switch(e.orientation){case"horizontal":case"wide":return{gridTemplateColumns:`repeat(${S}, minmax(0, 1fr))`};default:return{}}},Be=(0,h.useMemo)(()=>{const S={};return typeof q=="string"&&q.includes("gradient")?D?S.backgroundImage=`${D}, ${q}`:S.backgroundImage=q:(S.backgroundColor=q,D&&(S.backgroundImage=D)),S.backgroundSize=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",S},[q,D,e.backgroundTexture]),Ze=()=>(0,t.jsxs)("div",{className:`flex gap-6 ${qe()}`,children:[(0,t.jsxs)("div",{className:`text-center ${e.orientation==="wide"?"flex-shrink-0 min-w-[200px]":e.orientation==="compact"?"w-full":"flex-shrink-0"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 mb-4",children:[(0,t.jsx)(He,{condition:de.current.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:48*e.fontScale,theme:s}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:s.fonts.heading,textShadow:Z,fontSize:`${20*e.fontScale}px`,...te},children:b}),e.useGeolocation&&(0,t.jsxs)("button",{onClick:()=>_(),className:"flex items-center justify-center gap-1 text-xs opacity-70 hover:opacity-100 transition-opacity mt-1 mx-auto",style:{fontSize:`${12*e.fontScale}px`},"aria-label":"Detect your current location",children:[(0,t.jsx)(ar,{size:12*e.fontScale,"aria-hidden":"true"}),"Detect Location"]})]})]}),(0,t.jsx)("div",{className:"space-y-2",style:{textShadow:Z},children:(e.currentWeatherFields||[]).slice(0,6).map((S,L)=>(0,t.jsx)("div",{children:Ne(S)},L))})]}),(0,t.jsxs)("div",{className:`text-center ${e.orientation==="compact"?"w-full mt-4":"flex-1"}`,role:"region","aria-label":"Weather forecast",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-wider opacity-70 mb-3",style:{textShadow:Z,fontSize:`${14*e.fontScale}px`},children:[e.numberOfDays,"-Day Forecast"]}),(0,t.jsx)("div",{className:`grid gap-3 ${fe()} justify-items-center`,style:Pe(),children:ve.map((S,L)=>(0,t.jsxs)("div",{className:`p-3 rounded-lg ${e.visuallyGroupForecast?"bg-opacity-10 bg-current":""}`,style:{textAlign:"center",textShadow:Z,...e.visuallyGroupForecast&&{backgroundColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"}},children:[(0,t.jsxs)("div",{className:"text-xs font-semibold mb-2 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[S.day,e.displayDates&&S.date&&(0,t.jsx)("div",{className:"text-xs opacity-50",style:{fontSize:`${10*e.fontScale}px`},children:S.date})]}),(0,t.jsx)(He,{condition:S.icon,animate:e.animateIcons,greyscale:e.greyscaleIcons,size:24*e.fontScale,theme:s}),(0,t.jsxs)("div",{className:"mt-2 space-y-1",children:[(e.dailyWeatherFields||[]).includes("high")&&(0,t.jsxs)("div",{className:"text-sm font-bold",style:{fontSize:`${14*e.fontScale}px`},children:[oe(S.high),Y]}),(e.dailyWeatherFields||[]).includes("low")&&(0,t.jsxs)("div",{className:"text-xs opacity-60",style:{fontSize:`${12*e.fontScale}px`},children:[oe(S.low),Y]}),(e.dailyWeatherFields||[]).includes("condition")&&(0,t.jsx)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:S.condition}),(e.dailyWeatherFields||[]).includes("precipitation")&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1",style:{fontSize:`${12*e.fontScale}px`},children:[(0,t.jsx)(Se,{size:10*e.fontScale,"aria-hidden":"true"}),S.precipitation,"%"]}),(e.dailyWeatherFields||[]).includes("wind")&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,t.jsx)(Ae,{size:10*e.fontScale,"aria-hidden":"true"}),S.wind," ",U]}),(e.dailyWeatherFields||[]).includes("uvIndex")&&S.uvIndex!==void 0&&(0,t.jsxs)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:["UV: ",S.uvIndex]}),(e.dailyWeatherFields||[]).includes("humidity")&&S.humidity!==void 0&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*e.fontScale}px`},children:[(0,t.jsx)(Se,{size:10*e.fontScale,"aria-hidden":"true"}),S.humidity,"%"]}),(e.dailyWeatherFields||[]).includes("sunrise")&&S.sunrise&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,t.jsx)(Ke,{size:10*e.fontScale,"aria-hidden":"true"}),S.sunrise]}),(e.dailyWeatherFields||[]).includes("sunset")&&S.sunset&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*e.fontScale}px`},children:[(0,t.jsx)(Qe,{size:10*e.fontScale,"aria-hidden":"true"}),S.sunset]})]})]},L))})]})]}),Ye=()=>{switch(console.log("[WeatherWidget] orientation:",e.orientation),e.orientation){case"horizontal":return E();case"compact":return G();case"wide":return ae();default:return Ze()}},We=()=>{switch(e.orientation){case"horizontal":return"p-3";case"compact":return"p-2";case"wide":return"p-5";default:return"p-6"}},ge={small:.85,medium:1,large:1.15,xlarge:1.3}[e.widgetSize]||1;return(0,t.jsx)("div",{className:`h-full w-full ${We()}`,style:{...Be,color:N,fontFamily:f,textAlign:e.orientation==="horizontal"||e.orientation==="compact"?"left":e.textAlign,boxShadow:xe,transform:`scale(${ge})`,transformOrigin:"top left",...ie},role:"region","aria-label":"Weather widget",children:a?(0,t.jsx)(va,{orientation:e.orientation}):(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsxs)("div",{className:`${e.orientation==="compact"?"mb-2 p-2 text-xs":"mb-4 p-3 text-sm"} bg-yellow-100 text-yellow-800 rounded-lg`,role:"alert","aria-live":"polite",children:[(0,t.jsx)(At,{size:e.orientation==="compact"?12:16,className:"inline mr-2","aria-hidden":"true"}),e.orientation==="compact"?"Location error":c]}),e.orientation!=="compact"&&e.showSevereAlerts&&d?.alerts&&d.alerts.length>0&&(0,t.jsx)("div",{className:"mb-4",children:d.alerts.slice(0,e.orientation==="horizontal"?1:2).map((S,L)=>(0,t.jsx)(wa,{alert:S},L))}),Ye(),n&&(0,t.jsxs)("div",{className:`mt-4 ${e.orientation==="compact"?"p-2 text-xs":"p-3 text-sm"} bg-red-100 text-red-800 rounded-lg flex items-center justify-between`,role:"alert","aria-live":"assertive",children:[(0,t.jsx)("span",{children:e.orientation==="compact"?"Error":n}),(0,t.jsx)("button",{onClick:()=>{e.useGeolocation?_():y(b)},className:`ml-3 ${e.orientation==="compact"?"px-2 py-0.5":"px-3 py-1"} bg-red-200 hover:bg-red-300 rounded text-red-800 text-xs font-medium transition-colors`,"aria-label":"Retry fetching weather data",children:"Retry"})]}),e.orientation!=="compact"&&e.showCustomizeButton&&(0,t.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:s.colors.cosmicBlue,color:s.colors.stardustWhite,fontFamily:s.fonts.heading,fontSize:`${14*e.fontScale}px`},"aria-label":"Customize weather widget settings",onClick:()=>o?.("appearance"),children:"Customize"})]})})};Hr.propTypes={config:re.default.shape({weatherLocation:re.default.string,useGeolocation:re.default.bool,preferredUnits:re.default.oneOf(["metric","imperial"]),numberOfDays:re.default.number,displayDates:re.default.bool,hideTodayInForecast:re.default.bool,currentWeatherFields:re.default.arrayOf(re.default.string),dailyWeatherFields:re.default.arrayOf(re.default.string),showSevereAlerts:re.default.bool,showCustomizeButton:re.default.bool,appearanceMode:re.default.oneOf(["light","dark","system"]),textColorLight:re.default.string,textColorDark:re.default.string,textFontFamily:re.default.oneOf(["sans","serif","mono"]),googleFont:re.default.string,fontScale:re.default.number,textAlign:re.default.oneOf(["left","center","right"]),textShadows:re.default.bool,gradientText:re.default.bool,glowEffect:re.default.bool,animateIcons:re.default.bool,greyscaleIcons:re.default.bool,useTransparentBackground:re.default.bool,setBackgroundColor:re.default.bool,backgroundColor:re.default.string,backgroundTexture:re.default.oneOf(["none","noise","stars","dots","grid","waves"]),presetTheme:re.default.oneOf(["none","cyberpunk","stealth","ocean","sunset","forest","neon","midnight"]),orientation:re.default.oneOf(["auto","horizontal","compact","wide"]),visuallyGroupForecast:re.default.bool}).isRequired,onCustomizeRequest:re.default.func};var $=O,ka=6e5,_a=1,Ca=14,ja=5,Gr=.5,qr=2,Ur=1,Na=100,Sa=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,r=>o[r])},Ta=e=>typeof e!="string"?"New York, NY":e.replace(/[^a-zA-Z0-9\s,.\-']/g,"").replace(/'/g,"\\'").trim().slice(0,Na)||"New York, NY",Fa={sunny:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',clear:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',cloudy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',clouds:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rainy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rain:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',"partly-cloudy":'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2m6.4 1.4l-1.4 1.4M20 12h2M6 18H4m9.4 3.6L12 20m6.4-11.6L20 6.6"/><circle cx="12" cy="12" r="4"/><path d="M13 19a2 2 0 0 0 0-4H3a4 4 0 1 0 0 8h10Z"/></svg>',drizzle:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 19v1m8-1v1m-4-1v1m-4-5v1m8-1v1m-4-1v1"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',snow:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"/><path d="M8 16h.01M8 12h.01M12 16h.01M12 12h.01M16 16h.01M16 12h.01"/></svg>',thunderstorm:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"/><path d="m13 11-4 6h6l-4 6"/></svg>',mist:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',fog:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',haze:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',smoke:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9m-2-8h10"/></svg>',dust:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',sand:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',tornado:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H3m15 4H6m11 4H9m7 4h-7m5 4h-3"/></svg>'};const Ia=e=>{const o=e.appearanceMode==="dark",r=o?e.textColorDark:e.textColorLight,s=()=>{if(e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", system-ui, sans-serif`;switch(e.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return $.fonts.body}},d=()=>e.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[e.backgroundTexture]||"",a=e.presetTheme==="none"?{}:{cyberpunk:{gradient:`linear-gradient(135deg, ${$.colors.neonPink}, ${$.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{gradient:`linear-gradient(135deg, ${$.colors.graphite}, ${$.colors.nightBlack})`,glow:"none"},ocean:{gradient:`linear-gradient(135deg, ${$.colors.aetherTeal}, ${$.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{gradient:`linear-gradient(135deg, ${$.colors.sunburstGold}, ${$.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{gradient:`linear-gradient(90deg, ${$.colors.neonPink} 0%, ${$.colors.sunburstGold} 28%, ${$.colors.aetherTeal} 50%, ${$.colors.cosmicBlue} 74%, ${$.colors.electricPurple} 100%)`,glow:"0 0 4px rgba(139, 92, 246, 0.5)"},midnight:{gradient:`linear-gradient(135deg, ${$.colors.nightBlack}, ${$.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[e.presetTheme]||{},n=((_="clear")=>e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:e.presetTheme!=="none"&&a.gradient?a.gradient:{clear:`linear-gradient(135deg, ${$.colors.sunburstGold} 0%, ${$.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${$.colors.sunburstGold} 0%, ${$.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${$.colors.softSlate} 0%, ${$.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${$.colors.cosmicBlue} 0%, ${$.colors.graphite} 100%)`,thunderstorm:`linear-gradient(135deg, ${$.colors.electricPurple} 0%, ${$.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${$.colors.stardustWhite} 0%, ${$.colors.cosmicBlue} 100%)`}[_]||(o?$.colors.nightBlack:$.colors.stardustWhite))(),g=d(),c=e.backgroundTexture==="dots"||e.backgroundTexture==="grid"?"20px 20px":"auto",u=e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",b=e.glowEffect?a.glow||"0 0 4px rgba(139, 92, 246, 0.5)":"none",k=e.gradientText?`
    background: ${a.gradient||`linear-gradient(90deg, ${$.colors.neonPink} 0%, ${$.colors.sunburstGold} 28%, ${$.colors.aetherTeal} 50%, ${$.colors.cosmicBlue} 74%, ${$.colors.electricPurple} 100%)`};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  `:"",T=s(),C=e.textAlign||"center",y=Math.max(Gr,Math.min(qr,e.fontScale||Ur)),x=e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}&display=swap`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget - ${Sa(e.weatherLocation)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  ${x?`<link href="${x}" rel="stylesheet">`:""}
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${n};
      ${g?`background-image: ${g};`:""}
      ${g?`background-size: ${c};`:""}
      color: ${r};
      font-family: ${T};
      text-align: ${C};
      padding: 24px;
      ${b!=="none"?`box-shadow: ${b};`:""}
      ${e.useTransparentBackground?`
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      `:""}
    }

    h2 {
      ${k}
    }

    .weather-container {
      ${e.useTransparentBackground?`
        background: ${o?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)"};
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"};
        padding: 24px;
      `:""}
      display: flex;
      gap: 24px;
      ${e.orientation==="horizontal"?"flex-direction: row;":"flex-direction: column;"}
    }

    .loading-skeleton {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .skeleton-circle {
      width: ${48*y}px;
      height: ${48*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 50%;
    }

    .skeleton-line {
      height: ${16*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 4px;
      margin: 8px 0;
    }

    .alert-banner {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 16px;
      margin-bottom: 16px;
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #EF4444;
      border-radius: 8px;
      color: #DC2626;
    }

    .alert-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .current-weather {
      flex-shrink: 0;
    }

    .location-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .location-title {
      font-size: ${20*y}px;
      font-weight: bold;
      font-family: ${$.fonts.heading};
      text-shadow: ${u};
    }

    .current-temp {
      font-size: ${48*y}px;
      font-weight: bold;
      font-family: ${$.fonts.heading};
      text-shadow: ${u};
    }

    .current-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      text-shadow: ${u};
      font-size: ${14*y}px;
    }

    .forecast-section {
      flex: 1;
    }

    .forecast-title {
      font-size: ${14*y}px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.7;
      margin-bottom: 12px;
      text-shadow: ${u};
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(${80*y}px, 1fr));
      gap: 12px;
    }

    .forecast-day {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      ${e.visuallyGroupForecast?`background: ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"};`:""}
    }

    .day-name {
      font-size: ${12*y}px;
      font-weight: 600;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .day-date {
      font-size: ${10*y}px;
      opacity: 0.5;
    }

    .day-temp {
      font-size: ${14*y}px;
      font-weight: bold;
      margin-top: 8px;
    }

    .day-low {
      font-size: ${12*y}px;
      opacity: 0.6;
    }

    .day-condition {
      font-size: ${12*y}px;
      opacity: 0.7;
      margin-top: 4px;
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: ${14*y}px;
      font-weight: 500;
      background-color: ${$.colors.cosmicBlue};
      color: ${$.colors.stardustWhite};
      font-family: ${$.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    .weather-icon {
      display: inline-block;
      ${e.greyscaleIcons?"filter: grayscale(100%);":""}
      ${e.animateIcons?"animation: pulse-icon 2s infinite;":""}
    }

    @keyframes pulse-icon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearanceMode==="system"?`
        body {
          background: ${e.useTransparentBackground?"transparent":e.setBackgroundColor?e.backgroundColor:$.colors.nightBlack};
          color: ${e.textColorDark};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="weather-root">
    <div class="loading-skeleton">
      <div class="skeleton-circle"></div>
      <div class="skeleton-line" style="width: 200px;"></div>
      <div class="skeleton-line" style="width: 150px;"></div>
      <div class="skeleton-line" style="width: 180px;"></div>
    </div>
  </div>

  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${Jr(e)}
  <\/script>
</body>
</html>`},Jr=e=>{const o=Ta(e.weatherLocation||"New York, NY"),r=e.preferredUnits==="metric"?"celsius":"fahrenheit",s=e.preferredUnits==="metric"?"kmh":"mph",d=e.preferredUnits==="metric"?"mm":"inch",l=e.preferredUnits==="metric"?"°C":"°F",a=e.preferredUnits==="metric"?"km/h":"mph",m=Math.max(Gr,Math.min(qr,e.fontScale||Ur)),n=Math.max(_a,Math.min(Ca,e.numberOfDays||ja));return`
    const LOCATION = '${o}';
    const TEMP_UNIT_API = '${r}';
    const WIND_UNIT_API = '${s}';
    const PRECIP_UNIT_API = '${d}';
    const TEMP_UNIT = '${l}';
    const WIND_UNIT = '${a}';
    const FONT_SCALE = ${m};
    const SHOW_SEVERE_ALERTS = ${e.showSevereAlerts||!1};
    const DISPLAY_DATES = ${e.displayDates||!1};
    const CURRENT_FIELDS = ${JSON.stringify(e.currentWeatherFields||[])};
    const DAILY_FIELDS = ${JSON.stringify(e.dailyWeatherFields||[])};
    const NUM_DAYS = ${n};
    const HIDE_TODAY = ${e.hideTodayInForecast||!1};
    const REFRESH_INTERVAL_MS = ${ka};

    const weatherIcons = ${JSON.stringify(Fa)};

    function getWeatherIcon(condition) {
      const conditionLower = condition.toLowerCase();
      return weatherIcons[conditionLower] || weatherIcons['partly-cloudy'];
    }

    function getConditionFromWMO(code) {
      if (code === 0) return 'Clear';
      if (code <= 3) return 'Partly Cloudy';
      if (code <= 48) return 'Fog';
      if (code <= 67) return 'Rain';
      if (code <= 77) return 'Snow';
      if (code <= 82) return 'Rain';
      if (code <= 86) return 'Snow';
      if (code <= 99) return 'Thunderstorm';
      return 'Cloudy';
    }

    function getIconFromWMO(code) {
      if (code === 0) return 'clear';
      if (code <= 3) return 'partly-cloudy';
      if (code <= 48) return 'fog';
      if (code <= 57) return 'drizzle';
      if (code <= 67) return 'rain';
      if (code <= 77) return 'snow';
      if (code <= 82) return 'rain';
      if (code <= 86) return 'snow';
      if (code >= 95) return 'thunderstorm';
      return 'clouds';
    }

    function renderErrorState(message) {
      const errorIcon = '<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6m0-6 6 6"/></svg>';
      const html = \`
        <div class="weather-container" style="text-align: center; padding: 32px;">
          <div style="opacity: 0.6; margin-bottom: 16px;">\${errorIcon}</div>
          <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Unable to Load Weather</h3>
          <p style="font-size: 14px; opacity: 0.7; margin-bottom: 16px;">\${message}</p>
          <button onclick="fetchWeatherData()" style="padding: 8px 16px; border-radius: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.4); color: inherit; cursor: pointer; font-size: 14px;">
            Try Again
          </button>
        </div>
      \`;
      document.getElementById('weather-root').innerHTML = html;
    }

    async function fetchWeatherData() {
      try {
        // Note: Open-Meteo API has rate limits. Consider caching responses for production use.
        // Geocode the location using Open-Meteo
        const geoResponse = await fetch(
          \`https://geocoding-api.open-meteo.com/v1/search?name=\${encodeURIComponent(LOCATION)}&count=1&language=en&format=json\`
        );
        
        if (!geoResponse.ok) {
          throw new Error('Unable to find location. Please check the location name.');
        }
        
        const geoData = await geoResponse.json();
        if (!geoData.results || geoData.results.length === 0) {
          throw new Error('Location not found. Please try a different city name.');
        }

        const { latitude, longitude } = geoData.results[0];

        // Fetch weather data using Open-Meteo Weather API
        const weatherResponse = await fetch(
          \`https://api.open-meteo.com/v1/forecast?latitude=\${latitude}&longitude=\${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max&temperature_unit=\${TEMP_UNIT_API}&wind_speed_unit=\${WIND_UNIT_API}&precipitation_unit=\${PRECIP_UNIT_API}&timezone=auto\`
        );

        if (!weatherResponse.ok) {
          throw new Error('Weather service temporarily unavailable. Please try again later.');
        }

        const data = await weatherResponse.json();

        renderWeatherData(data);
      } catch (err) {
        console.error('Weather fetch error:', err);
        renderErrorState(err.message || 'Could not load weather data. Please try again.');
      }
    }

    function renderWeatherData(data) {
      const current = data.current;
      const dailyData = data.daily;
      const startIdx = HIDE_TODAY ? 1 : 0;
      const forecast = dailyData.time.slice(startIdx, startIdx + NUM_DAYS);

      let html = '<div class="weather-container">';

      // Current weather
      html += '<div class="current-weather">';
      html += \`
        <div class="location-header">
          <div class="weather-icon">\${getWeatherIcon(getIconFromWMO(current.weather_code))}</div>
          <h2 class="location-title">\${LOCATION}</h2>
        </div>
        <div class="current-temp">\${Math.round(current.temperature_2m)}\${TEMP_UNIT}</div>
        <div class="current-details">
      \`;

      if (CURRENT_FIELDS.includes('condition')) {
        html += \`<div>\${getConditionFromWMO(current.weather_code)}</div>\`;
      }
      if (CURRENT_FIELDS.includes('humidity')) {
        html += \`<div>Humidity: \${Math.round(current.relative_humidity_2m)}%</div>\`;
      }
      if (CURRENT_FIELDS.includes('wind')) {
        html += \`<div>Wind: \${Math.round(current.wind_speed_10m)} \${WIND_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('feelsLike')) {
        html += \`<div>Feels like: \${Math.round(current.apparent_temperature)}\${TEMP_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('uvIndex')) {
        html += \`<div>UV Index: N/A</div>\`;
      }

      html += '</div></div>';

      // Forecast
      html += '<div class="forecast-section">';
      html += \`<h3 class="forecast-title">\${NUM_DAYS}-Day Forecast</h3>\`;
      html += '<div class="forecast-grid">';

      forecast.forEach((dateStr, idx) => {
        const actualIdx = startIdx + idx;
        const date = new Date(dateStr);
        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
        const dateDisplay = DISPLAY_DATES ? date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : '';

        html += '<div class="forecast-day">';
        html += \`<div class="day-name">\${dayName}\`;
        if (DISPLAY_DATES && dateDisplay) {
          html += \`<div class="day-date">\${dateDisplay}</div>\`;
        }
        html += '</div>';
        html += \`<div class="weather-icon">\${getWeatherIcon(getIconFromWMO(dailyData.weather_code[actualIdx]))}</div>\`;

        if (DAILY_FIELDS.includes('high')) {
          html += \`<div class="day-temp">\${Math.round(dailyData.temperature_2m_max[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('low')) {
          html += \`<div class="day-low">\${Math.round(dailyData.temperature_2m_min[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('condition')) {
          html += \`<div class="day-condition">\${getConditionFromWMO(dailyData.weather_code[actualIdx])}</div>\`;
        }
        if (DAILY_FIELDS.includes('precipitation') && dailyData.precipitation_probability_max[actualIdx] > 0) {
          html += \`<div class="day-condition">\${Math.round(dailyData.precipitation_probability_max[actualIdx])}%</div>\`;
        }

        html += '</div>';
      });

      html += '</div></div></div>';

      document.getElementById('weather-root').innerHTML = html;
    }

    // Initial load
    fetchWeatherData();

    // Refresh at configured interval
    setInterval(fetchWeatherData, REFRESH_INTERVAL_MS);
  `},Ba={id:"clock",label:"Clock",description:"Advanced customizable clock with multiple styles.",defaultConfig:{is12Hour:!0,showDate:!0,showSeconds:!1,timezone:"local",blinkingSeparator:!1,dateFormat:"long",clockSize:"large",clockType:"digital-solid",responsiveSizing:!1,handShape:"classic",faceMarkers:"dots",digitFontFamily:"default",textFontFamily:"default",googleFont:"none",textAlign:"center",textShadows:!1,useTransparentBg:!1,bgColor:O.colors.stardustWhite,backgroundTexture:"none",widgetMode:"clock",presetTheme:"none",appearance:"system",lightMode:{clockColor:O.colors.graphite,digitColor:O.colors.stardustWhite,textColor:O.colors.graphite,backgroundColor:O.colors.stardustWhite},darkMode:{clockColor:O.colors.ultraviolet,digitColor:O.colors.stardustWhite,textColor:O.colors.stardustWhite,backgroundColor:O.colors.nightBlack},showHoverMenu:!1,showCustomizeButton:!1,glowEffect:!1,gradientText:!1},fields:[{name:"is12Hour",label:"12-Hour Format",type:"boolean",section:"time"},{name:"showDate",label:"Show Date",type:"boolean",section:"time"},{name:"showSeconds",label:"Show Seconds",type:"boolean",section:"time"},{name:"timezone",label:"Timezone",type:"select",section:"time",options:[{label:"Local (System)",value:"local"},{label:"UTC",value:"UTC"},{label:"Eastern (New York)",value:"America/New_York"},{label:"Central (Chicago)",value:"America/Chicago"},{label:"Mountain (Denver)",value:"America/Denver"},{label:"Pacific (Los Angeles)",value:"America/Los_Angeles"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Hong Kong",value:"Asia/Hong_Kong"},{label:"Sydney",value:"Australia/Sydney"},{label:"Dubai",value:"Asia/Dubai"},{label:"Mumbai",value:"Asia/Kolkata"}]},{name:"blinkingSeparator",label:"Blinking Separator (:)",type:"boolean",section:"time"},{name:"dateFormat",label:"Date Format",type:"select",section:"time",options:[{label:"Long (Monday, January 1, 2025)",value:"long"},{label:"Short (Mon, Jan 1, 2025)",value:"short"},{label:"Numeric (01/01/2025)",value:"numeric"},{label:"European (01.01.2025)",value:"european"},{label:"ISO (2025-01-01)",value:"iso"}]},{name:"clockSize",label:"Clock Size",type:"select",section:"style",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"clockType",label:"Clock Type",type:"select",section:"style",options:[{label:"Digital Solid",value:"digital-solid"},{label:"Digital Roulette",value:"digital-roulette"},{label:"Flip Clock",value:"flip-clock"},{label:"Analog Smooth",value:"analog-smooth"},{label:"Analog Tick",value:"analog-tick"},{label:"Analog Trail",value:"analog-trail"},{label:"Analog Dots",value:"analog-dots"},{label:"Analog Numbers",value:"analog-numbers"},{label:"Analog Planets",value:"analog-planets"}]},{name:"responsiveSizing",label:"Responsive Sizing (Container Queries)",type:"boolean",section:"style"},{name:"handShape",label:"Hand Shape (Analog Only)",type:"select",section:"analog",options:[{label:"Classic",value:"classic"},{label:"Arrow",value:"arrow"},{label:"Modern",value:"modern"},{label:"Minimalist",value:"minimalist"}]},{name:"faceMarkers",label:"Face Markers (Analog Only)",type:"select",section:"analog",options:[{label:"Dots",value:"dots"},{label:"Numbers",value:"numbers"},{label:"Roman Numerals",value:"roman"},{label:"Lines",value:"lines"},{label:"None",value:"none"}]},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"googleFont",label:"Google Font Style",type:"select",section:"typography",options:[{label:"None (Default)",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"widgetMode",label:"Widget Mode",type:"select",section:"interactive",options:[{label:"Clock",value:"clock"},{label:"Timer",value:"timer"},{label:"Stopwatch",value:"stopwatch"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",options:[{label:"None (Custom)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects"}]};var Aa=e=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},ur=e=>{const o=Aa(e);if(!o)return 0;const[r,s,d]=[o.r,o.g,o.b].map(l=>(l=l/255,l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)));return .2126*r+.7152*s+.0722*d},Ma=e=>[...e].sort((o,r)=>ur(o)-ur(r));const Zr=e=>{if(!e||!e.palette||e.palette.length<8)return[];const{palette:o,primary:r,accent:s}=e,d=Ma(o),l=d[0],a=d[d.length-1],m=d.slice(2,6),n=[];return n.push({id:"brand-monochrome",name:"Brand Monochrome",description:"Bold monochromatic using your primary brand color",backgroundColor:l,clockColor:r,digitColor:a,textColor:a,texture:"none",glow:!0,category:"brand"}),n.push({id:"brand-contrast",name:"Brand Contrast",description:"High contrast complementary colors",backgroundColor:d[0],clockColor:d[d.length-2],digitColor:d[0],textColor:d[d.length-1],texture:"grid",glow:!1,category:"brand"}),n.push({id:"brand-vibrant",name:"Brand Vibrant",description:"Energetic and colorful",backgroundColor:m[0]||d[2],clockColor:o[1],digitColor:a,textColor:o[2],texture:"dots",glow:!0,category:"brand"}),n.push({id:"brand-professional",name:"Brand Professional",description:"Sophisticated and subtle",backgroundColor:m[2]||d[4],clockColor:m[1]||d[3],digitColor:a,textColor:d[1],texture:"none",glow:!1,category:"brand"}),n.push({id:"brand-dark",name:"Brand Dark",description:"Dark theme with brand accents",backgroundColor:l,clockColor:s,digitColor:l,textColor:m[m.length-1]||a,texture:"stars",glow:!0,category:"brand"}),n.push({id:"brand-light",name:"Brand Light",description:"Clean light theme",backgroundColor:a,clockColor:r,digitColor:a,textColor:l,texture:"none",glow:!1,category:"brand"}),n.push({id:"brand-neon",name:"Brand Neon",description:"Glowing neon effect",backgroundColor:d[0],clockColor:o[3],digitColor:a,textColor:o[4],texture:"noise",glow:!0,category:"brand"}),n.push({id:"brand-minimal",name:"Brand Minimal",description:"Clean minimalist design",backgroundColor:a,clockColor:l,digitColor:a,textColor:d[2],texture:"none",glow:!1,category:"brand"}),n};var za={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}},La=({value:e,label:o,colors:r,size:s})=>{const[d,l]=(0,h.useState)(e),[a,m]=(0,h.useState)(!1),[n,g]=(0,h.useState)(e);return(0,h.useEffect)(()=>{if(e===n)return;let c,u,b;return c=setTimeout(()=>{m(!0),u=setTimeout(()=>{l(e),b=setTimeout(()=>{m(!1),g(e)},300)},300)},0),()=>{clearTimeout(c),clearTimeout(u),clearTimeout(b)}},[e,n]),(0,t.jsxs)("div",{className:"inline-flex flex-col items-center mx-1",children:[(0,t.jsxs)("div",{style:{width:`${s*.7}px`,height:`${s}px`,background:r.clockColor||"#333",borderRadius:"8px",color:r.digitColor||"#fff",fontSize:`${s*.65}px`,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden",perspective:"1000px",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:a?"rotateX(90deg)":"rotateX(0deg)"},children:[(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%)"}}),(0,t.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, transparent 100%)"}}),(0,t.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",background:"rgba(0,0,0,0.3)",zIndex:10}}),(0,t.jsx)("div",{style:{position:"relative",zIndex:5},children:String(d).padStart(2,"0")})]}),o&&(0,t.jsx)("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textTransform:"uppercase"},children:o})]})},Ea=({time:e,size:o,type:r,colors:s,config:d,theme:l})=>{const a=e.getHours()%12,m=e.getMinutes(),n=e.getSeconds(),g=a*30+m*.5,c=m*6,u=n*6,b=o/2,k=o*.45,T=()=>{const y=[],x=d.faceMarkers!==void 0&&["dots","numbers","roman","lines","none","planets"].includes(d.faceMarkers)?d.faceMarkers:"dots";if(x==="none")return y;for(let _=0;_<12;_++){const w=_*30*(Math.PI/180),N=b+Math.sin(w)*k*.85,f=b-Math.cos(w)*k*.85;if(x==="dots")y.push((0,t.jsx)("circle",{cx:N,cy:f,r:o*.015,fill:s.clockColor,opacity:"0.5"},_));else if(x==="numbers")y.push((0,t.jsx)("text",{x:N,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.08,fill:s.clockColor,fontWeight:"bold",children:_===0?12:_},_));else if(x==="roman")y.push((0,t.jsx)("text",{x:N,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.06,fill:s.clockColor,fontWeight:"bold",children:["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"][_]},_));else if(x==="lines"){const D=b+Math.sin(w)*k*.75,z=b-Math.cos(w)*k*.75;y.push((0,t.jsx)("line",{x1:D,y1:z,x2:N,y2:f,stroke:s.clockColor,strokeWidth:o*.008,opacity:"0.6"},_))}else x==="planets"&&y.push((0,t.jsx)("circle",{cx:N,cy:f,r:o*.01*[8,6,7,5,9,6,8,5,6,7,5,6][_]/5,fill:s.clockColor,opacity:"0.6"},_))}return y},C=(y,x,_)=>{const w=d.handShape!==void 0&&["classic","arrow","modern","minimalist"].includes(d.handShape)?d.handShape:"classic",N=b+Math.sin(y*Math.PI/180)*x,f=b-Math.cos(y*Math.PI/180)*x,D={hour:o*.04,minute:o*.03,second:o*.01},z=r==="trail"&&_==="second"?o*.01:D[_]||o*.02;switch(w){case"classic":return(0,t.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:_==="second"&&r==="trail"?s.textColor:s.clockColor,strokeWidth:z,strokeLinecap:"round",opacity:r==="trail"?.7:1,style:r==="tick"?{transition:"all 0.05s ease"}:{}});case"arrow":{const q=z*2,ie=x*.15,Z=b+Math.sin(y*Math.PI/180)*(x-ie),xe=b-Math.cos(y*Math.PI/180)*(x-ie);return(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{x1:b,y1:b,x2:Z,y2:xe,stroke:s.clockColor,strokeWidth:z,strokeLinecap:"round"}),(0,t.jsx)("polygon",{points:`${N},${f} ${Z-q},${xe} ${Z+q},${xe}`,fill:s.clockColor})]})}case"modern":{const q=x*.2;return(0,t.jsx)("line",{x1:b-Math.sin(y*Math.PI/180)*q,y1:b+Math.cos(y*Math.PI/180)*q,x2:N,y2:f,stroke:s.clockColor,strokeWidth:z,strokeLinecap:"round"})}case"minimalist":return(0,t.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:s.clockColor,strokeWidth:z*.5,strokeLinecap:"butt",opacity:.9});default:return(0,t.jsx)("line",{x1:b,y1:b,x2:N,y2:f,stroke:s.clockColor,strokeWidth:z,strokeLinecap:"round"})}};return(0,t.jsxs)("svg",{width:o,height:o,style:{filter:d.glowEffect?`drop-shadow(0 0 ${l.effects.glowBlur} ${s.clockColor})`:"none"},children:[(0,t.jsx)("circle",{cx:b,cy:b,r:k,fill:"none",stroke:s.clockColor,strokeWidth:o*.01,opacity:"0.2"}),T(),C(g,k*.5,"hour"),C(c,k*.75,"minute"),d.showSeconds&&C(u,k*.85,"second"),(0,t.jsx)("circle",{cx:b,cy:b,r:o*.02,fill:s.clockColor})]})};const Da=({config:e,brandTheme:o,onCustomizeRequest:r})=>{const{theme:s}=pt(),[d,l]=(0,h.useState)(new Date),[a,m]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[n,g]=(0,h.useState)(5),[c,u]=(0,h.useState)(0),[b,k]=(0,h.useState)(!1),[T,C]=(0,h.useState)(0),[y,x]=(0,h.useState)(!1);(0,h.useEffect)(()=>{const E=window.matchMedia("(prefers-color-scheme: dark)"),G=ae=>m(ae.matches);return E.addEventListener("change",G),()=>E.removeEventListener("change",G)},[]);const _=(0,h.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:a,[e.appearance,a]);(0,h.useEffect)(()=>{if(e.blinkingSeparator){const E="clock-blink-animation";if(!document.getElementById(E)){const G=document.createElement("style");G.id=E,G.textContent=`
          @keyframes blink-separator {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
          }
          .blink-separator {
            animation: blink-separator 1s step-end infinite;
          }
        `,document.head.appendChild(G)}}},[e.blinkingSeparator]),(0,h.useEffect)(()=>{if(e.googleFont&&e.googleFont!=="none"){const E=`google-font-${e.googleFont}`;if(!document.getElementById(E)){const G=document.createElement("link");G.id=E,G.rel="stylesheet",G.href=`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&display=swap`,document.head.appendChild(G)}}},[e.googleFont]),(0,h.useEffect)(()=>{if(e.responsiveSizing){const E="clock-responsive-sizing";if(!document.getElementById(E)){const G=document.createElement("style");G.id=E,G.textContent=`
          .clock-responsive-container {
            container-type: size;
            container-name: clock;
          }

          @container clock (max-width: 300px) {
            .clock-responsive-text { font-size: clamp(24px, 8cqw, 48px) !important; }
            .clock-responsive-date { font-size: clamp(12px, 4cqw, 16px) !important; }
          }

          @container clock (min-width: 301px) and (max-width: 600px) {
            .clock-responsive-text { font-size: clamp(36px, 10cqw, 64px) !important; }
            .clock-responsive-date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
          }

          @container clock (min-width: 601px) {
            .clock-responsive-text { font-size: clamp(48px, 12cqw, 96px) !important; }
            .clock-responsive-date { font-size: clamp(16px, 5cqw, 24px) !important; }
          }
        `,document.head.appendChild(G)}}},[e.responsiveSizing]),(0,h.useEffect)(()=>{if(e.widgetMode==="timer"&&b){const E=setInterval(()=>{c>0?u(c-1):n>0?(g(n-1),u(59)):k(!1)},1e3);return()=>clearInterval(E)}},[e.widgetMode,b,n,c]),(0,h.useEffect)(()=>{if(e.widgetMode==="stopwatch"&&y){const E=setInterval(()=>{C(G=>G+10)},10);return()=>clearInterval(E)}},[e.widgetMode,y]),(0,h.useEffect)(()=>{if(e.clockType==="analog-smooth"||e.clockType==="analog-trail"){let E;const G=()=>{l(new Date),E=requestAnimationFrame(G)};return E=requestAnimationFrame(G),()=>cancelAnimationFrame(E)}else{const E=setInterval(()=>l(new Date),1e3);return()=>clearInterval(E)}},[e.clockType]);const w=h.useMemo(()=>o?Zr(o):[],[o]),N=h.useMemo(()=>{const E={...za};return w.forEach(G=>{E[G.id]=G}),E},[w]),f=h.useMemo(()=>{let E=_?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"){const G=N[e.presetTheme];G&&(E={backgroundColor:G.backgroundColor,clockColor:G.clockColor,digitColor:G.digitColor,textColor:G.textColor})}return E},[_,e.darkMode,e.lightMode,e.presetTheme,N]);(0,h.useEffect)(()=>{const E=document.documentElement;E.style.setProperty("--clock-bg-color",f.backgroundColor),E.style.setProperty("--clock-primary-color",f.clockColor),E.style.setProperty("--clock-text-color",f.textColor),E.style.setProperty("--clock-digit-color",f.digitColor)},[f]);const D=(E,G=!1)=>{if(e.googleFont&&e.googleFont!=="none")return`"${e.googleFont.replace(/\+/g," ")}", ui-sans-serif, system-ui, sans-serif`;const ae=G?e.digitFontFamily:e.textFontFamily,fe={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return fe[ae]||fe.default},z={small:{time:"32px",date:"14px",analog:120},medium:{time:"48px",date:"16px",analog:180},large:{time:"64px",date:"18px",analog:240},xlarge:{time:"96px",date:"24px",analog:320}},q=z[e.clockSize]||z.large,ie=()=>{switch(e.presetTheme!=="none"&&N[e.presetTheme]?N[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return`radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent),
                radial-gradient(1px 1px at 110px 120px, white, transparent)`;case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return`linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)`;case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},Z=()=>{switch(e.backgroundTexture){case"dots":return"20px 20px";case"grid":return"20px 20px";case"stars":return"200px 200px";default:return"auto"}},xe={backgroundColor:e.useTransparentBg?"transparent":f.backgroundColor,backgroundImage:ie(),backgroundSize:Z(),color:f.textColor,textAlign:e.textAlign},te={fontSize:q.time,fontFamily:D(e.digitFontFamily,!0),fontWeight:"bold",color:f.clockColor,textShadow:e.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none"};e.glowEffect&&(te.textShadow=`0 0 ${s.effects.glowBlur} currentColor`),e.gradientText&&(te.background=s.gradients.gradient,te.WebkitBackgroundClip="text",te.color="transparent");const oe=()=>{const E={hour:"2-digit",minute:"2-digit",second:e.showSeconds?"2-digit":void 0,hour12:e.is12Hour};return e.timezone&&e.timezone!=="local"&&(E.timeZone=e.timezone),d.toLocaleTimeString([],E)},Y=()=>{if(!e.timezone||e.timezone==="local"){const E=-d.getTimezoneOffset(),G=Math.floor(Math.abs(E)/60),ae=Math.abs(E)%60;return`UTC${E>=0?"+":"-"}${String(G).padStart(2,"0")}:${String(ae).padStart(2,"0")}`}try{const E=new Intl.DateTimeFormat("en-US",{timeZone:e.timezone,timeZoneName:"short"}).formatToParts(d).find(G=>G.type==="timeZoneName");return E?E.value:""}catch{return""}},U=()=>{const E=e.timezone!=="local"?{timeZone:e.timezone}:{};switch(e.dateFormat){case"long":return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...E});case"short":return d.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",year:"numeric",...E});case"numeric":return d.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",...E});case"european":return d.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",...E});case"iso":return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;default:return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...E})}},de=()=>{const E=oe();if(e.clockType==="digital-solid")return(0,t.jsx)("div",{style:te,className:`tabular-nums tracking-tight ${e.responsiveSizing?"clock-responsive-text":""}`,children:e.blinkingSeparator?E.split("").map((G,ae)=>(0,t.jsx)("span",{className:G===":"?"blink-separator":"",children:G},ae)):E});if(e.clockType==="digital-roulette")return(0,t.jsx)("div",{style:{...te,letterSpacing:"0.1em"},className:`tabular-nums font-mono ${e.responsiveSizing?"clock-responsive-text":""}`,children:E.split("").map((G,ae)=>(0,t.jsx)("span",{className:e.blinkingSeparator&&G===":"?"blink-separator":"",style:{display:"inline-block",animation:`roulette 0.5s ease ${ae*.05}s`,transformOrigin:"center"},children:G},ae))});if(e.clockType==="flip-clock"){const G=E.match(/\d+/g)||[];return(0,t.jsx)("div",{className:"flex gap-2 justify-center items-center",children:G.map((ae,fe)=>(0,t.jsxs)(h.Fragment,{children:[(0,t.jsx)(La,{value:parseInt(ae),label:fe===0?"HR":fe===1?"MIN":"SEC",size:parseInt(q.time),colors:{clockColor:f.clockColor,digitColor:f.digitColor}}),fe<G.length-1&&(0,t.jsx)("span",{style:{fontSize:q.time,opacity:.5},children:":"})]},fe))})}if(e.clockType.startsWith("analog-")){const G=e.clockType.replace("analog-","");return(0,t.jsx)(Ea,{time:d,size:typeof q.analog=="number"&&q.analog>0?q.analog:240,type:G,colors:f,config:e,theme:s})}return(0,t.jsx)("div",{style:te,children:E})},ve=()=>{const E=`${String(n).padStart(2,"0")}:${String(c).padStart(2,"0")}`;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{style:te,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:E}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>k(!b),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:b?"Pause":"Start"}),(0,t.jsx)("button",{onClick:()=>{g(5),u(0),k(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},Ne=()=>{const E=T%1e3,G=Math.floor(T/1e3)%60,ae=Math.floor(T/6e4),fe=`${String(ae).padStart(2,"0")}:${String(G).padStart(2,"0")}.${String(Math.floor(E/10)).padStart(2,"0")}`;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{style:te,className:`tabular-nums ${e.responsiveSizing?"clock-responsive-text":""}`,children:fe}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>x(!y),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:y?"Stop":"Start"}),(0,t.jsx)("button",{onClick:()=>{C(0),x(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},qe=()=>{switch(e.widgetMode){case"timer":return ve();case"stopwatch":return Ne();default:return de()}};return(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center h-full w-full p-6 ${e.responsiveSizing?"clock-responsive-container":""}`,style:xe,children:[qe(),e.showDate&&e.widgetMode==="clock"&&(0,t.jsxs)("div",{className:`mt-4 font-medium ${e.responsiveSizing?"clock-responsive-date":""}`,style:{fontSize:q.date,fontFamily:D(e.textFontFamily),opacity:.7,color:f.textColor,textShadow:e.textShadows?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:[U(),e.timezone&&(0,t.jsx)("div",{style:{fontSize:"0.85em",marginTop:"4px",opacity:.6},children:Y()})]}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:f.clockColor,color:f.digitColor,opacity:.8},onClick:()=>r?.("appearance"),children:"Customize"})]})};var wt={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}};const Pa=e=>{let o=e.appearance==="dark"?e.darkMode:e.lightMode;if(e.presetTheme&&e.presetTheme!=="none"&&wt[e.presetTheme]){const m=wt[e.presetTheme];o={backgroundColor:m.backgroundColor,clockColor:m.clockColor,digitColor:m.digitColor,textColor:m.textColor}}const r=e.useTransparentBg?"transparent":o.backgroundColor,s=()=>{switch(e.presetTheme!=="none"&&wt[e.presetTheme]?wt[e.presetTheme].texture:e.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent)";case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)";case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},d=()=>{const m=e.backgroundTexture;return m==="dots"||m==="grid"?"20px 20px":m==="stars"?"200px 200px":"auto"},l=e.googleFont&&e.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${e.googleFont}:wght@400;700&family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap`:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap",a=()=>e.googleFont&&e.googleFont!=="none"?`"${e.googleFont.replace(/\+/g," ")}", ${O.fonts.body}`:O.fonts.body;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="${l}" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${r};
      background-image: ${s()};
      background-size: ${d()};
      color: ${o.textColor};
      font-family: ${a()};
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: ${e.textAlign};
      ${e.responsiveSizing?"container-type: size; container-name: clock;":""}
    }

    :root {
      --clock-bg-color: ${o.backgroundColor};
      --clock-primary-color: ${o.clockColor};
      --clock-text-color: ${o.textColor};
      --clock-digit-color: ${o.digitColor};
    }

    #clock {
      font-size: 64px;
      font-weight: bold;
      color: ${o.clockColor};
      ${e.textShadows?"text-shadow: 0 2px 4px rgba(0,0,0,0.1);":""}
      ${e.glowEffect?`text-shadow: 0 0 ${O.effects.glowBlur} ${o.clockColor};`:""}
      ${e.gradientText?`
        background: ${O.gradients.gradient};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      `:""}
    }

    #date {
      margin-top: 16px;
      font-size: 18px;
      opacity: 0.7;
      ${e.textShadows?"text-shadow: 0 1px 2px rgba(0,0,0,0.1);":""}
    }

    .customize-button {
      margin-top: 16px;
      padding: 8px 16px;
      background: ${o.clockColor};
      color: ${o.digitColor};
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: ${O.fonts.heading};
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .customize-button:hover {
      opacity: 1;
    }

    ${e.blinkingSeparator?`
    @keyframes blink-separator {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .blink-separator {
      animation: blink-separator 1s step-end infinite;
    }
    `:""}

    ${e.responsiveSizing?`
    @container clock (max-width: 300px) {
      #clock { font-size: clamp(24px, 8cqw, 48px) !important; }
      #date { font-size: clamp(12px, 4cqw, 16px) !important; }
    }

    @container clock (min-width: 301px) and (max-width: 600px) {
      #clock { font-size: clamp(36px, 10cqw, 64px) !important; }
      #date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
    }

    @container clock (min-width: 601px) {
      #clock { font-size: clamp(48px, 12cqw, 96px) !important; }
      #date { font-size: clamp(16px, 5cqw, 24px) !important; }
    }
    `:""}

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        #clock {
          color: ${e.darkMode.clockColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  ${e.showDate?'<div id="date"></div>':""}
  ${e.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${Yr(e)}
  <\/script>
</body>
</html>`},Yr=e=>{const o=e.clockType==="analog-smooth"||e.clockType==="analog-trail";return`
  function updateClock() {
    const now = new Date();
    const timeOptions = {
      hour: '2-digit',
      minute: '2-digit',
      second: ${e.showSeconds},
      hour12: ${e.is12Hour}${e.timezone&&e.timezone!=="local"?`,
      timeZone: '${e.timezone}'`:""}
    };

    let timeStr = now.toLocaleTimeString([], timeOptions);

    ${e.blinkingSeparator?`
    // Apply blinking to separators
    const clockEl = document.getElementById('clock');
    clockEl.innerHTML = timeStr.split('').map(char =>
      char === ':' ? '<span class="blink-separator">' + char + '</span>' : char
    ).join('');
    `:`
    document.getElementById('clock').textContent = timeStr;
    `}

    ${e.showDate?`
      // Format date based on dateFormat config
      let dateStr;
      const tzOpts = ${e.timezone&&e.timezone!=="local"?`{ timeZone: '${e.timezone}' }`:"{}"};

      switch ('${e.dateFormat||"long"}') {
        case 'long':
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'short':
          dateStr = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'numeric':
          dateStr = now.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'european':
          dateStr = now.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'iso':
          const year = now.getFullYear();
          const month = String(now.getMonth() + 1).padStart(2, '0');
          const day = String(now.getDate()).padStart(2, '0');
          dateStr = year + '-' + month + '-' + day;
          break;
        default:
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
      }

      ${e.timezone?`
      // Add timezone offset
      const tzOffset = ${e.timezone==="local"||!e.timezone?`
        (() => {
          const offset = -now.getTimezoneOffset();
          const hours = Math.floor(Math.abs(offset) / 60);
          const minutes = Math.abs(offset) % 60;
          const sign = offset >= 0 ? '+' : '-';
          return 'UTC' + sign + String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
        })()
      `:`
        (() => {
          try {
            const formatter = new Intl.DateTimeFormat('en-US', {
              timeZone: '${e.timezone}',
              timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(now);
            const tzPart = parts.find(p => p.type === 'timeZoneName');
            return tzPart ? tzPart.value : '';
          } catch (e) {
            return '';
          }
        })()
      `};
      document.getElementById('date').innerHTML = dateStr + '<br><span style="font-size: 0.85em; opacity: 0.6;">' + tzOffset + '</span>';
      `:`
      document.getElementById('date').textContent = dateStr;
      `}
    `:""}
  }

  ${o?`
  function animate() {
    updateClock();
    requestAnimationFrame(animate);
  }
  animate();
  `:`
  setInterval(updateClock, 1000);
  updateClock();
  `}
`},Wa={id:"countdown",label:"Countdown",description:"Event countdowns with flip cards and confetti",defaultConfig:{eventTitle:"Project Launch",targetDate:new Date(Date.now()+864e5*30).toISOString().slice(0,16),format24h:!0,ignoreTimezone:!0,timezone:"UTC",recurringType:"none",recurringEndDate:null,countdownStyle:"flip-countdown",showYear:!1,showMonth:!0,showWeek:!1,showDay:!0,showHour:!0,showMinute:!0,showSecond:!0,confettiDuration:"5min",stopAtZero:!0,completionMessage:"🎉 Event Started!",redirectOnComplete:!1,redirectUrl:"",showToGoLabel:!0,digitFontFamily:"default",textFontFamily:"default",textAlign:"center",textShadows:!1,useTransparentBg:!0,appearance:"system",lightMode:{textColor:O.colors.graphite,panelColor:O.colors.stardustWhite,digitColor:O.colors.nightBlack},darkMode:{textColor:O.colors.stardustWhite,panelColor:O.colors.graphite,digitColor:O.colors.stardustWhite},showHoverMenu:!1,showCustomizeButton:!1},fields:[{name:"eventTitle",label:"Event Title",type:"text",section:"event"},{name:"targetDate",label:"Target Date & Time",type:"datetime-local",section:"event"},{name:"format24h",label:"24-Hour Format",type:"boolean",section:"event"},{name:"ignoreTimezone",label:"Ignore Timezone",type:"boolean",section:"event"},{name:"timezone",label:"Timezone",type:"select",section:"event",options:[{label:"UTC",value:"UTC"},{label:"EST (UTC-5)",value:"America/New_York"},{label:"PST (UTC-8)",value:"America/Los_Angeles"},{label:"GMT",value:"Europe/London"},{label:"CET (UTC+1)",value:"Europe/Paris"},{label:"JST (UTC+9)",value:"Asia/Tokyo"}]},{name:"recurringType",label:"Recurring",type:"select",section:"event",options:[{label:"None",value:"none"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}]},{name:"recurringEndDate",label:"Recurring End Date",type:"datetime-local",section:"event",condition:e=>e.recurringType!=="none"},{name:"countdownStyle",label:"Countdown Style",type:"select",section:"style",options:[{label:"Text Only",value:"text-only"},{label:"Flip Countdown",value:"flip-countdown"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"style",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"showYear",label:"Show Years",type:"boolean",section:"units"},{name:"showMonth",label:"Show Months",type:"boolean",section:"units"},{name:"showWeek",label:"Show Weeks",type:"boolean",section:"units"},{name:"showDay",label:"Show Days",type:"boolean",section:"units"},{name:"showHour",label:"Show Hours",type:"boolean",section:"units"},{name:"showMinute",label:"Show Minutes",type:"boolean",section:"units"},{name:"showSecond",label:"Show Seconds",type:"boolean",section:"units"},{name:"confettiDuration",label:"Confetti Duration",type:"select",section:"completion",options:[{label:"Never",value:"never"},{label:"1 Minute",value:"1min"},{label:"5 Minutes",value:"5min"},{label:"10 Minutes",value:"10min"},{label:"1 Hour",value:"1hour"},{label:"Forever",value:"forever"}]},{name:"stopAtZero",label:"Stop at Zero",type:"boolean",section:"completion"},{name:"completionMessage",label:"Completion Message",type:"text",section:"completion"},{name:"redirectOnComplete",label:"Redirect on Completion",type:"boolean",section:"completion"},{name:"redirectUrl",label:"Redirect URL",type:"text",section:"completion",condition:e=>e.redirectOnComplete},{name:"showToGoLabel",label:'Show "To Go/Ago" Label',type:"boolean",section:"completion"},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var Ra=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,r=>o[r])},pr=(e,o)=>{const r=Math.floor(e/1e3),s=Math.floor(r/60),d=Math.floor(s/60),l=Math.floor(d/24),a=Math.floor(l/7),m=Math.floor(l/30.44);return{finished:!1,isPast:o,years:Math.floor(l/365.25),months:m%12,weeks:a%4,days:l%7,hours:d%24,minutes:s%60,seconds:r%60}},mr=(e,o)=>{const r=new Date,s=new Date(e)-r;return s<=0?o?{finished:!0,isPast:!1}:pr(Math.abs(s),!0):pr(s,!1)};const Oa=({config:e,onCustomizeRequest:o})=>{const[r,s]=(0,h.useState)(()=>mr(e.targetDate,e.stopAtZero)),[d,l]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[a,m]=(0,h.useState)(!1),[n,g]=(0,h.useState)(null),[c]=(0,h.useState)(()=>Array.from({length:50},()=>({left:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})));(0,h.useEffect)(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)"),x=_=>l(_.matches);return y.addEventListener("change",x),()=>y.removeEventListener("change",x)},[]);const u=(0,h.useMemo)(()=>e.appearance==="dark"?!0:e.appearance==="light"?!1:d,[e.appearance,d]);(0,h.useEffect)(()=>{const y=setInterval(()=>{const x=mr(e.targetDate,e.stopAtZero);x.finished&&!a&&e.confettiDuration!=="never"&&(m(!0),g(Date.now())),s(x)},1e3);return()=>clearInterval(y)},[e.targetDate,e.stopAtZero,a,e.confettiDuration]),(0,h.useEffect)(()=>{if(!a||!n)return;const y={never:0,"1min":6e4,"5min":3e5,"10min":6e5,"1hour":36e5,forever:1/0}[e.confettiDuration];if(y===1/0)return;const x=setTimeout(()=>{m(!1)},y);return()=>clearTimeout(x)},[a,n,e.confettiDuration]);const b=(0,h.useMemo)(()=>{const y={textColor:u?"#F8F9FF":"#0B0E12",panelColor:u?"#1F2937":"#F8F9FF",digitColor:u?"#F8F9FF":"#0B0E12"};return(u?e.darkMode:e.lightMode)||y},[u,e.darkMode,e.lightMode]),k=y=>{const x={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return x[y]||x.default},T=({value:y,label:x,isLast:_})=>e.countdownStyle==="flip-countdown"?(0,t.jsxs)("div",{className:"flex flex-col items-center mx-2",children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center font-mono rounded-lg overflow-hidden shadow-lg",style:{backgroundColor:b.panelColor,color:b.digitColor,fontSize:"2.5rem",padding:"12px 20px",minWidth:"80px",fontFamily:k(e.digitFontFamily),textShadow:e.textShadows?`0 0 ${Xe.glowBlur} rgba(0,0,0,0.3)`:"none"},children:[(0,t.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black/10"}),String(y).padStart(2,"0")]}),(0,t.jsx)("span",{className:"text-xs uppercase mt-2 font-bold tracking-wide",style:{color:b.textColor,fontFamily:k(e.textFontFamily),opacity:.7},children:x})]}):(0,t.jsxs)("span",{className:"mx-1",style:{fontFamily:k(e.digitFontFamily),fontSize:"2rem",fontWeight:"bold",color:b.textColor},children:[y," ",x,!_&&", "]}),C=[];return e.showYear&&r.years>0&&C.push({value:r.years,label:"Year"}),e.showMonth&&r.months>0&&C.push({value:r.months,label:"Month"}),e.showWeek&&r.weeks>0&&C.push({value:r.weeks,label:"Week"}),e.showDay&&C.push({value:r.days||0,label:"Day"}),e.showHour&&C.push({value:r.hours||0,label:"Hr"}),e.showMinute&&C.push({value:r.minutes||0,label:"Min"}),e.showSecond&&C.push({value:r.seconds||0,label:"Sec"}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 transition-colors relative",style:{backgroundColor:e.useTransparentBg?"transparent":u?Xe.colors.nightBlack:Xe.colors.stardustWhite,textAlign:e.textAlign},children:[a&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:c.map((y,x)=>(0,t.jsx)("div",{className:"absolute animate-confetti",style:{left:`${y.left}%`,top:"-10px",width:"10px",height:"10px",backgroundColor:Object.values(Xe.colors)[x%Object.values(Xe.colors).length],animation:`confettiFall ${y.duration}s linear infinite`,animationDelay:`${y.delay}s`,opacity:.8,borderRadius:"2px"}},x))}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",style:{color:b.textColor,fontFamily:k(e.textFontFamily),textShadow:e.textShadows?`0 0 ${Xe.glowBlur} rgba(0,0,0,0.1)`:"none"},children:Ra(e.eventTitle)}),(0,t.jsx)("div",{className:`flex ${e.countdownStyle==="flip-countdown"?"gap-2":"flex-wrap justify-center"}`,children:r.finished?(0,t.jsx)("div",{className:"text-4xl font-bold",style:{color:b.textColor},children:"🎉 Event Started!"}):C.map((y,x)=>(0,t.jsx)(T,{value:y.value,label:y.label,isLast:x===C.length-1},y.label))}),e.showToGoLabel&&!r.finished&&(0,t.jsx)("div",{className:"mt-4 text-sm uppercase tracking-wide opacity-60",style:{color:b.textColor,fontFamily:k(e.textFontFamily)},children:r.isPast?"Ago":"To Go"}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"mt-6 px-6 py-2 rounded-lg font-medium text-sm",style:{backgroundColor:b.panelColor,color:b.digitColor,opacity:.8},onClick:()=>o?.("event"),children:"Customize"}),(0,t.jsx)("style",{children:`
        @keyframes confettiFall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
      `})]})};var hr=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,r=>o[r])};const Ha=e=>{const o=e.appearance==="dark",r=o?e.darkMode:e.lightMode,s=e.useTransparentBg?"transparent":o?O.colors.nightBlack:O.colors.stardustWhite;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown - ${hr(e.eventTitle)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${s};
      color: ${r.textColor};
      font-family: ${O.fonts.body};
      display: flex;
      flex-direction: column;
      align-items: ${e.textAlign==="left"?"flex-start":e.textAlign==="right"?"flex-end":"center"};
      justify-content: center;
      padding: 32px;
      text-align: ${e.textAlign};
    }

    #event-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 24px;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.1);`:""}
    }

    #countdown-display {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .countdown-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 8px;
    }

    .countdown-digit {
      background: ${r.panelColor};
      color: ${r.digitColor};
      font-size: 2.5rem;
      padding: 12px 20px;
      border-radius: 8px;
      min-width: 80px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
      ${e.textShadows?`text-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.3);`:""}
    }

    .countdown-digit::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: rgba(0,0,0,0.1);
    }

    .countdown-label {
      font-size: 0.75rem;
      margin-top: 8px;
      opacity: 0.7;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 0.05em;
    }

    #label {
      margin-top: 16px;
      font-size: 0.875rem;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    #confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    @media (prefers-color-scheme: dark) {
      ${e.appearance==="system"?`
        body {
          background: ${e.useTransparentBg?"transparent":e.darkMode.backgroundColor};
          color: ${e.darkMode.textColor};
        }
        .countdown-digit {
          background: ${e.darkMode.panelColor};
          color: ${e.darkMode.digitColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <h2 id="event-title">${hr(e.eventTitle)}</h2>
  <div id="countdown-display"></div>
  ${e.showToGoLabel?'<div id="label"></div>':""}
  <div id="confetti-container"></div>

  <script>
    ${Qr(e)}
  <\/script>
</body>
</html>`},Qr=e=>{const o=e.appearance==="dark"?e.darkMode:e.lightMode;return`
    const config = ${JSON.stringify(e)};
    const colors = ${JSON.stringify(o)};
    const JAZER_BRAND_COLORS = ${JSON.stringify(O.colors)};

    let confettiActive = false;
    let confettiStartTime = null;

    function calculateTimeLeft() {
      const now = new Date();
      const target = new Date(config.targetDate);
      const diff = target - now;

      if (diff <= 0) {
        if (config.stopAtZero) {
          triggerConfetti();
          return { finished: true };
        }
        return calculateUnits(Math.abs(diff), true);
      }

      return calculateUnits(diff, false);
    }

    function calculateUnits(ms, isPast) {
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const h = Math.floor(m / 60);
      const d = Math.floor(h / 24);

      return {
        finished: false,
        isPast,
        days: d,
        hours: h % 24,
        minutes: m % 60,
        seconds: s % 60
      };
    }

    function triggerConfetti() {
      if (confettiActive || config.confettiDuration === 'never') return;
      confettiActive = true;
      confettiStartTime = Date.now();

      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = \`
          position: absolute;
          left: \${Math.random() * 100}%;
          top: -10px;
          width: 10px;
          height: 10px;
          background: \${Object.values(JAZER_BRAND_COLORS)[i % Object.values(JAZER_BRAND_COLORS).length]};
          animation: fall \${2 + Math.random() * 3}s linear infinite;
          opacity: 0.8;
          border-radius: 2px;
        \`;
        container.appendChild(confetti);
      }

      const durations = { '1min': 60000, '5min': 300000, '10min': 600000, '1hour': 3600000 };
      if (config.confettiDuration !== 'forever') {
        setTimeout(() => {
          container.innerHTML = '';
          confettiActive = false;
        }, durations[config.confettiDuration]);
      }
    }

    function updateCountdown() {
      const timeLeft = calculateTimeLeft();
      const display = document.getElementById('countdown-display');

      if (timeLeft.finished) {
        display.innerHTML = '<div style="font-size: 2rem; font-weight: bold;">🎉 Event Started!</div>';
        return;
      }

      const units = [];
      if (config.showDay) units.push({ value: timeLeft.days, label: 'Days' });
      if (config.showHour) units.push({ value: timeLeft.hours, label: 'Hours' });
      if (config.showMinute) units.push({ value: timeLeft.minutes, label: 'Min' });
      if (config.showSecond) units.push({ value: timeLeft.seconds, label: 'Sec' });

      display.innerHTML = units.map(u => \`
        <div class="countdown-unit">
          <div class="countdown-digit">\${String(u.value).padStart(2, '0')}</div>
          <span class="countdown-label">\${u.label}</span>
        </div>
      \`).join('');

      if (config.showToGoLabel) {
        document.getElementById('label').textContent = timeLeft.isPast ? 'Ago' : 'To Go';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  `},Ga="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Bt=(e=21)=>{let o="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)o+=Ga[r[e]&63];return o};var Lt={id:Bt(),label:"Button",icon:"✨",hideIcon:!1,url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"},xr=[{id:"focus",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],qa=[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],Ua=[{title:"Button Modes",description:"Modes create entire categories of button behavior so every press feels intentional.",items:[{title:"Action Mode",body:"Executes a single action (log, toggle, open link, trigger webhook, etc.)."},{title:"Macro Mode",body:"Chains multiple actions together so one press can log, toggle, and open a link in sequence."},{title:"Input Mode",body:"Prompts for a quick note, pomodoro intention, or task title before running the macro."},{title:"Cycle Mode",body:"Each press cycles through presets (Start, Pause, Skip, Complete) with matching badges and colors."},{title:"Toggle Mode",body:"Maintains an on/off state with glow + data logging so you can see whether the button is active."}]},{title:"Visual & Interactive Touches",description:"Micro-interactions make the widget feel premium.",items:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts to match the action being taken."},{title:"Particles & Traces",body:"Neon ripple, energy pulse, pixel burst, glow sweep, or magnetic hover trails."},{title:"Active Duration Glow",body:"While macros run the button slowly pulses, shifts color, or shows a progress arc."},{title:"Badges",body:"Counts, streak icons, warning dots, and data pills keep the button status visible."}]},{title:"Data-Aware Reactions",description:"Let Notion data change the way the button behaves or looks.",items:[{title:"Task Pressure",body:"If today's tasks are incomplete the button shifts to warning red."},{title:"Streak Glow",body:"When pomodoro streak continues the button gets a brighter glow."},{title:"Done State",body:"Marking a database property as Done swaps in a green check pill."},{title:"Unlocks",body:"When a field equals a value, the button can unlock a new animation or action."}]},{title:"Notion Integration",description:"The serious power comes from two-way Notion sync.",items:[{title:"Connect a Database",body:"Point to Tasks, Journal, Habits, or Pomodoros and choose create, update, or toggle actions."},{title:"Templates + Prefill",body:"Apply a template per button and pre-fill tags, owners, and dates."},{title:"Advanced Logging",body:"Capture button ID, widget ID, timestamps, and user-entered text for every press."},{title:"Two-Way Rules",body:"Check Notion data before acting so limits, completed flags, or custom focus modes change the outcome."}]},{title:"Smart Logic",description:"Conditional flows prevent accidental presses.",items:[{title:"If/Else Branching",body:"If a timer is active, pause it. Otherwise start focus. Same button, two outcomes."},{title:"Data-Driven UI",body:"Swap label, icon, color, or tooltip whenever a Notion property changes."}]},{title:"Layout-Level Controls",description:"Organize multiple buttons into purposeful groups.",items:[{title:"Button Groups",body:"Vertical stacks, inline clusters, grids, or rows with spacers keep things tidy."},{title:"Linked Buttons",body:"Pomodoro Start -> Pause -> Log Session -> Complete Task all sharing one state."},{title:"Variants",body:"Text, icon-only, icon + text, capsule, circular, floating orb, outline, or ghost styles."}]},{title:"Wow Moments",description:"Moments of surprise drive engagement.",items:[{title:"Energy Charge Ring",body:"Every press charges a ring that wraps the button."},{title:"Streak Transform",body:"As the streak grows the glow, color, and animation intensity evolve."},{title:"Secret Long Press",body:"Holding for two seconds can unlock a different action or log."},{title:"Morphing States",body:"Square -> circle, icon -> checkmark, text -> animated success message."},{title:"Dynamic Labels",body:`Rotate label text: "Press Me" -> "Let's cook" -> "Energy +1" -> "Keep grinding".`}]},{title:"Button Library",description:"Build a catalog so users can drag in what they need.",items:[{title:"Examples",body:"Log Button, Task Toggle, Cycle/Pomodoro button, Create Page, Template trigger, Counter, Mode Switcher, Theme Toggle, Playlist, Navigation, Meta/Macro, and Secret long-press buttons."}]}],at=()=>({cycleIndex:0,isActive:!1,badgeCount:0,awaitingInput:!1,inputValue:"",macroLog:[],animationKey:0,lastCompleteAt:0,isRecentlyCompleted:!1,isProcessing:!1,lastLoggedStatus:null,energyCharge:0,secretUnlocked:!1,counterValue:0,playlistIndex:0,modeIndex:0,themeMode:"dark",cycleStep:0,dynamicLabelIndex:0,timerRunning:!1}),dt=(e="")=>e.split(`
`).map(o=>o.trim()).filter(Boolean),gr=e=>dt(e.playlistText||""),Ja=e=>dt(e).map(o=>{const[r="",s="",d=""]=o.split("|");return{id:`${r}-${s}`.trim()||Bt(),label:r.trim(),badge:s.trim(),color:d.trim()}}).filter(o=>o.label),Za=e=>dt(e).map((o,r)=>{const[s="log",d="Action",l="200"]=o.split("|");return{id:`${s}-${r}`,type:s.trim()||"log",label:d.trim()||"Action",delay:Number(l)||200}}).filter(o=>o.type),Ya=(e="")=>e.split(/;|\n/).map(o=>o.trim()).filter(Boolean).map(o=>{const[r="",...s]=o.split("=");return{key:r.trim(),value:s.join("=").trim()}}).filter(o=>o.key),Qa=(e=200)=>new Promise(o=>setTimeout(o,e));const Ka=({config:e,onConfigChange:o,onCustomizeRequest:r,brandTheme:s})=>{const{theme:d,getColor:l}=pt(),[a,m]=(0,h.useState)(e.buttons||[Lt]),[n,g]=(0,h.useState)(null),[c,u]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[b,k]=(0,h.useState)({}),[T,C]=(0,h.useState)([]),y=(0,h.useRef)({}),x=(0,h.useRef)(0),_=()=>(x.current+=1,x.current),[w,N]=(0,h.useState)(!1),f=s||e.brandThemeSnapshot,D=p=>{r?r(p):N(!0)},z=n?a.findIndex(p=>p.id===n):-1,q=(0,h.useMemo)(()=>({jazerNeon:{bgColor:l("electricPurple"),outlineColor:l("electricPurple"),textColor:l("stardustWhite"),hoverBgColor:l("ultraviolet")},cosmicBlue:{bgColor:l("cosmicBlue"),outlineColor:l("cosmicBlue"),textColor:l("stardustWhite"),hoverBgColor:l("aetherTeal")},neonPink:{bgColor:l("neonPink"),outlineColor:l("neonPink"),textColor:l("stardustWhite"),hoverBgColor:"#EC4899"},purple:{bgColor:"#6940A5",outlineColor:"#6940A5",textColor:"#FFFFFF",hoverBgColor:"#8B5CF6",hoverTextColor:"#FFFFFF"},blue:{bgColor:"#0B6E99",outlineColor:"#0B6E99",textColor:"#FFFFFF",hoverBgColor:"#2D9CDB",hoverTextColor:"#FFFFFF"},red:{bgColor:"#E03E3E",outlineColor:"#E03E3E",textColor:"#FFFFFF",hoverBgColor:"#EB5757",hoverTextColor:"#FFFFFF"},green:{bgColor:"#0F7B6C",outlineColor:"#0F7B6C",textColor:"#FFFFFF",hoverBgColor:"#27AE60",hoverTextColor:"#FFFFFF"},yellow:{bgColor:"#DFAB01",outlineColor:"#DFAB01",textColor:"#FFFFFF",hoverBgColor:"#F2C94C",hoverTextColor:"#FFFFFF"},orange:{bgColor:"#D9730D",outlineColor:"#D9730D",textColor:"#FFFFFF",hoverBgColor:"#F2994A",hoverTextColor:"#FFFFFF"},pink:{bgColor:"#AD1A72",outlineColor:"#AD1A72",textColor:"#FFFFFF",hoverBgColor:"#D946A6",hoverTextColor:"#FFFFFF"},brown:{bgColor:"#64473A",outlineColor:"#64473A",textColor:"#FFFFFF",hoverBgColor:"#8B6F47",hoverTextColor:"#FFFFFF"},grey:{bgColor:"#9B9A97",outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBgColor:"#BDBDBD",hoverTextColor:"#FFFFFF"},black:{bgColor:"#000000",outlineColor:"#000000",textColor:"#FFFFFF",hoverBgColor:"#333333",hoverTextColor:"#FFFFFF"}}),[l]);(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>m(e.buttons||[Lt]));return()=>cancelAnimationFrame(p)},[e.buttons]),(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>{k(j=>{const F={};return a.forEach(M=>{F[M.id]=j[M.id]||at()}),F})});return()=>cancelAnimationFrame(p)},[a]),(0,h.useEffect)(()=>{o("buttons",a)},[a,o]),(0,h.useEffect)(()=>{if(e.appearanceMode!=="system"||typeof window>"u")return;const p=window.matchMedia("(prefers-color-scheme: dark)"),j=F=>u(F.matches);return p.addEventListener("change",j),()=>p.removeEventListener("change",j)},[e.appearanceMode]);const ie=(0,h.useMemo)(()=>e.appearanceMode==="system"?c:e.appearanceMode==="dark",[e.appearanceMode,c]);(0,h.useEffect)(()=>{if(!w||typeof window>"u")return;const p=j=>{j.key==="Escape"&&N(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[w]);const Z=(0,h.useCallback)((p,j)=>{k(F=>{const M=F[p]||at(),R=typeof j=="function"?j(M):j;return{...F,[p]:{...M,...R}}})},[]),xe=(0,h.useMemo)(()=>e.macroMode?.actionsText?Za(e.macroMode.actionsText):Array.isArray(e.macroMode?.actions)?e.macroMode.actions:qa,[e.macroMode]),te=(0,h.useMemo)(()=>{if(e.cycleMode?.valuesText){const p=Ja(e.cycleMode.valuesText);return p.length?p:xr}return Array.isArray(e.cycleMode?.values)?e.cycleMode.values:xr},[e.cycleMode]),oe=(0,h.useMemo)(()=>Array.isArray(e.inputMode?.hints)?e.inputMode.hints:dt(e.inputMode?.hints),[e.inputMode]),Y=(0,h.useMemo)(()=>{if(!e.dataAware?.enabled)return null;const p=Number(e.dataAware.sampleValue??0),j=Number(e.dataAware.goal??0),F=Number(e.dataAware.warningThreshold??0);let M="neutral";return j&&p>=j?M="success":p<=F&&(M="warning"),{value:p,goal:j,warning:F,status:M,icon:e.dataAware.statusIcon||"⚡",tasksIncomplete:!!e.dataAware.tasksIncomplete,pomodoroStreakActive:!!e.dataAware.pomodoroStreakActive,propertyDone:!!e.dataAware.propertyDone,doneLabel:e.dataAware.doneLabel||"Marked Done",timerActive:!!e.dataAware.timerActive,streakBroken:!!e.dataAware.streakBroken,projectTag:e.dataAware.projectTag||"General",projectTagTarget:e.dataAware.projectTagTarget||"Music",musicTooltip:e.dataAware.musicTooltip||"Logs in Music DB",projectTagColor:e.dataAware.projectTagColor||"#C026D3",dynamicLabels:dt(e.dataAware.dynamicLabelsText)}},[e.dataAware]),U=(0,h.useMemo)(()=>{const p=e.notionIntegration;if(!p?.enabled)return null;const j={tasks:"Tasks database",journal:"Journal database",habits:"Habits database",pomodoros:"Pomodoros database"}[p.database]||"Custom database",F={create:"Create row",update:"Update property",toggle:"Toggle checkbox"}[p.action]||"Custom action",M=Ya(p.prefillPropertiesText||""),R=p.conditional?.conditionMet,Q=p.twoWay?.taskCompleted?!1:R,X=p.conditional?Q?p.conditional.thenAction:p.conditional.elseAction:null;return{databaseLabel:j,actionLabel:F,prefill:M,template:p.template,logEntries:p.logEntries,logDestination:p.logDestination||"Console Preview",unlockField:p.unlockField,unlockValue:p.unlockValue,currentFieldValue:p.currentFieldValue,unlockReady:!!(p.unlockField&&p.unlockValue&&p.currentFieldValue&&p.unlockValue===p.currentFieldValue),limitReached:!!p.twoWay?.limitReached,taskCompleted:!!p.twoWay?.taskCompleted,mode:p.twoWay?.mode,conditionalLabel:p.conditional?.label,conditionalAction:X,conditionResolved:Q}},[e.notionIntegration]),de=(0,h.useMemo)(()=>{if(!f)return null;const p=[{label:"Background",color:f.backgroundColor||f.background},{label:"Primary",color:f.clockColor||f.primary},{label:"Accent",color:f.accentColor||f.secondary},{label:"Text",color:f.textColor||f.text}].filter(F=>F.color),j=Array.isArray(f.palette)?f.palette.slice(0,6):[];return{label:f.presetName||f.name||"Custom Brand Kit",swatches:p,palette:j,appliedAt:f.appliedAt}},[f]),ve=e.useTransparentBackground?"transparent":e.backgroundColor,Ne=()=>{m([...a,{...Lt,id:Bt()}])},qe=p=>{const j=a.find(F=>F.id===p);j&&m([...a,{...j,id:Bt()}])},E=p=>{a.length>1&&window.confirm("Are you sure you want to delete this button?")&&(m(a.filter(j=>j.id!==p)),n===p&&g(a[0]?.id||null))},G=(p,j)=>{const F=a.findIndex(R=>R.id===p);if(F===-1)return;const M=[...a];j==="up"&&F>0?[M[F-1],M[F]]=[M[F],M[F-1]]:j==="down"&&F<M.length-1&&([M[F+1],M[F]]=[M[F],M[F+1]]),m(M)},ae=(p,j,F)=>{m(a.map(M=>M.id===p?{...M,[j]:F}:M))},fe=(p,j)=>{const F=q[j];F&&m(a.map(M=>M.id===p?{...M,bgColor:F.bgColor,outlineColor:F.outlineColor,textColor:F.textColor,hoverBgColor:F.hoverBgColor||F.bgColor,hoverTextColor:F.hoverTextColor||F.textColor}:M))},Pe=p=>{const j=a.find(X=>X.id===p);if(!j)return;const{id:F,label:M,url:R,...Q}=j;m(a.map(X=>X.id===p?X:{...X,...Q}))},Be=(0,h.useCallback)(async(p,j,F)=>{if(e.macroMode?.enabled)for(const M of xe){const R=`${M.label}${F?` - ${F}`:""}`;Z(p,Q=>({...Q,macroLog:[...Q.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - ${R}`]})),M.type==="toggle"&&Z(p,Q=>({...Q,isActive:!Q.isActive,lastLoggedStatus:Q.isActive?"Inactive":"Active"})),M.type==="openLink"&&j.url&&typeof window<"u"&&window.open(j.url,"_blank","noopener,noreferrer"),await Qa(M.delay||200)}},[e.macroMode?.enabled,xe,Z]),Ze=async p=>{if(U?.limitReached)return;const j=a.find(A=>A.id===p);if(!j)return;const F=b[p]||at(),M=F.inputValue||"",R=e.cycleMode?.enabled&&te.length?te[F.cycleIndex%te.length]:null,Q=gr(j),X=new Date().toLocaleTimeString();if(Z(p,A=>({...A,isProcessing:!0,awaitingInput:!1})),U?.conditionalAction&&Z(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${X} - ${U.conditionalAction}`]})),j.behaviorType==="createPage"&&Z(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${X} - Create page in ${U?.databaseLabel}`]})),j.behaviorType==="template"&&Z(p,A=>({...A,macroLog:[...A.macroLog.slice(-3),`${X} - Template ${U?.template||"Default"} applied`]})),e.macroMode?.enabled||j.behaviorType==="meta"?await Be(p,j,M):j.url&&typeof window<"u"&&window.open(j.url,"_blank","noopener,noreferrer"),e.cycleMode?.enabled&&te.length>0&&Z(p,A=>({...A,cycleIndex:(A.cycleIndex+1)%te.length})),e.toggleMode?.enabled&&Z(p,A=>{const be=!A.isActive;return e.toggleMode.logToNotion&&typeof window<"u"&&console.log(`[Notion Log] ${j.label} is now ${be?"Active":"Inactive"}`),{...A,isActive:be,lastLoggedStatus:be?"Active":"Inactive"}}),Z(p,A=>{let be=A.macroLog;const ce=K=>{be=[...be.slice(-3),`${X} - ${K}`]},se={...A,badgeCount:A.badgeCount+1,animationKey:Date.now(),lastCompleteAt:Date.now(),isRecentlyCompleted:!0,isProcessing:!1,inputValue:"",awaitingInput:!1};switch(j.behaviorType){case"cycle":{const K=(A.cycleStep+1)%3;se.cycleStep=K,se.timerRunning=K!==0,ce(["Start focus","Pause timer","Skip break"][K]);break}case"counter":se.counterValue=A.counterValue+1,ce(`Counter ${se.counterValue}`);break;case"modeSwitcher":{const K=(A.modeIndex+1)%3;se.modeIndex=K,ce(`Mode switched to ${["Focus","Break","Deep"][K]}`);break}case"themeToggle":se.themeMode=A.themeMode==="dark"?"light":"dark",ce(`Theme ${se.themeMode}`);break;case"playlist":if(Q.length){const K=(A.playlistIndex+1)%Q.length;se.playlistIndex=K,ce(`Now playing ${Q[K]}`)}break;case"navigation":ce("Opened Notion page");break;case"meta":ce("Meta macro executed");break;case"secret":A.secretUnlocked&&ce("Secret macro executed");break;default:break}return Y?.streakBroken&&(se.counterValue=0,ce("Streak reset")),Y?.projectTag===Y?.projectTagTarget&&ce("Logged to Music DB"),Y?.dynamicLabels?.length&&(se.dynamicLabelIndex=(A.dynamicLabelIndex+1)%Y.dynamicLabels.length),se.energyCharge=Math.min(100,A.energyCharge+20),se.macroLog=be,se}),setTimeout(()=>{Z(p,A=>A.isRecentlyCompleted?{...A,isRecentlyCompleted:!1}:A)},900),U?.logEntries){let A=U.conditionalAction||(e.macroMode?.enabled?"Macro sequence":"Direct action");switch(j.behaviorType){case"createPage":A="Create Page";break;case"template":A="Apply Template";break;case"counter":A="Increment Counter";break;case"playlist":A="Cycle Playlist";break;case"modeSwitcher":A="Switch Mode";break;case"themeToggle":A="Toggle Theme";break;case"navigation":A="Open Page";break;case"meta":A="Meta Macro";break;case"secret":A="Secret Action";break;default:break}Y?.projectTag===Y?.projectTagTarget&&(A+=" · Music DB");const be=Q.length?Q[(F.playlistIndex+(j.behaviorType==="playlist"?1:0))%Q.length]:"",ce={id:`${p}-${_()}`,buttonLabel:j.label,timestamp:X,action:A,database:U.databaseLabel,destination:U.logDestination,mode:U.mode||R?.badge||"Default",userInput:M||"n/a",behavior:j.behaviorType,playlist:be};C(se=>[...se.slice(-4),ce])}},Ye=p=>{const j=b[p]||at(),F=a.find(M=>M.id===p);if(F){if(U?.limitReached){Z(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Limit reached via two-way sync.`],awaitingInput:!1}));return}if(U?.taskCompleted){Z(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Task already completed in Notion.`],awaitingInput:!1}));return}if(F.behaviorType==="secret"&&!j.secretUnlocked){Z(p,M=>({...M,macroLog:[...M.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Hold to unlock secret action.`],awaitingInput:!1}));return}if(e.inputMode?.enabled){if(!j.awaitingInput){Z(p,{awaitingInput:!0});return}if(!j.inputValue?.trim())return}Ze(p)}},We=(p,j)=>{Z(p,{inputValue:j})},xt=p=>{b[p]?.inputValue?.trim()&&Ze(p)},ge=p=>{Z(p,{awaitingInput:!1,inputValue:""})},S=p=>{y.current[p]&&clearTimeout(y.current[p]),y.current[p]=setTimeout(()=>{Z(p,j=>({...j,secretUnlocked:!0,macroLog:[...j.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Secret channel unlocked`]})),delete y.current[p]},2e3)},L=p=>{y.current[p]&&(clearTimeout(y.current[p]),delete y.current[p])},W=(p,j,F,M)=>{const R={};switch(p.behaviorType){case"cycle":{const Q=["Start Pomodoro","Pause","Skip Break"];R.label=Q[j.cycleStep%Q.length],R.icon=j.cycleStep===1?"⏸":j.cycleStep===2?"⏭":p.icon||"▶",R.tooltip=j.timerRunning?"Pause focus timer":"Start focus timer",M?.timerActive&&!j.timerRunning&&(R.label="Pause",R.icon="⏸");break}case"createPage":R.icon=p.icon||"📄",R.tooltip="Creates a Notion page";break;case"template":R.icon=p.icon||"🧩",R.tooltip="Runs the selected template";break;case"counter":R.label=`${p.label} ${j.counterValue}`,R.tooltip="Adds to counter";break;case"modeSwitcher":{const Q=["Focus","Break","Deep Work"];R.label=Q[j.modeIndex%Q.length],R.tooltip=`Switch to ${R.label} mode`;break}case"themeToggle":R.label=`Theme: ${j.themeMode==="dark"?"Dark":"Light"}`,R.icon=j.themeMode==="dark"?"🌙":"☀️",R.tooltip="Toggle theme";break;case"playlist":{const Q=F;Q.length&&(R.label=Q[j.playlistIndex%Q.length]),R.tooltip="Cycle playlist tracks",R.icon=p.icon||"🎵";break}case"navigation":R.icon=p.icon||"🔗",R.tooltip=p.url||"Opens Notion page";break;case"meta":R.tooltip="Runs macro sequence",R.icon=p.icon||"🧠";break;case"secret":j.secretUnlocked?R.tooltip="Secret macro ready":(R.label="Hold to unlock",R.tooltip="Hold for 2 seconds to reveal secret");break;default:break}return R},ne=(p,j,F,M={})=>{const{isLinkedRow:R=!1,isFirst:Q=!1,isLast:X=!1}=M,A=p.rounding==="none"?"0px":p.rounding==="slight"?"8px":"9999px",be=p.size==="small"?"8px 16px":p.size==="large"?"16px 32px":"12px 24px",ce=p.size==="small"?"0.875rem":p.size==="large"?"1.25rem":"1rem",se=p.outlineColor==="transparent"?"0px":"1px",K=`${p.bgColor}${p.bgOpacity<100?Math.round(255*(p.bgOpacity/100)).toString(16).padStart(2,"0"):""}`,me=p.variant||"solid",J={backgroundColor:j?.color||K,color:p.textColor,border:`${se} solid ${p.outlineColor}`,borderRadius:A,padding:be,fontSize:ce,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:F.isProcessing?"not-allowed":"pointer",width:e.layout==="full-width"?"100%":"auto",textAlign:"center",boxShadow:e.showHoverMenu?`0 0 ${d.effects.glowBlur} rgba(0,0,0,0.2)`:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"};switch(me){case"text":J.backgroundColor="transparent",J.border="none",J.padding="6px 12px";break;case"icon":J.width="48px",J.height="48px",J.padding="0",J.borderRadius="16px";break;case"iconText":J.padding="10px 18px";break;case"capsule":J.borderRadius="999px";break;case"circular":J.borderRadius="999px",J.width="64px",J.height="64px",J.padding="0";break;case"orb":J.borderRadius="999px",J.boxShadow="0 0 25px rgba(147, 197, 253, 0.35)",J.background="radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent), "+(j?.color||K);break;case"outline":J.backgroundColor="transparent",J.border=`1px solid ${p.outlineColor||p.textColor}`,J.color=p.outlineColor||p.textColor;break;case"ghost":J.backgroundColor="transparent",J.border="1px dashed rgba(255,255,255,0.4)",J.color=p.textColor||"#FFFFFF";break;default:break}return R&&(J.borderRadius=Q?"999px 0 0 999px":X?"0 999px 999px 0":"0",J.marginLeft=Q?"0":"-1px"),e.toggleMode?.enabled&&F.isActive&&e.toggleMode.glowWhenActive&&(J.boxShadow="0 0 20px rgba(139,92,246,0.6)"),Y&&(Y.tasksIncomplete&&(J.backgroundColor="#B91C1C",J.border="1px solid #7F1D1D",J.color="#FFFFFF"),Y.status==="success"?J.boxShadow="0 0 22px rgba(16,185,129,0.4)":Y.status==="warning"&&(J.boxShadow="0 0 18px rgba(249,115,22,0.35)"),Y.pomodoroStreakActive&&(J.boxShadow="0 0 26px rgba(236,72,153,0.45)"),Y.projectTag===Y.projectTagTarget&&(J.backgroundColor=Y.projectTagColor,J.color="#FFFFFF"),Y.streakBroken&&(J.outline="2px dashed rgba(249,115,22,0.8)",J.outlineOffset="2px")),U?.limitReached&&(J.filter="grayscale(0.55)",J.opacity=.6,J.cursor="not-allowed"),U?.unlockField&&(J.border=`1px solid ${U.unlockReady?"#10B981":"#FCD34D"}`,U.unlockReady&&(J.boxShadow="0 0 24px rgba(16,185,129,0.45)")),p.behaviorType==="themeToggle"&&(J.backgroundColor=F.themeMode==="dark"?"#0F172A":"#F8FAFC",J.color=F.themeMode==="dark"?"#F8FAFC":"#0F172A"),J};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 transition-colors relative",style:{backgroundColor:ve,color:ie?d.colors.stardustWhite:d.colors.nightBlack},children:[(0,t.jsx)("div",{className:e.layout==="vertical"||e.layout==="vertical-stack"?"flex flex-col gap-4 w-full":e.layout==="inline-cluster"?"flex gap-3 flex-nowrap overflow-x-auto w-full":e.layout==="grid"?"grid gap-4 w-full":e.layout==="linked-row"?"flex gap-0 w-full":"flex flex-wrap gap-4",style:{justifyContent:e.layout==="inline-cluster"?"flex-start":e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end",width:e.layout==="full-width"||e.layout==="grid"||e.layout==="inline-cluster"?"100%":"auto",gridTemplateColumns:e.layout==="grid"?"repeat(auto-fit, minmax(180px, 1fr))":void 0},children:a.map((p,j)=>{const F=b[p.id]||at(),M=e.cycleMode?.enabled&&te.length?te[F.cycleIndex%te.length]:null,R=gr(p);let Q=M?.label||p.label,X=M?.icon||p.icon,A=p.tooltip||"";const be=p.variant||"solid";Y?.dynamicLabels?.length&&(Q=Y.dynamicLabels[F.dynamicLabelIndex%Y.dynamicLabels.length]||Q);const ce=W(p,F,R,Y);ce.label&&(Q=ce.label),ce.icon&&(X=ce.icon),ce.tooltip&&(A=ce.tooltip),Y?.projectTag===Y?.projectTagTarget&&(X="🎵",A=Y.musicTooltip);const se=be!=="icon",K=A||Q,me=e.visuals?.badgesEnabled?Math.max(F.badgeCount,Number(e.dataAware?.sampleValue??0)):null,J=!!F.isRecentlyCompleted,we=["button-live-preview",e.visuals?.activeGlow&&F.isActive?"button-live-preview--active":"",F.isProcessing?"button-live-preview--processing":"",J?"button-live-preview--complete":"",Y?.pomodoroStreakActive?"button-live-preview--streak":"",U?.limitReached?"button-live-preview--limited":""].filter(Boolean).join(" ");return(0,t.jsxs)("div",{className:"group relative",draggable:!0,onDragStart:ue=>ue.dataTransfer.setData("buttonId",p.id),onDragOver:ue=>ue.preventDefault(),onDrop:ue=>{const ee=ue.dataTransfer.getData("buttonId"),Re=a.findIndex(H=>H.id===ee),v=a.findIndex(H=>H.id===p.id);if(Re===v)return;const B=[...a],[I]=B.splice(Re,1);B.splice(v,0,I),m(B)},children:[(0,t.jsxs)("button",{type:"button","aria-pressed":e.toggleMode?.enabled?F.isActive:void 0,className:we,title:A||void 0,"aria-label":K,style:{...ne(p,M,F,{isLinkedRow:e.layout==="linked-row",isFirst:j===0,isLast:j===a.length-1}),"--hover-bg":p.enableHoverHighlight?p.hoverBgColor:"inherit","--hover-text":p.enableHoverHighlight?p.hoverTextColor:"inherit"},disabled:F.isProcessing,onClick:()=>Ye(p.id),onMouseDown:()=>S(p.id),onMouseUp:()=>L(p.id),onMouseLeave:()=>L(p.id),onTouchStart:()=>S(p.id),onTouchEnd:()=>L(p.id),children:[!p.hideIcon&&(0,t.jsx)("span",{className:"text-lg",children:X}),se&&(0,t.jsx)("span",{children:Q}),F.isProcessing&&(0,t.jsx)(ao,{className:"w-4 h-4 animate-spin"}),e.visuals?.showProgressArc&&F.isActive&&(0,t.jsx)("span",{className:"button-progress-ring"}),e.visuals?.enableParticleEffects&&(0,t.jsx)("span",{className:"button-ripple"},F.animationKey),F.energyCharge>0&&(0,t.jsx)("span",{className:"button-energy-ring",style:{background:`conic-gradient(#8B5CF6 ${F.energyCharge*3.6}deg, transparent 0deg)`}}),e.visuals?.badgesEnabled&&(0,t.jsx)("span",{className:"button-badge",children:me}),Y?.propertyDone&&(0,t.jsxs)("span",{className:"button-done-pill",children:[(0,t.jsx)(Fe,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:Y.doneLabel})]}),U?.unlockField&&(0,t.jsx)("span",{className:`button-unlock-pill ${U.unlockReady?"button-unlock-pill--ready":""}`,children:U.unlockReady?"Unlocked":`Locked: ${U.unlockValue||"value"}`}),J&&(0,t.jsx)("span",{className:"button-complete",children:(0,t.jsx)(Fe,{className:"w-4 h-4"})}),U?.limitReached&&(0,t.jsx)("span",{className:"button-limit-overlay",children:"Limit reached"}),p.behaviorType==="secret"&&F.secretUnlocked&&(0,t.jsx)("span",{className:"button-secret-pill",children:"Secret ready"})]}),M?.badge&&(0,t.jsx)("div",{className:"mt-1 text-[11px] text-center text-purple-300 font-semibold",children:M.badge}),U?.mode&&(0,t.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-0.5",children:["Mode: ",U.mode]}),p.behaviorType==="playlist"&&R.length>0&&(0,t.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-1",children:["Now playing: ",R[F.playlistIndex%R.length]]}),e.toggleMode?.enabled&&(0,t.jsx)("div",{className:"text-[11px] text-center mt-1",style:{color:F.isActive?"#10B981":"#F87171"},children:F.isActive?"Active - Logging":"Inactive"}),e.dataAware?.enabled&&(0,t.jsxs)("div",{className:`mt-1 text-[11px] flex items-center gap-1 justify-center ${Y?.status==="warning"?"text-amber-400":Y?.status==="success"?"text-emerald-400":"text-neutral-400"}`,children:[(0,t.jsx)("span",{children:Y?.icon||"⚡"}),(0,t.jsxs)("span",{children:[e.dataAware.metricLabel||"Metric",": ",me,"/",e.dataAware.goal||0]})]}),e.inputMode?.enabled&&F.awaitingInput&&(0,t.jsxs)("div",{className:"mt-2 w-full bg-white/10 border border-white/20 rounded-lg p-3 space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] uppercase tracking-wide text-neutral-200 font-semibold",children:e.inputMode.label||"Add quick note"}),(0,t.jsx)("input",{type:"text",value:F.inputValue,onChange:ue=>We(p.id,ue.target.value),placeholder:e.inputMode.placeholder,className:"w-full bg-black/20 border border-white/20 rounded px-3 py-2 text-sm text-white focus:border-purple-400 outline-none"}),oe.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:oe.map(ue=>(0,t.jsx)("button",{type:"button",className:"text-[10px] px-2 py-1 bg-white/5 rounded-full text-neutral-300 border border-white/10 hover:border-purple-400",onClick:()=>We(p.id,ue),children:ue},ue))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",className:"flex-1 bg-purple-600 text-white rounded px-3 py-1.5 text-xs font-semibold hover:bg-purple-500",onClick:()=>xt(p.id),children:"Run Macro"}),(0,t.jsx)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded border border-white/20 text-neutral-300 hover:text-white",onClick:()=>ge(p.id),children:"Cancel"})]})]}),F.macroLog.length>0&&(0,t.jsx)("div",{className:"mt-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2 space-y-1 max-w-xs",children:F.macroLog.slice(-3).map((ue,ee)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Me,{className:"w-3 h-3 text-purple-300"}),(0,t.jsx)("span",{children:ue})]},`${p.id}-log-${ee}`))}),p.behaviorType==="secret"&&F.secretUnlocked&&(0,t.jsx)("div",{className:"mt-2 text-[11px] text-purple-200 bg-purple-900/30 border border-purple-500/40 rounded p-2",children:"Secret UI unlocked! Tap to run hidden macros."}),(0,t.jsxs)("div",{className:"absolute top-0 right-0 p-1 bg-neutral-800 rounded-bl-lg opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[(0,t.jsx)("button",{onClick:()=>qe(p.id),className:"p-1 rounded bg-blue-500 hover:bg-blue-600 text-white text-xs",children:(0,t.jsx)(Zt,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>Pe(p.id),className:"p-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs",children:(0,t.jsx)(Je,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>g(p.id),className:"p-1 rounded bg-gray-500 hover:bg-gray-600 text-white text-xs",children:(0,t.jsx)(bo,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>E(p.id),className:"p-1 rounded bg-red-500 hover:bg-red-600 text-white text-xs",children:(0,t.jsx)(Nr,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>G(p.id,"up"),disabled:j===0,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,t.jsx)(ho,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>G(p.id,"down"),disabled:j===a.length-1,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,t.jsx)(Sr,{className:"w-3 h-3"})})]})]},p.id)})}),de&&(0,t.jsxs)("div",{className:"mt-8 w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Brand Kit"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-white",children:de.label}),de.appliedAt&&(0,t.jsxs)("p",{className:"text-[10px] text-neutral-400 mt-0.5",children:["Synced ",new Date(de.appliedAt).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>N(!0),children:"Guide"}),(0,t.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>D("global"),children:"Surface Settings"})]})]}),(0,t.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Colors pulled from your Brand Theme Generator snapshot are powering this widget."}),de.swatches.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:de.swatches.map(({label:p,color:j})=>(0,t.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,t.jsx)("div",{className:"h-10 rounded-md border border-white/10 mb-1",style:{backgroundColor:j||"#0B0E12"}}),(0,t.jsx)("div",{className:"text-[10px] uppercase text-neutral-400",children:p}),(0,t.jsx)("div",{className:"text-[11px] font-mono text-neutral-200",children:j||"--"})]},`${p}-${j}`))}),de.palette.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:de.palette.map((p,j)=>(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/15",style:{backgroundColor:p}}),(0,t.jsx)("span",{className:"text-[9px] text-neutral-400 mt-1",children:p})]},`${p}-${j}`))})]}),U&&(0,t.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-black/30 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Notion Integration"}),(0,t.jsx)("p",{className:"text-base font-semibold text-white",children:U.databaseLabel}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-300 mt-1 flex-wrap",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(po,{className:"w-4 h-4 text-purple-300"}),U.actionLabel]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(to,{className:"w-4 h-4 text-purple-300"}),U.template||"No template selected"]})]})]}),(0,t.jsx)("button",{type:"button",className:"ml-auto text-xs px-3 py-1.5 rounded-md bg-purple-600 text-white font-semibold hover:bg-purple-500 transition-colors",onClick:()=>D("notionIntegration"),children:"Customize Sync"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-xs uppercase text-neutral-400",children:"Prefill Properties"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:U.prefill.length>0?U.prefill.map(({key:p,value:j})=>(0,t.jsxs)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/15 text-[11px] text-neutral-200",children:[p,": ",(0,t.jsx)("span",{className:"text-white",children:j||"value"})]},`${p}-${j}`)):(0,t.jsx)("span",{className:"text-[11px] text-neutral-500",children:"No prefill properties configured."})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:`p-3 rounded-lg border ${U.unlockReady?"border-emerald-400 bg-emerald-500/10":"border-amber-300/50 bg-amber-500/10"}`,children:[(0,t.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,t.jsx)("span",{children:"Unlock Field"}),(0,t.jsx)("span",{children:U.unlockReady?"Unlocked":"Locked"})]}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white mt-1",children:U.unlockField||"No field selected"}),!U.unlockReady&&U.unlockValue&&(0,t.jsxs)("div",{className:"text-xs text-neutral-300 mt-1",children:["Waiting for ",(0,t.jsx)("span",{className:"font-semibold",children:U.unlockValue})," (current: ",U.currentFieldValue||"n/a",")"]})]}),U.conditionalLabel&&(0,t.jsxs)("div",{className:"p-3 rounded-lg border border-purple-400/30 bg-purple-500/10",children:[(0,t.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,t.jsx)("span",{children:U.conditionalLabel}),(0,t.jsx)("span",{children:U.conditionResolved?"Condition Met":"Waiting"})]}),(0,t.jsx)("div",{className:"text-sm text-white mt-1",children:U.conditionalAction||"No fallback action configured"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase text-neutral-400",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)(lo,{className:"w-3 h-3 inline mr-1"})," Structured Log Preview"]}),(0,t.jsxs)("span",{children:[T.length,"/5 entries"]})]}),T.length===0?(0,t.jsx)("div",{className:"text-[11px] text-neutral-500 bg-white/5 rounded-lg px-3 py-2",children:"Run the button to see the Notion payload preview."}):(0,t.jsx)("div",{className:"space-y-1",children:T.map(p=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-[11px] bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-neutral-200",children:[(0,t.jsxs)("span",{children:[p.timestamp," - ",p.buttonLabel,p.behavior?` (${p.behavior})`:""]}),(0,t.jsx)("span",{className:"text-purple-300",children:p.action})]},p.id))}),(0,t.jsxs)("div",{className:"text-[10px] text-neutral-400",children:["Destination: ",(0,t.jsx)("span",{className:"text-neutral-200",children:U.logDestination})]})]})]}),n&&(0,t.jsxs)("div",{className:"mt-8 p-4 border rounded-lg shadow-lg bg-white w-full max-w-lg z-20",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg mb-4 flex justify-between items-center",children:["Edit Button: ",a.find(p=>p.id===n)?.label,(0,t.jsx)("button",{onClick:()=>g(null),className:"text-neutral-500 hover:text-neutral-700",children:(0,t.jsx)(Ge,{className:"w-4 h-4"})})]}),z!==-1&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Label"}),(0,t.jsx)("input",{type:"text",value:a[z].label,onChange:p=>ae(n,"label",p.target.value),className:"w-full p-2 border rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Icon"}),(0,t.jsx)("input",{type:"text",value:a[z].icon,onChange:p=>ae(n,"icon",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., ✨"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:a[z].hideIcon,onChange:p=>ae(n,"hideIcon",p.target.checked)})," Hide Icon"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"URL"}),(0,t.jsx)("input",{type:"url",value:a[z].url,onChange:p=>ae(n,"url",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"https://domain.ext/path"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color Presets"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(q).map(p=>(0,t.jsx)("button",{onClick:()=>fe(n,p),className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:q[p].bgColor,color:q[p].textColor},children:p},p))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Advanced Colors"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Background Color"}),(0,t.jsx)("input",{type:"color",value:a[z].bgColor,onChange:p=>ae(n,"bgColor",p.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-neutral-700",children:["Background Opacity (",a[z].bgOpacity,"%)"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:a[z].bgOpacity,onChange:p=>ae(n,"bgOpacity",parseInt(p.target.value,10))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Outline Color"}),(0,t.jsx)("input",{type:"color",value:a[z].outlineColor,onChange:p=>ae(n,"outlineColor",p.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Text Color"}),(0,t.jsx)("input",{type:"color",value:a[z].textColor,onChange:p=>ae(n,"textColor",p.target.value)})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:a[z].enableHoverHighlight,onChange:p=>ae(n,"enableHoverHighlight",p.target.checked)})," Enable Hover Highlight"]}),a[z].enableHoverHighlight&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Background Color"}),(0,t.jsx)("input",{type:"color",value:a[z].hoverBgColor,onChange:p=>ae(n,"hoverBgColor",p.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Text Color"}),(0,t.jsx)("input",{type:"color",value:a[z].hoverTextColor,onChange:p=>ae(n,"hoverTextColor",p.target.value)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Layout Options"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Size"}),(0,t.jsxs)("select",{value:a[z].size,onChange:p=>ae(n,"size",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,t.jsx)("option",{value:"small",children:"Small"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"large",children:"Large"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Corner Rounding"}),(0,t.jsxs)("select",{value:a[z].rounding,onChange:p=>ae(n,"rounding",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"slight",children:"Slight"}),(0,t.jsx)("option",{value:"round",children:"Round"})]})]})]})]})]}),(0,t.jsxs)("button",{onClick:Ne,className:"mt-8 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,t.jsx)(Fr,{className:"w-4 h-4"})," Add Button"]}),e.showCustomizeButton&&(0,t.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>D("macroInput"),children:"Customize Modes"}),w&&(0,t.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-h-full overflow-y-auto w-full max-w-4xl bg-[#0B0E12] border border-white/15 rounded-2xl p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs uppercase tracking-wide text-neutral-400 flex items-center gap-2",children:[(0,t.jsx)(Ao,{className:"w-4 h-4 text-purple-300"}),"Configuration Playbook"]}),(0,t.jsx)("p",{className:"text-xl font-semibold text-white",children:"Customize every mode"}),(0,t.jsx)("p",{className:"text-sm text-neutral-300",children:"Use this quick reference whenever the Customize button is unavailable."})]}),(0,t.jsxs)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-md border border-white/20 text-neutral-200 hover:text-white hover:border-purple-400 transition-colors flex items-center gap-1",onClick:()=>N(!1),children:[(0,t.jsx)(Ge,{className:"w-3 h-3"})," Close"]})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:Ua.map(p=>(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(Wt,{className:"w-4 h-4 text-purple-300 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:p.title}),(0,t.jsx)("p",{className:"text-xs text-neutral-300",children:p.description})]})]}),(0,t.jsx)("ul",{className:"space-y-1 text-xs text-neutral-200",children:p.items.map(j=>(0,t.jsxs)("li",{children:[(0,t.jsxs)("span",{className:"font-semibold text-white",children:[j.title,":"]})," ",j.body]},`${p.title}-${j.title}`))})]},p.title))})]})}),(0,t.jsx)("style",{children:`
        .button-live-preview {
          position: relative;
          outline: none;
          border: none;
          overflow: hidden;
          background: transparent;
        }
        .button-live-preview:hover:not(:disabled) {
          transform: translateY(-2px);
        }
        .button-live-preview--processing {
          opacity: 0.85;
        }
        .button-live-preview--active {
          animation: activeGlow 2.2s ease-in-out infinite;
        }
        .button-badge {
          position: absolute;
          top: 6px;
          right: 10px;
          background: rgba(0,0,0,0.3);
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          line-height: 1;
          border: 1px solid rgba(255,255,255,0.3);
        }
        .button-progress-ring {
          position: absolute;
          inset: 4px;
          border-radius: 999px;
          border: 2px solid rgba(255,255,255,0.2);
          border-top-color: rgba(255,255,255,0.7);
          animation: progressSpin 2.4s linear infinite;
          pointer-events: none;
        }
        .button-ripple {
          position: absolute;
          inset: -20%;
          border-radius: 50%;
          background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
          animation: ripple 0.8s ease-out;
          pointer-events: none;
        }
        .button-energy-ring {
          position: absolute;
          inset: -6px;
          border-radius: 999px;
          background: conic-gradient(#8B5CF6 0deg, transparent 0deg);
          opacity: 0.7;
          transition: background 0.3s ease;
          pointer-events: none;
        }
        .button-live-preview--complete::after {
          content: '';
        }
        .button-complete {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(16,185,129,0.2);
          animation: completePop 0.4s ease forwards;
        }
        .button-done-pill {
          position: absolute;
          bottom: 6px;
          left: 10px;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          background: rgba(16,185,129,0.15);
          color: #059669;
          border: 1px solid rgba(16,185,129,0.35);
        }
        .button-done-pill svg {
          width: 12px;
          height: 12px;
        }
        .button-unlock-pill {
          position: absolute;
          top: 6px;
          left: 10px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          border: 1px solid rgba(251,191,36,0.6);
          background: rgba(251,191,36,0.15);
          color: #FBBF24;
        }
        .button-unlock-pill--ready {
          border-color: rgba(16,185,129,0.7);
          background: rgba(16,185,129,0.2);
          color: #10B981;
        }
        .button-limit-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(11,14,18,0.65);
          color: #F87171;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }
        .button-live-preview--streak {
          animation: streakGlow 1.8s ease-in-out infinite;
        }
        .button-live-preview--limited {
          opacity: 0.55;
        }
        .button-secret-pill {
          position: absolute;
          top: 6px;
          right: 10px;
          padding: 2px 6px;
          font-size: 10px;
          border-radius: 999px;
          background: rgba(168,85,247,0.2);
          border: 1px solid rgba(168,85,247,0.5);
          color: #E9D5FF;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }
        @keyframes activeGlow {
          0%, 100% { box-shadow: 0 0 12px rgba(139,92,246,0.45); }
          50% { box-shadow: 0 0 24px rgba(59,130,246,0.55); }
        }
        @keyframes streakGlow {
          0%, 100% { box-shadow: 0 0 18px rgba(59,130,246,0.45); }
          50% { box-shadow: 0 0 30px rgba(236,72,153,0.55); }
        }
        @keyframes ripple {
          from { transform: scale(0.6); opacity: 0.8; }
          to { transform: scale(1.2); opacity: 0; }
        }
        @keyframes progressSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes completePop {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})};var Xa={id:"initial",label:"Button",icon:"?",hideIcon:!1,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:"",url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"};const $a={id:"newButtonGenerator",label:"Button Generator",icon:"MousePointerClick",description:"Create customizable buttons with advanced styling and actions.",defaultConfig:{buttons:[Xa],layout:"horizontal",alignment:"center",useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:O.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0,macroMode:{enabled:!0,actions:[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],actionsText:["log|Log quick note|180","toggle|Toggle active state|160","openLink|Open linked page|220"].join(`
`)},inputMode:{enabled:!0,label:"Add quick note",placeholder:"Add quick note or intention...",hints:["Add quick note","Add task title","Add pomodoro session notes"]},cycleMode:{enabled:!0,values:[{id:"start",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],valuesText:["Start >|Focus|#8B5CF6","Pause |||Rest|#F59E0B","Skip >>|Move|#06B6D4","Complete Done|Ship|#10B981"].join(`
`)},toggleMode:{enabled:!0,startActive:!1,glowWhenActive:!0,logToNotion:!0},visuals:{enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0,badgeLabel:"Logs today"},notionIntegration:{enabled:!0,database:"tasks",action:"create",template:"Daily Log",prefillPropertiesText:"Status=In Progress;Owner=Me",logEntries:!0,logDestination:"Console Preview",unlockField:"Mode",unlockValue:"Focus",currentFieldValue:"Focus",twoWay:{taskCompleted:!1,limitReached:!1,mode:"Focus"},conditional:{label:"If timer active",conditionMet:!1,thenAction:"Pause timer",elseAction:"Start focus"}},dataAware:{enabled:!0,metricLabel:"Logs today",sampleValue:3,goal:5,warningThreshold:2,statusIcon:"⚡",tasksIncomplete:!1,pomodoroStreakActive:!1,propertyDone:!1,doneLabel:"Marked Done",timerActive:!1,streakBroken:!1,projectTag:"General",projectTagTarget:"Music",musicTooltip:"Logs in Music DB",projectTagColor:"#C026D3",dynamicLabelsText:`Press Me
Let's cook 🔥
Energy +1
Keep grinding`}},sections:[{id:"global",label:"1. WIDGET SURFACE",description:"Dial in the canvas surrounding your buttons - transparency, background colors, and appearance mode."},{id:"layout",label:"2. BUTTON MODES",description:"Modes create entire categories of button behavior.",notes:[{title:"Action Mode",body:"Executes a single action such as logging, toggling, or opening a link."}]},{id:"macroInput",label:"3. MACRO + INPUT MODES",description:"Macro Mode chains multiple actions, while Input Mode collects context before launching the macro.",notes:[{title:"Macro Mode",body:"Executes sequential actions such as logging, toggling, opening links or changing states."},{title:"Input Mode",body:"Shows a miniature note field before running macros (quick note, task title, pomodoro notes, etc.)."}]},{id:"cycleToggle",label:"4. CYCLE + TOGGLE STATES",description:"Each press can cycle through preset states or flip a persistent toggle with Notion logging.",notes:[{title:"Cycle Mode",body:"Cycle through styles/statuses/views each press (Start, Pause, Skip, Complete)."},{title:"Toggle Mode",body:"Button keeps an Active/Inactive state, glows while active, and logs state changes."}]},{id:"notionIntegration",label:"5. NOTION INTEGRATION FEATURES",description:"Connect each button to a Notion database, templates, structured logs, and two-way conditions.",notes:[{title:"Connect to Database",body:"Pick Tasks, Journal, Habits, or Pomodoros and choose Create, Update, or Toggle actions."},{title:"Templates and Prefill",body:"Assign database templates and property defaults per button."},{title:"Two-Way Sync",body:"Grey out or switch modes when Notion properties hit certain states (completed, limits, focus modes)."},{title:"Conditional Actions",body:"If property/value matches, route to alternate actions (pause vs start, etc.)."}]},{id:"visuals",label:"6. VISUAL & INTERACTIVE FEATURES",description:"Make the button feel worth clicking with tactile feedback.",notes:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts."},{title:"Particle or Trace Effects",body:"Neon ripple, energy pulse, pixel burst, glow sweep, magnetic hover."},{title:"Active Duration Glow",body:"Pulses, color shifts, and progress arcs while the macro runs."},{title:"Button Badges",body:"Counts, status icons, warning dots, or data pills."}]},{id:"dataAware",label:"7. DATA-AWARE BUTTONS",description:"Buttons that adapt visually based on Notion data (counts, targets, warnings).",notes:[{title:"Visual cues",body:"Success aura on goal reached, warning glow when under target, metric badges."}]}],fields:[{name:"useTransparentBackground",label:"Transparent Widget Background",type:"boolean",section:"global"},{name:"setBackgroundColor",label:"Set Widget Background Color",type:"boolean",section:"global"},{name:"backgroundColor",label:"Widget Background Color",type:"color",section:"global"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"global",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"global"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"global"},{name:"layout",label:"Button Layout",type:"select",section:"layout",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Full Width",value:"full-width"},{label:"Vertical Stack",value:"vertical-stack"},{label:"Inline Cluster",value:"inline-cluster"},{label:"Linked Row",value:"linked-row"},{label:"Grid",value:"grid"}]},{name:"alignment",label:"Button Alignment",type:"select",section:"layout",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Space Evenly",value:"space-evenly"}]},{name:"macroMode.enabled",label:"Enable Macro Mode",type:"boolean",section:"macroInput"},{name:"macroMode.actionsText",label:"Macro Action Sequence (type|label|delay)",type:"textarea",rows:3,section:"macroInput"},{name:"inputMode.enabled",label:"Enable Input Prompt",type:"boolean",section:"macroInput"},{name:"inputMode.label",label:"Input Prompt Label",type:"text",section:"macroInput"},{name:"inputMode.placeholder",label:"Input Placeholder",type:"text",section:"macroInput"},{name:"inputMode.hints",label:"Input Hints (one per line)",type:"textarea",rows:3,section:"macroInput"},{name:"cycleMode.enabled",label:"Enable Cycle Mode",type:"boolean",section:"cycleToggle"},{name:"cycleMode.valuesText",label:"Cycle Presets (label|badge|color)",type:"textarea",rows:4,section:"cycleToggle"},{name:"toggleMode.enabled",label:"Enable Toggle Mode",type:"boolean",section:"cycleToggle"},{name:"toggleMode.startActive",label:"Start Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.glowWhenActive",label:"Glow When Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.logToNotion",label:"Log Toggle State (Notion)",type:"boolean",section:"cycleToggle"},{name:"notionIntegration.enabled",label:"Enable Notion Integration",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.database",label:"Database",type:"select",section:"notionIntegration",options:[{label:"Tasks",value:"tasks"},{label:"Journal",value:"journal"},{label:"Habits",value:"habits"},{label:"Pomodoros",value:"pomodoros"}]},{name:"notionIntegration.action",label:"Action",type:"select",section:"notionIntegration",options:[{label:"Create Row",value:"create"},{label:"Update Property",value:"update"},{label:"Toggle Checkbox",value:"toggle"}]},{name:"notionIntegration.template",label:"Template Name",type:"text",section:"notionIntegration"},{name:"notionIntegration.prefillPropertiesText",label:"Prefill Properties (key=value;key=value)",type:"textarea",rows:2,section:"notionIntegration"},{name:"notionIntegration.logEntries",label:"Structured Logging",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.logDestination",label:"Log Destination",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockField",label:"Unlock Field",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockValue",label:"Unlock Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.currentFieldValue",label:"Current Field Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.twoWay.taskCompleted",label:"Two-Way - Task Completed",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.limitReached",label:"Two-Way - Limit Reached",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.mode",label:"Two-Way - Mode Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.label",label:"Conditional Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.conditionMet",label:"Conditional – Condition Met",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.conditional.thenAction",label:"Conditional – If True Action",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.elseAction",label:"Conditional – If False Action",type:"text",section:"notionIntegration"},{name:"visuals.enableParticleEffects",label:"Enable Particle Effects",type:"boolean",section:"visuals"},{name:"visuals.activeGlow",label:"Active Duration Glow",type:"boolean",section:"visuals"},{name:"visuals.showProgressArc",label:"Show Progress Arc",type:"boolean",section:"visuals"},{name:"visuals.badgesEnabled",label:"Show Button Badges",type:"boolean",section:"visuals"},{name:"visuals.badgeLabel",label:"Badge Label",type:"text",section:"visuals"},{name:"dataAware.enabled",label:"Enable Data-Aware Styling",type:"boolean",section:"dataAware"},{name:"dataAware.metricLabel",label:"Metric Label",type:"text",section:"dataAware"},{name:"dataAware.sampleValue",label:"Sample value",type:"number",section:"dataAware"},{name:"dataAware.goal",label:"Goal target",type:"number",section:"dataAware"},{name:"dataAware.warningThreshold",label:"Warning threshold",type:"number",section:"dataAware"},{name:"dataAware.statusIcon",label:"Status Icon",type:"text",section:"dataAware"},{name:"dataAware.tasksIncomplete",label:"Mark as Tasks Incomplete",type:"boolean",section:"dataAware"},{name:"dataAware.pomodoroStreakActive",label:"Pomodoro Streak Active",type:"boolean",section:"dataAware"},{name:"dataAware.propertyDone",label:"Property Marked Done",type:"boolean",section:"dataAware"},{name:"dataAware.doneLabel",label:"Done Badge Label",type:"text",section:"dataAware"},{name:"dataAware.timerActive",label:"Timer Currently Active",type:"boolean",section:"dataAware"},{name:"dataAware.streakBroken",label:"Streak Broken",type:"boolean",section:"dataAware"},{name:"dataAware.projectTag",label:"Current Project Tag",type:"text",section:"dataAware"},{name:"dataAware.projectTagTarget",label:"Music Tag Target",type:"text",section:"dataAware"},{name:"dataAware.musicTooltip",label:"Music Tag Tooltip",type:"text",section:"dataAware"},{name:"dataAware.projectTagColor",label:"Music Tag Accent Color",type:"color",section:"dataAware"},{name:"dataAware.dynamicLabelsText",label:"Dynamic Labels (one per line)",type:"textarea",rows:4,section:"dataAware"}]};var Et=e=>{if(typeof e!="string")return e;const o={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return e.replace(/[&<>'"]/g,r=>o[r])};const Va=e=>{const o=e.useTransparentBackground?"transparent":e.backgroundColor,r=Array.isArray(e.buttons)?e.buttons:[],s=d=>{const l=d.rounding==="none"?"0px":d.rounding==="slight"?"8px":"9999px",a=d.size==="small"?"8px 16px":d.size==="large"?"16px 32px":"12px 24px",m=d.size==="small"?"0.875rem":d.size==="large"?"1.25rem":"1rem",n=d.outlineColor==="transparent"?"0px":"1px",g=d.enableHoverHighlight?d.hoverBgColor:d.bgColor,c=d.enableHoverHighlight?d.hoverTextColor:d.textColor;return`
          background-color: ${d.bgColor}${d.bgOpacity<100?Math.round(255*(d.bgOpacity/100)).toString(16).padStart(2,"0"):""};
          color: ${d.textColor};
          border: ${n} solid ${d.outlineColor};
          border-radius: ${l};
          padding: ${a};
          font-size: ${m};
          font-family: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          text-decoration: none;
          cursor: pointer;
          flex-shrink: 0;
          width: ${e.layout==="full-width"?"100%":"auto"};
          text-align: center;
          box-shadow: 0 0 ${O.effects.glowBlur} rgba(0,0,0,0.2);
          transition: all 0.2s ease-in-out;
          --hover-bg: ${g};
          --hover-text: ${c};
      `};return`
    <div style="
      display: flex; 
      align-items: center; 
      justify-content: center; 
      height: 100vh; 
      width: 100vw; 
      background: ${o};
      padding: 16px;
      box-sizing: border-box;
    ">
      <div style="${`
      display: flex;
      gap: 16px;
      flex-wrap: ${e.layout==="vertical"?"nowrap":"wrap"};
      flex-direction: ${e.layout==="vertical"?"column":"row"};
      justify-content: ${e.alignment==="space-evenly"?"space-evenly":e.alignment==="center"?"center":e.alignment==="left"?"flex-start":"flex-end"};
      width: ${e.layout==="full-width"?"100%":"auto"};
      height: 100%;
      align-items: ${e.layout==="full-width"&&e.alignment==="center"?"center":e.layout==="full-width"&&e.alignment==="left"?"flex-start":e.layout==="full-width"&&e.alignment==="right"?"flex-end":"initial"}; /* Adjusted for full-width alignment */
  `}">
        ${r.map(d=>`
          <a href="${Et(d.url)}" target="_blank" rel="noopener noreferrer" 
             style="${s(d)}"
             class="generated-button"
          >
            ${d.hideIcon?"":Et(d.icon)}
            <span>${Et(d.label)}</span>
          </a>
        `).join("")}
      </div>
      <style>
        .generated-button:hover {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      </style>
    </div>
  `},es=()=>"";var kt={background:"#0B0E12",text:"#F8F9FF",primary:"#8B5CF6",secondary:"#3B82F6"};const Ie=(e,o={})=>{if(!e)return null;const r=typeof e=="object"?e:{},s=Array.isArray(r.palette)?r.palette:[],d=o.backgroundColor??r.backgroundColor??r.background??s[s.length-1]??kt.background,l=o.textColor??r.textColor??r.text??s[0]??kt.text,a=o.clockColor??r.clockColor??r.primaryColor??r.primary??kt.primary,m=o.digitColor??r.digitColor??r.secondaryColor??r.secondary??kt.secondary,n=o.accentColor??r.accentColor??r.accent??a,g=o.presetName??r.presetName??r.name,c={...r,...o,palette:s,presetName:g,name:r.name||g||"Custom Brand Theme",background:d,text:l,primary:r.primary??a,secondary:r.secondary??m,accent:r.accent??n,backgroundColor:d,textColor:l,clockColor:a,digitColor:m,accentColor:n};return c.colors={...r.colors,background:d,text:l,primary:c.primary,secondary:c.secondary,accent:c.accent,palette:s},c};var br=(e,o,r)=>"#"+[e,o,r].map(s=>{const d=s.toString(16);return d.length===1?"0"+d:d}).join(""),Ut=e=>{const r=(a=>{const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return m?{r:parseInt(m[1],16),g:parseInt(m[2],16),b:parseInt(m[3],16)}:null})(e);if(!r)return 0;const[s,d,l]=[r.r,r.g,r.b].map(a=>(a=a/255,a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)));return .2126*s+.7152*d+.0722*l},ts=e=>[...e].sort((o,r)=>Ut(o)-Ut(r)),Kr=({onColorsExtracted:e,onLogoUploaded:o})=>{const[r,s]=(0,h.useState)(!1),[d,l]=(0,h.useState)(null),[a,m]=(0,h.useState)(null),[n,g]=(0,h.useState)([]),c=(0,h.useRef)(null),u=(0,h.useRef)(null),b=async C=>{const y=C.target.files?.[0];if(!y)return;s(!0);const x=new FileReader;x.onload=_=>{const w=_.target.result;l(w),o&&o(w)},x.readAsDataURL(y)},k=C=>{if(!C||!C.palette||C.palette.length===0)return[];const y=ts(C.palette),x=y[0],_=y[y.length-1],w=C.primary||x,N=C.secondary||y[1]||x,f=C.accent,D=[],z=(q,ie=null)=>{const Z={...O,colors:{...O.colors,primary:w,secondary:N,accent:f,background:q.backgroundColor,text:q.textColor,palette:C.palette},...q};return Z.isDark=ie!==null?ie:Ut(Z.colors.background)<.5,Ie(Z)};return D.push(z({id:"vibrant",name:"Vibrant",backgroundColor:_,textColor:x,primaryColor:w,secondaryColor:N,accentColor:f,panelColor:w,digitColor:_})),D.push(z({id:"dark-mode",name:"Dark Mode",backgroundColor:x,textColor:_,primaryColor:w,secondaryColor:N,accentColor:f,panelColor:x,digitColor:_},!0)),D.push(z({id:"light-mode",name:"Light Mode",backgroundColor:_,textColor:x,primaryColor:w,secondaryColor:N,accentColor:f,panelColor:_,digitColor:x},!1)),D},T=()=>{if(!u.current)return;const C=new $e;try{const y=C.getColor(u.current),x=C.getPalette(u.current,8);if(!y||!x||x.length===0){s(!1),l(null);return}const _=x.map(f=>br(f[0],f[1],f[2])),w=br(y[0],y[1],y[2]),N=Ie({...O,primary:w,secondary:_[1]||_[0],accent:_[2]||_[1],background:_[_.length-1],text:_[0],palette:_,colors:{...O.colors,primary:w,secondary:_[1]||_[0],accent:_[2]||_[1]}});m(N),g(k(N)),s(!1),e&&e(N)}catch{s(!1),l(null)}};return(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-lg mb-4 border border-purple-500/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(Me,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("h4",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold",children:"Brand Logo Color Extraction"})]}),(0,t.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:b,className:"hidden"}),d?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{ref:u,src:d,alt:"Brand logo",crossOrigin:"anonymous",onLoad:T,className:"w-full h-32 object-contain bg-white/5 rounded-lg"}),(0,t.jsx)("button",{onClick:()=>{l(null),m(null),g([]),o&&o(null),e&&e(null)},className:"absolute top-2 right-2 p-1 bg-red-500/80 hover:bg-red-500 rounded text-white",children:(0,t.jsx)(Ge,{className:"w-4 h-4"})})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[(0,t.jsx)(co,{className:"w-4 h-4 animate-spin"}),"Extracting colors..."]}),a&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[(0,t.jsx)(Fe,{className:"w-3 h-3"}),"Colors extracted successfully!"]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.palette.map((C,y)=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-10 rounded border border-white/20 shadow-lg",style:{backgroundColor:C},title:C}),(0,t.jsx)("div",{className:"text-[8px] text-white/50 mt-1 font-mono",children:C})]},y))}),n.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h5",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold mb-2",children:"Theme Variations"}),(0,t.jsx)("div",{className:"flex gap-2 justify-center",children:n.map(C=>(0,t.jsxs)("button",{onClick:()=>e&&e(Ie(C)),className:"flex flex-col items-center p-2 rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors",title:`Apply ${C.name} Theme`,children:[(0,t.jsx)("div",{className:"w-12 h-6 rounded-md mb-1",style:{background:C.backgroundColor,border:`1px solid ${C.primaryColor}`}}),(0,t.jsx)("span",{className:"text-[10px] text-white/70",children:C.name})]},C.id))})]})]})]}):(0,t.jsxs)("button",{onClick:()=>c.current?.click(),className:"w-full py-8 border-2 border-dashed border-purple-400/50 rounded-lg hover:border-purple-400 hover:bg-purple-500/10 transition-all flex flex-col items-center gap-2 text-purple-300 hover:text-purple-200",children:[(0,t.jsx)(vo,{className:"w-8 h-8"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Upload Brand Logo"}),(0,t.jsx)("span",{className:"text-xs text-purple-400/70",children:"Auto-extract colors for your widget"})]})]})},rs={clock:jt,quotes:Tr,counter:_r,imageGallery:Yt,countdown:kr,newButtonGenerator:Qt,weather:Ct},os=()=>{if(typeof window>"u")return null;const e=window.localStorage.getItem("jazer_brand_theme");if(!e)return null;try{const o=JSON.parse(e);if(o&&o.palette&&Array.isArray(o.palette)&&o.palette.length>0)return Ie(o);window.localStorage.removeItem("jazer_brand_theme")}catch{window.localStorage.removeItem("jazer_brand_theme")}return null},as=({onBack:e,onThemeGenerated:o})=>{console.log("[BrandThemeGenerator v2] Component loaded - Dec 4 2024");const[r,s]=(0,h.useState)(()=>os()),d=(0,h.useMemo)(()=>r?Zr(r):[],[r]),[l,a]=(0,h.useState)(null),m=(0,h.useMemo)(()=>{if(!d.length)return null;if(l){const x=d.find(_=>_.id===l);if(x)return x}return d[0]},[d,l]),[n,g]=(0,h.useState)(!0),[c,u]=(0,h.useState)(!1),b=x=>{if(!x){s(null),a(null);return}const _=Ie(x);s(_),a(null);try{localStorage.setItem("jazer_brand_theme",JSON.stringify(_))}catch{}},k=()=>{if(!r)return;const x=m?{...r,...m,palette:r?.palette||m.palette}:r,_=Ie(x,{presetName:m?.name??x?.presetName,name:m?.name??x?.name});localStorage.setItem("jazer_global_brand_theme",JSON.stringify(_)),localStorage.setItem("jazer_global_brand_active","true"),o&&o(_),u(!0),setTimeout(()=>u(!1),3e3)},T=()=>{window.confirm("This will remove your custom brand theme from all widgets. Continue?")&&(s(null),a(null),localStorage.removeItem("jazer_brand_theme"),localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active"),o&&o(null))},C=()=>{if(!r)return;const x={name:"Custom Brand Theme",timestamp:new Date().toISOString(),colors:r,presets:d},_=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),w=URL.createObjectURL(_),N=document.createElement("a");N.href=w,N.download="brand-theme.json",N.click(),URL.revokeObjectURL(w)},y=x=>{navigator.clipboard.writeText(x)};return(0,t.jsxs)("div",{className:"min-h-screen p-8 md:p-16 animate-fadeIn",style:{backgroundColor:"#000000",color:"#F8F9FF"},children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:e,className:"p-3 rounded-xl transition-all hover:scale-105 btn-ghost",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",color:"var(--jazer-cyan)"},children:(0,t.jsx)(Xt,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight animate-float",style:{fontFamily:"var(--font-primary)",background:"var(--gradient-text)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textTransform:"uppercase"},children:"Brand Theme Generator"}),(0,t.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-gray)",fontFamily:"var(--font-body)"},children:"Extract colors from your logo and apply them to all widgets"})]})]}),r&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105 animate-glow",style:{background:"var(--gradient-accent)",color:"white",border:"2px solid var(--border-pink)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,t.jsx)(Kt,{className:"w-4 h-4"}),"Export Theme"]}),(0,t.jsxs)("button",{onClick:T,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105",style:{background:"var(--bg-card)",color:"var(--text-gray)",border:"2px solid var(--border-default)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,t.jsx)(Cr,{className:"w-4 h-4"}),"Clear Theme"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsx)("div",{className:"space-y-6 animate-fadeInUp",children:(0,t.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-cyan)",boxShadow:"var(--shadow-cyan)"},children:[(0,t.jsx)(Kr,{onColorsExtracted:b}),r&&r.palette&&(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider",style:{color:"var(--text-gray)",fontFamily:"var(--font-secondary)"},children:"Extracted Colors"}),(0,t.jsx)("button",{onClick:()=>g(!n),className:"p-1 rounded transition-colors",style:{color:"var(--text-gray)"},children:n?(0,t.jsx)(ro,{className:"w-4 h-4"}):(0,t.jsx)(nt,{className:"w-4 h-4"})})]}),n&&r.palette&&Array.isArray(r.palette)&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:r.palette.map((x,_)=>(0,t.jsxs)("button",{onClick:()=>y(x),className:"group relative text-center transition-transform hover:scale-110",title:`Click to copy ${x}`,children:[(0,t.jsx)("div",{className:"w-full h-16 rounded-lg border-2 transition-all",style:{backgroundColor:x,borderColor:"rgba(255, 255, 255, 0.2)"}}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:(0,t.jsx)(Zt,{className:"w-4 h-4",style:{color:"white"}})}),(0,t.jsx)("div",{className:"text-[9px] font-mono mt-1",style:{color:"var(--text-gray)"},children:x})]},_))}),(0,t.jsx)("button",{onClick:k,disabled:c,className:"w-full py-5 rounded-xl font-black text-lg flex items-center justify-center gap-3 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed animate-glow",style:{background:c?"linear-gradient(135deg, #00f2ea 0%, #4facfe 100%)":"var(--gradient-accent)",color:"white",fontFamily:"var(--font-primary)",textTransform:"uppercase",letterSpacing:"0.05em",border:c?"2px solid var(--jazer-cyan)":"2px solid var(--border-pink)",boxShadow:c?"var(--shadow-cyan)":"var(--shadow-card)"},children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Fe,{className:"w-6 h-6"}),m?`${m.name} Applied!`:"Theme Applied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Me,{className:"w-6 h-6"}),m?`Apply ${m.name}`:"Apply to All Widgets"]})}),(0,t.jsx)("p",{className:"text-xs text-center",style:{color:"var(--text-gray)"},children:m?`This will apply "${m.name}" preset to all widgets`:"This will set your brand colors as the default for all widgets"})]})]})}),(0,t.jsx)("div",{className:"space-y-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:(0,t.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-purple)",boxShadow:"var(--shadow-purple)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(Je,{className:"w-7 h-7",style:{color:"var(--jazer-purple)"}}),(0,t.jsxs)("h3",{className:"text-2xl font-black",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:["Generated Presets (",d.length,")"]})]}),d.length===0?(0,t.jsxs)("div",{className:"text-center py-16 rounded-xl border-2 border-dashed",style:{borderColor:"var(--border-cyan)",color:"var(--text-gray)",background:"rgba(0, 242, 234, 0.05)"},children:[(0,t.jsx)(Me,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--jazer-cyan)",opacity:.6}}),(0,t.jsx)("p",{className:"text-xl font-bold",style:{fontFamily:"var(--font-secondary)",color:"white"},children:"Upload a logo to generate presets"}),(0,t.jsx)("p",{className:"text-sm mt-2",style:{fontFamily:"var(--font-body)"},children:"8 unique color schemes will be created automatically"})]}):(0,t.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:d.map(x=>(0,t.jsxs)("button",{onClick:()=>a(x.id),className:"w-full text-left p-5 rounded-xl transition-all hover:scale-[1.02]",style:{background:m?.id===x.id?"var(--gradient-card)":"var(--bg-card)",border:`2px solid ${m?.id===x.id?"var(--jazer-cyan)":"var(--border-default)"}`,boxShadow:m?.id===x.id?"var(--shadow-cyan)":"none"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-sm",style:{color:"white",fontFamily:"var(--font-secondary)"},children:x.name}),(0,t.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-gray)"},children:x.description})]}),m?.id===x.id&&(0,t.jsx)(Fe,{className:"w-5 h-5",style:{color:"var(--jazer-cyan)"}})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.backgroundColor},title:`Background: ${x.backgroundColor}`}),(0,t.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.clockColor},title:`Primary: ${x.clockColor}`}),(0,t.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.digitColor},title:`Digits: ${x.digitColor}`}),(0,t.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.textColor},title:`Text: ${x.textColor}`})]}),x.glow&&(0,t.jsxs)("div",{className:"mt-2 text-xs flex items-center gap-2",style:{color:"var(--jazer-cyan)"},children:[(0,t.jsx)(Me,{className:"w-3 h-3"}),"Includes glow effect"]})]},x.id))})]})})]}),r&&(0,t.jsxs)("div",{className:"glass-card animate-fadeInUp",style:{border:"2px solid var(--border-pink)",boxShadow:"var(--shadow-pink)",animationDelay:"0.2s"},children:[(0,t.jsxs)("h3",{className:"text-2xl font-black mb-6 flex items-center gap-3",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:[(0,t.jsx)(Me,{className:"w-7 h-7",style:{color:"var(--jazer-pink)"}}),"Widgets Using Your Brand Theme"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(rs).map(([x,_])=>(0,t.jsxs)("div",{className:"p-5 rounded-xl text-center transition-all hover:scale-105",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",boxShadow:"0 4px 12px rgba(0, 242, 234, 0.1)"},children:[(0,t.jsx)(_,{className:"w-10 h-10 mx-auto mb-3",style:{color:r?.primary||"var(--jazer-cyan)"}}),(0,t.jsx)("div",{className:"text-sm font-bold capitalize",style:{color:"white",fontFamily:"var(--font-secondary)"},children:x.replace(/([A-Z])/g," $1").trim()}),(0,t.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"var(--jazer-cyan)",fontFamily:"var(--font-body)"},children:"Theme Active"})]},x))}),(0,t.jsx)("div",{className:"mt-6 p-5 rounded-xl",style:{background:"linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 0, 110, 0.1))",border:"2px solid var(--border-purple)"},children:(0,t.jsxs)("p",{className:"text-sm leading-relaxed",style:{color:"white",fontFamily:"var(--font-body)"},children:["💡 ",(0,t.jsx)("strong",{style:{color:"var(--jazer-cyan)",fontWeight:700},children:"Pro Tip:"})," Your brand theme is saved locally and will be automatically applied to all widgets. You can always come back here to update or clear your theme."]})})]})]}),(0,t.jsx)("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #000000;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--jazer-purple);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--jazer-cyan);
        }
      `})]})},ss=as;function ns(e=5){const o="notion_wiz_recent_widgets",[r,s]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const d=window.localStorage.getItem(o);return d?JSON.parse(d):[]}catch{return[]}});return{recentWidgets:r,addRecentWidget:(0,h.useCallback)((d,l)=>{s(a=>{const m=a.filter(g=>g.id!==d),n=[{id:d,label:l,timestamp:Date.now()},...m].slice(0,e);try{window.localStorage.setItem(o,JSON.stringify(n))}catch{}return n})},[e]),clearRecent:(0,h.useCallback)(()=>{s([]);try{window.localStorage.removeItem(o)}catch{}},[])}}function ls(e){const o=Date.now()-e,r=Math.floor(o/1e3),s=Math.floor(r/60),d=Math.floor(s/60),l=Math.floor(d/24);return l>0?`${l} day${l>1?"s":""} ago`:d>0?`${d} hour${d>1?"s":""} ago`:s>0?`${s} minute${s>1?"s":""} ago`:"Just now"}var is=300,cs=12,ds=120,Dt={black:{bg:"#000000",text:"#FFFFFF",outline:"#000000"},grey:{bg:"#9B9A97",text:"#FFFFFF",outline:"#9B9A97"},yellow:{bg:"#DFAB01",text:"#FFFFFF",outline:"#DFAB01"},purple:{bg:"#6940A5",text:"#FFFFFF",outline:"#6940A5"},brown:{bg:"#64473A",text:"#FFFFFF",outline:"#64473A"},green:{bg:"#0F7B6C",text:"#FFFFFF",outline:"#0F7B6C"},pink:{bg:"#AD1A72",text:"#FFFFFF",outline:"#AD1A72"},orange:{bg:"#D9730D",text:"#FFFFFF",outline:"#D9730D"},blue:{bg:"#0B6E99",text:"#FFFFFF",outline:"#0B6E99"},red:{bg:"#E03E3E",text:"#FFFFFF",outline:"#E03E3E"}},us=["😊","🚀","🎨","💼","🔗","📅","✨","⭐","🔥","💡","📚","📝","📧","💬","📞","📍","🏠","💻","📱","📸","🎥","🎧","🎵","🎮","🕹️","🎲","🏆","🥇","⚽","🏀","❤️","👍","👋","🙌","👏","🤝","👀","🧠","💪","⚡","🛑","✅","❌","❓","❗","➡️","⬅️","⬆️","⬇️","🔗"],fr=[{id:"cycle",label:"Cycle Button",description:"Pomodoro start / pause / skip break",icon:"⏱",config:{label:"Pomodoro Cycle",icon:"⏱",tooltip:"Cycle focus, pause, skip",behaviorType:"cycle",variant:"capsule"}},{id:"createPage",label:"Create Page Button",description:"Creates a Notion page entry",icon:"📄",config:{label:"Create Page",icon:"📄",tooltip:"Creates a Notion page",behaviorType:"createPage",variant:"outline"}},{id:"template",label:"Template Button",description:"Applies a database template",icon:"🧩",config:{label:"Apply Template",icon:"🧩",tooltip:"Runs assigned template",behaviorType:"template",variant:"ghost"}},{id:"counter",label:"Counter Button",description:"Counts presses and displays value",icon:"🔢",config:{label:"Log Count",icon:"🔢",tooltip:"Adds to counter",behaviorType:"counter",variant:"solid"}},{id:"modeSwitcher",label:"Mode Switcher",description:"Switches focus/break modes",icon:"🔀",config:{label:"Mode Switch",icon:"🔀",tooltip:"Switches mode",behaviorType:"modeSwitcher",variant:"capsule"}},{id:"themeToggle",label:"Theme Toggle",description:"Toggles light / dark theme",icon:"🌓",config:{label:"Theme Toggle",icon:"🌓",tooltip:"Toggles theme",behaviorType:"themeToggle",variant:"orb"}},{id:"playlist",label:"Playlist Button",description:"Cycles through playlist names",icon:"🎵",config:{label:"Playlist",icon:"🎵",tooltip:"Cycle playlist tracks",behaviorType:"playlist",variant:"circular",playlistText:`Lo-fi Beats
Hyperfocus Mix
Break Vibes`}},{id:"navigation",label:"Navigation Button",description:"Opens a Notion page",icon:"🔗",config:{label:"Open Notion",icon:"🔗",tooltip:"Opens linked Notion page",behaviorType:"navigation",variant:"outline"}},{id:"meta",label:"Meta Button",description:"Runs macro sequences",icon:"🧠",config:{label:"Meta Macro",icon:"🧠",tooltip:"Runs macro playlist",behaviorType:"meta",variant:"solid"}},{id:"secret",label:"Secret Button",description:"Long-press unlocks a hidden UI",icon:"🕵️",config:{label:"Secret Button",icon:"🕵️",tooltip:"Hold for 2 seconds",behaviorType:"secret",variant:"ghost"}}],st=4,P={colors:{electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ui:{deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},fonts:{heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},fontFamily:'"Montserrat", system-ui, sans-serif',sizes:{h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)",gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)",logo:{minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/images/JaZeR BrandKit_OnSite/Logo_Primary_Full-Color.svg",gif:"/images/JaZeR_Logo_OFFICIAL.gif",favicon:"/images/JaZeR BrandKit_OnSite/favicon.svg"}}},yr=e=>typeof e!="string"?e:e.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]),ps=(e,o)=>{const[r,s]=(0,h.useState)(e);return(0,h.useEffect)(()=>{const d=setTimeout(()=>s(e),o);return()=>clearTimeout(d)},[e,o]),r},ms=e=>btoa(encodeURIComponent(JSON.stringify(e))),hs=e=>{try{return JSON.parse(decodeURIComponent(atob(e)))}catch{return null}},xs=()=>{if(typeof window>"u")return null;const e=window.localStorage.getItem("jazer_global_brand_theme"),o=window.localStorage.getItem("jazer_global_brand_active");if(e&&o==="true")try{return Ie(JSON.parse(e))}catch{return null}const r=window.localStorage.getItem("jazer_brand_theme");if(r)try{return Ie(JSON.parse(r))}catch{return null}return null},gs=(e,o)=>e.appearanceMode==="none"?{bg:e.bgColor||"transparent",text:e.textColor||"#000"}:{bg:e.backgroundMode==="transparent"?"transparent":o?"#0B0E12":e.bgColor||"#FFFFFF",text:o?e.darkTextColor||"#FFFFFF":e.lightTextColor||"#37352F"},Xr=class extends h.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,o){}render(){return this.state.hasError?(0,t.jsx)("div",{className:"flex items-center justify-center h-full bg-red-50 p-8 text-center rounded-xl",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(At,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"font-bold text-red-900 mb-2",children:"Widget Error"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mb-4",children:this.state.error?.message||"Something went wrong"}),(0,t.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset Widget"})]})}):this.props.children}},$r={none:{id:"none",label:"None / Custom",fontFamily:"ui-sans-serif, system-ui, sans-serif",headingFontFamily:"ui-sans-serif, system-ui, sans-serif",bgColor:"#ffffff",textColor:"#37352f",accentColor:"#e16259",fontLinks:"",cssVariables:"",extraCSS:""},jazer:{id:"jazer",label:"JaZeR Neon",fontFamily:'"Montserrat", system-ui, sans-serif',headingFontFamily:'"Orbitron", system-ui, sans-serif',bgColor:P.colors.nightBlack,textColor:P.colors.stardustWhite,accentColor:P.colors.electricPurple,logoPath:P.logo.paths.svg,logoGif:P.logo.paths.gif,faviconPath:P.logo.paths.favicon,fontLinks:`
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
    `,cssVariables:`:root {
      --jazer-electric-purple: ${P.colors.electricPurple};
      --jazer-cosmic-blue: ${P.colors.cosmicBlue};
      --jazer-neon-pink: ${P.colors.neonPink};
      --jazer-sunburst-gold: ${P.colors.sunburstGold};
      --jazer-aether-teal: ${P.colors.aetherTeal};
      --jazer-ultraviolet: ${P.colors.ultraviolet};
      --jazer-night-black: ${P.colors.nightBlack};
      --jazer-stardust-white: ${P.colors.stardustWhite};
      --jazer-graphite: ${P.colors.graphite};
      --jazer-soft-slate: ${P.colors.softSlate};
      
      --jazer-glow-blur: ${P.glowBlur};
      --jazer-glow-purple: ${P.glow};
    }`,extraCSS:`
    body {
      background-color: ${P.colors.nightBlack};
      color: ${P.colors.stardustWhite};
      font-family: ${P.fontFamily};
    }

    .neon-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      color: ${P.colors.stardustWhite}; 
      text-shadow: ${P.glow}; 
      letter-spacing: ${P.letterSpacing}; 
    }
    .neon-gradient-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      background: ${P.gradient}; 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      text-shadow: ${P.glow}; 
      letter-spacing: ${P.letterSpacing}; 
    }
    h1, h2, h3 { letter-spacing: ${P.letterSpacing}; font-family: "Orbitron", system-ui, sans-serif; } 
    h1 { font-size: ${P.sizes.h1}; }
    h2 { font-size: ${P.sizes.h2}; color: ${P.colors.electricPurple}; }
    h3 { font-size: ${P.sizes.h3}; color: ${P.colors.cosmicBlue}; } 
    
    button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${P.colors.cosmicBlue}; outline-offset: 2px; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: ${P.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb { background: ${P.colors.graphite}; border-radius: 5px; border: 1px solid ${P.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb:hover { background: ${P.colors.softSlate}; }
    
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes roulette { 
      0% { transform: translateY(-20px); opacity: 0; } 
      100% { transform: translateY(0); opacity: 1; } 
    }
    `}},bs=()=>(0,t.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg mb-4",children:[(0,t.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 mb-3",children:"JaZeR Brand Colors"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(P.colors).map(([e,o])=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-10 rounded mb-1 border border-white/10",style:{backgroundColor:o},title:e}),(0,t.jsx)("div",{className:"text-[8px] text-white/50 truncate",children:e})]},e))})]}),fs=({onSelect:e,onClose:o})=>{const[r,s]=(0,h.useState)(""),d=us.filter(l=>l.includes(r));return(0,t.jsxs)("div",{className:"absolute z-50 bg-[#1A1D29] border border-gray-700 rounded-lg shadow-xl w-64 max-h-60 flex flex-col top-full left-0 mt-1",children:[(0,t.jsx)("div",{className:"p-2 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(ct,{size:12,className:"absolute left-2 top-2 text-gray-500"}),(0,t.jsx)("input",{autoFocus:!0,className:"w-full bg-[#0B0E12] pl-7 pr-2 py-1 text-xs text-white rounded border border-gray-700 outline-none focus:border-purple-500",placeholder:"Search...",value:r,onChange:l=>s(l.target.value)})]})}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 p-2 overflow-y-auto",children:d.map((l,a)=>(0,t.jsx)("button",{className:"text-lg hover:bg-gray-700 rounded p-1",onClick:()=>{e(l),o()},children:l},a))})]})},ys=({value:e,onChange:o})=>{const[r,s]=(0,h.useState)(null),[d,l]=(0,h.useState)(null),a=(0,h.useRef)(null),m=(0,h.useRef)(0),n=(0,h.useMemo)(()=>[{value:"custom",label:"Custom"},...fr.map(w=>({value:w.config.behaviorType||w.id,label:w.label}))],[]),g=[{value:"solid",label:"Solid"},{value:"text",label:"Text Only"},{value:"icon",label:"Icon Only"},{value:"iconText",label:"Icon + Text"},{value:"capsule",label:"Capsule"},{value:"circular",label:"Circular"},{value:"orb",label:"Floating Orb"},{value:"outline",label:"Outline"},{value:"ghost",label:"Ghost"}];(0,h.useEffect)(()=>{const w=N=>{a.current&&!a.current.contains(N.target)&&l(null)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const c=(w,N)=>{const f=[...e];f[w]={...f[w],...N},o(f)},u={label:"New Button",url:"",icon:"✨",hideIcon:!1,colorPreset:"grey",backgroundColor:"#9B9A97",backgroundOpacity:100,outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBackgroundColor:"#FFFFFF",hoverTextColor:"#9B9A97",enableHoverHighlight:!0,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:""},b=()=>(m.current+=1,`btn-${m.current}`),k=()=>{const w={id:b(),...u};o([...e,w]),s(e.length)},T=w=>{const N={id:b(),...u,...w.config};o([...e,N]),s(e.length)},C=(w,N)=>{N.stopPropagation();const f=[...e],D={...e[w],id:b()};f.splice(w+1,0,D),o(f)},y=(w,N)=>{N.stopPropagation(),o(e.filter((f,D)=>D!==w)),r===w&&s(null)},x=(w,N)=>{N.stopPropagation();const f=e[w];o(e.map(D=>({...D,colorPreset:f.colorPreset,backgroundColor:f.backgroundColor,backgroundOpacity:f.backgroundOpacity,outlineColor:f.outlineColor,textColor:f.textColor,hoverBackgroundColor:f.hoverBackgroundColor,hoverTextColor:f.hoverTextColor,enableHoverHighlight:f.enableHoverHighlight})))},_=(w,N)=>{const f=Dt[N];c(w,{colorPreset:N,backgroundColor:f.bg,outlineColor:f.outline,textColor:f.text,hoverBackgroundColor:"#FFFFFF",hoverTextColor:f.bg})};return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"flex flex-col gap-2",children:e.map((w,N)=>(0,t.jsxs)("div",{className:"bg-[#1A1D29] border border-gray-700 rounded-lg overflow-hidden transition-all hover:border-gray-600",children:[(0,t.jsxs)("div",{className:"p-2.5 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors",onClick:()=>s(r===N?null:N),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs border border-white/10",style:{backgroundColor:w.backgroundColor,color:w.textColor},children:w.icon||""}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-200 truncate max-w-[100px]",children:w.label})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>x(N,f),title:"Copy style to all",children:(0,t.jsx)(so,{size:12})}),(0,t.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>C(N,f),title:"Duplicate",children:(0,t.jsx)(Zt,{size:12})}),(0,t.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-900/30 rounded",onClick:f=>y(N,f),title:"Delete",children:(0,t.jsx)(Nr,{size:12})}),(0,t.jsx)($t,{size:12,style:{transform:r===N?"rotate(90deg)":"none",transition:"0.2s",color:"#718096"}})]})]}),r===N&&(0,t.jsxs)("div",{className:"p-3 bg-[#111318] border-t border-gray-800 flex flex-col gap-3 animate-in slide-in-from-top-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{style:{width:"50px",position:"relative"},ref:a,children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Icon"}),(0,t.jsx)("button",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs text-center hover:border-purple-500 transition-colors",onClick:()=>l(d===N?null:N),children:w.icon||"+"}),d===N&&(0,t.jsx)(fs,{onSelect:f=>c(N,{icon:f}),onClose:()=>l(null)})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Label"}),(0,t.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500 transition-colors",value:w.label,onChange:f=>c(N,{label:f.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 flex justify-between",children:["URL ",(0,t.jsx)(jr,{size:10,className:"opacity-50"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-blue-400 p-1.5 pl-6 rounded text-xs outline-none focus:border-purple-500",placeholder:"https://...",value:w.url,onChange:f=>c(N,{url:f.target.value})}),(0,t.jsx)(_o,{size:10,className:"absolute left-2 top-2 text-gray-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Button Type"}),(0,t.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.behaviorType||"custom",onChange:f=>c(N,{behaviorType:f.target.value}),children:n.map(f=>(0,t.jsx)("option",{value:f.value,children:f.label},f.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Variant"}),(0,t.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.variant||"solid",onChange:f=>c(N,{variant:f.target.value}),children:g.map(f=>(0,t.jsx)("option",{value:f.value,children:f.label},f.value))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Tooltip"}),(0,t.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.tooltip||"",onChange:f=>c(N,{tooltip:f.target.value}),placeholder:"Describe the action..."})]}),w.behaviorType==="playlist"&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Playlist Items (one per line)"}),(0,t.jsx)("textarea",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",rows:3,value:w.playlistText||"",onChange:f=>c(N,{playlistText:f.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:w.hideIcon,onChange:f=>c(N,{hideIcon:f.target.checked})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Hide Icon"})]}),(0,t.jsxs)("div",{className:"border-t border-gray-800 pt-2",children:[(0,t.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-2 block",children:"Quick Colors"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Dt).map(f=>(0,t.jsx)("div",{className:`w-4 h-4 rounded-full cursor-pointer border border-white/10 transition-transform hover:scale-110 ${w.colorPreset===f?"ring-1 ring-white":""}`,style:{backgroundColor:Dt[f].bg},onClick:()=>_(N,f),title:f},f))})]}),(0,t.jsxs)("div",{className:"border-t border-gray-800 pt-2 space-y-2",children:[(0,t.jsxs)("label",{className:"text-[9px] uppercase font-bold text-purple-400 flex items-center gap-1",children:[(0,t.jsx)(Je,{size:10})," Custom Styles"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Bg Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("input",{type:"color",value:w.backgroundColor,onChange:f=>c(N,{backgroundColor:f.target.value,colorPreset:null}),className:"w-5 h-5 rounded cursor-pointer bg-transparent p-0 border-none"}),(0,t.jsx)("span",{className:"text-[9px] font-mono text-gray-400",children:w.backgroundColor})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[9px] text-gray-500 block mb-1",children:["Opacity ",w.backgroundOpacity,"%"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:w.backgroundOpacity,onChange:f=>c(N,{backgroundOpacity:Number(f.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Text Color"}),(0,t.jsx)("input",{type:"color",value:w.textColor,onChange:f=>c(N,{textColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Outline"}),(0,t.jsx)("input",{type:"color",value:w.outlineColor,onChange:f=>c(N,{outlineColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,t.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:w.enableHoverHighlight,onChange:f=>c(N,{enableHoverHighlight:f.target.checked})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Enable Hover Highlight"})]}),w.enableHoverHighlight&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l border-purple-500/20",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Bg"}),(0,t.jsx)("input",{type:"color",value:w.hoverBackgroundColor,onChange:f=>c(N,{hoverBackgroundColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Text"}),(0,t.jsx)("input",{type:"color",value:w.hoverTextColor,onChange:f=>c(N,{hoverTextColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]})]})]})]},w.id))}),(0,t.jsxs)("div",{className:"p-3 bg-[#0F1115] border border-gray-800 rounded-lg space-y-2",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Quick Templates"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:fr.map(w=>(0,t.jsxs)("button",{className:"p-2 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 hover:bg-purple-500/10 transition flex items-center gap-2 text-left",onClick:()=>T(w),children:[(0,t.jsx)("span",{className:"text-lg",children:w.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-white",children:w.label}),(0,t.jsx)("div",{className:"text-[10px] text-gray-400",children:w.description})]})]},w.id))})]}),(0,t.jsxs)("button",{onClick:k,className:"w-full py-2.5 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg text-xs font-bold text-purple-300 flex items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(Fr,{size:14})," Add Button"]})]})},vs=h.memo(({field:e,value:o,onChange:r})=>{if(e.locked)return(0,t.jsxs)("div",{className:"flex justify-between items-center py-1 opacity-50",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"🔒 Premium"})]});if(e.type==="boolean")return(0,t.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:e.label}),(0,t.jsx)("button",{onClick:()=>r(!o),className:`w-10 h-5 rounded-full p-1 transition-colors duration-300 ${o?"bg-purple-600":"bg-gray-700"}`,children:(0,t.jsx)("div",{className:`w-3 h-3 rounded-full bg-white shadow-md transform transition-transform duration-300 ${o?"translate-x-5":"translate-x-0"}`})})]});if(e.type==="select")return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsx)("select",{value:o||"",onChange:s=>r(s.target.value),className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500",style:{pointerEvents:"auto"},children:e.options.map(s=>(0,t.jsx)("option",{value:s.value,disabled:s.disabled,children:s.label},s.value))})]});if(e.type==="color")return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"color",value:o||"#000000",onChange:s=>r(s.target.value),className:"w-8 h-8 rounded bg-transparent border-none cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:o,onChange:s=>r(s.target.value),className:"flex-1 bg-gray-800 text-white text-xs p-2 rounded border border-gray-700"})]})]});if(e.type==="text"||e.type==="number"||e.type==="date"||e.type==="datetime-local")return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsx)("input",{type:e.type,value:o,onChange:s=>r(e.type==="number"?Number(s.target.value):s.target.value),min:e.min,max:e.max,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500 transition-colors"})]});if(e.type==="textarea")return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsx)("textarea",{value:o||"",onChange:s=>r(s.target.value),rows:e.rows||4,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500"})]});if(e.type==="checkbox-list"){const s=d=>{const l=Array.isArray(o)?o:[];l.includes(d)?r(l.filter(a=>a!==d)):r([...l,d])};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1",children:e.options.map(d=>{const l=(o||[]).includes(d.value);return(0,t.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-1 rounded",onClick:()=>s(d.value),children:[(0,t.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${l?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l&&(0,t.jsx)(Fe,{size:10,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}if(e.type==="bar-list"){const s=(l,a)=>{const m=[...o];a===-1&&l>0?[m[l],m[l-1]]=[m[l-1],m[l]]:a===1&&l<m.length-1&&([m[l],m[l+1]]=[m[l+1],m[l]]),r(m)},d=l=>{const a=[...o];a[l].enabled=!a[l].enabled,r(a)};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),(0,t.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:o.map((l,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-gray-800 last:border-0 hover:bg-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>d(a),className:`w-4 h-4 flex items-center justify-center rounded border ${l.enabled?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l.enabled&&(0,t.jsx)(Fe,{size:12,className:"text-white"})}),(0,t.jsx)("span",{className:`text-xs ${l.enabled?"text-white":"text-gray-500"}`,children:l.label})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>s(a,-1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===0,children:(0,t.jsx)(xo,{size:12})}),(0,t.jsx)("button",{onClick:()=>s(a,1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===o.length-1,children:(0,t.jsx)(So,{size:12})})]})]},l.id))})]})}if(e.type==="button-manager")return(0,t.jsx)(ys,{value:o||[],onChange:r});if(e.type==="multiselect"){const s=d=>{const l=Array.isArray(o)?o:[];if(l.includes(d))r(l.filter(a=>a!==d));else{if(e.maxItems&&l.length>=e.maxItems)return;r([...l,d])}};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:e.label}),e.maxItems&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[(o||[]).length,"/",e.maxItems," selected"]})]}),e.helpText&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText}),(0,t.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1 max-h-64 overflow-y-auto",children:e.options.map(d=>{const l=(o||[]).includes(d.value),a=e.maxItems&&!l&&(o||[]).length>=e.maxItems;return(0,t.jsxs)("div",{className:`flex items-center gap-2 p-1 rounded ${a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-white/5"}`,onClick:()=>!a&&s(d.value),children:[(0,t.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${l?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:l&&(0,t.jsx)(Fe,{size:10,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}return null}),De={clock:{...Ba,icon:(0,t.jsx)(jt,{className:"w-4 h-4"}),Component:Da,generateHTML:Pa,generateScript:Yr},weather:{...ra,icon:(0,t.jsx)(Ct,{className:"w-4 h-4"}),Component:Hr,generateHTML:Ia,generateScript:Jr},countdown:{...Wa,icon:(0,t.jsx)(kr,{className:"w-4 h-4"}),Component:Oa,generateHTML:Ha,generateScript:Qr},counter:{...qo,icon:(0,t.jsx)(_r,{className:"w-4 h-4"}),Component:Uo,generateHTML:Jo,generateScript:Zo},imageGallery:{...Yo,icon:(0,t.jsx)(Yt,{className:"w-4 h-4"}),Component:Qo,generateHTML:Xo,generateScript:$o},newButtonGenerator:{...$a,icon:(0,t.jsx)(Qt,{className:"w-4 h-4"}),Component:Ka,generateHTML:Va,generateScript:es},quotes:{...Vo,icon:(0,t.jsx)(Tr,{className:"w-4 h-4"}),Component:ea,generateHTML:ta,generateScript:zr},simpleList:{id:"simpleList",label:"List",icon:(0,t.jsx)(oo,{className:"w-4 h-4"}),defaultConfig:{title:"To Do",items:`Task 1
Task 2`,accentColor:P.colors.cosmicBlue,textColor:P.colors.graphite,bgColor:P.colors.stardustWhite},fields:[{name:"title",label:"Title",type:"text"},{name:"items",label:"Items",type:"textarea"},{name:"accentColor",label:"Accent",type:"color"}],Component:({config:e})=>{const o=(e.items||"").split(`
`).filter(Boolean);return(0,t.jsxs)("div",{className:"h-full w-full p-6 overflow-y-auto",style:{background:e.bgColor,color:e.textColor},children:[(0,t.jsx)("h3",{className:"font-bold mb-4 pb-2 border-b-2 text-lg",style:{borderColor:e.accentColor},children:e.title}),(0,t.jsx)("ul",{className:"space-y-2",children:o.map((r,s)=>(0,t.jsxs)("li",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 border rounded",style:{borderColor:e.accentColor}}),(0,t.jsx)("span",{children:r})]},s))})]})},generateHTML:e=>`
      <div style="padding:24px; height:100%; overflow-y:auto; background:${e.bgColor}; color:${e.textColor};">
        <h3 style="font-weight:bold; margin-bottom:16px; padding-bottom:8px; border-bottom:2px solid ${e.accentColor};">${yr(e.title)}</h3>
        <ul style="list-style:none; padding:0; margin:0;">
          ${(e.items||"").split(`
`).filter(Boolean).map(o=>`<li style="display:flex; gap:12px; margin-bottom:8px; cursor:pointer; align-items:center;" onclick="this.style.opacity = this.style.opacity === '0.5' ? '1' : '0.5'"><div style="width:16px; height:16px; border:2px solid ${e.accentColor}; border-radius:4px;"></div><span>${yr(o)}</span></li>`).join("")}
        </ul>
      </div>
    `,generateScript:()=>""},pomodoro:{id:"pomodoro",label:"Pomodoro",icon:(0,t.jsx)(Io,{className:"w-4 h-4"}),defaultConfig:{workTime:25,breakTime:5,accentColor:P.colors.neonPink,textColor:P.colors.graphite,bgColor:P.colors.stardustWhite},fields:[{name:"workTime",label:"Work",type:"number"},{name:"breakTime",label:"Break",type:"number"},{name:"accentColor",label:"Color",type:"color"}],Component:({config:e})=>{const o=Math.max(1,parseInt(e.workTime,10)||25),r=Math.max(1,parseInt(e.breakTime,10)||5),s=o*60,d=r*60,[l,a]=(0,h.useState)(s),[m,n]=(0,h.useState)(!1),[g,c]=(0,h.useState)(!0),u=(0,h.useRef)(g);(0,h.useEffect)(()=>{u.current=g},[g]),(0,h.useEffect)(()=>{n(!1),c(!0),u.current=!0,a(s)},[s,d]),(0,h.useEffect)(()=>{if(!m)return;const C=setInterval(()=>{a(y=>{if(y>1)return y-1;const x=!u.current;return u.current=x,c(x),x?s:d})},1e3);return()=>clearInterval(C)},[m,s,d]);const b=C=>`${Math.floor(C/60).toString().padStart(2,"0")}:${(C%60).toString().padStart(2,"0")}`,k=()=>{n(C=>!C)},T=()=>{n(!1),c(!0),u.current=!0,a(s)};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-center",style:{background:e.bgColor,color:e.textColor},children:[(0,t.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-widest",style:{color:e.accentColor},children:[g?"Work":"Break"," Session"]}),(0,t.jsx)("div",{className:"text-5xl font-bold tabular-nums",children:b(l)}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-semibold",style:{background:e.accentColor},onClick:k,children:m?"Pause":"Start"}),(0,t.jsx)("button",{className:"px-6 py-2 rounded-full border font-semibold",style:{borderColor:e.accentColor,color:e.accentColor},onClick:T,children:"Reset"})]})]})},generateHTML:e=>`
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:16px; text-align:center;">
        <div id="phase" style="font-size:14px; font-weight:600; text-transform:uppercase; letter-spacing:0.2em; color:${e.accentColor};">Work Session</div>
        <div id="timer" style="font-size:48px; font-weight:bold; margin-bottom:8px; font-family:'Courier New', monospace;">${String(e.workTime).padStart(2,"0")}:00</div>
        <div style="display:flex; gap:12px;">
          <button onclick="togglePomodoro()" id="btn" style="background:${e.accentColor}; color:white; border:none; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Start</button>
          <button onclick="resetPomodoro()" style="background:transparent; color:${e.accentColor}; border:2px solid ${e.accentColor}; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Reset</button>
        </div>
      </div>
    `,generateScript:e=>`
      (function() {
        const workMinutes = Math.max(1, parseInt(${JSON.stringify(e.workTime)}, 10) || 25);
        const breakMinutes = Math.max(1, parseInt(${JSON.stringify(e.breakTime)}, 10) || 5);
        const workSeconds = workMinutes * 60;
        const breakSeconds = breakMinutes * 60;
        let remaining = workSeconds;
        let isRunning = false;
        let isWorkPhase = true;
        let timerId = null;
        const timerEl = document.getElementById('timer');
        const phaseEl = document.getElementById('phase');
        const btn = document.getElementById('btn');

        function format(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return mins + ':' + secs;
        }

        function updateDisplay() {
          timerEl.textContent = format(remaining);
          phaseEl.textContent = (isWorkPhase ? 'Work' : 'Break') + ' Session';
        }

        function switchPhase() {
          isWorkPhase = !isWorkPhase;
          remaining = isWorkPhase ? workSeconds : breakSeconds;
          updateDisplay();
        }

        function tick() {
          if (remaining > 0) {
            remaining -= 1;
            updateDisplay();
          } else {
            switchPhase();
          }
        }

        window.togglePomodoro = function togglePomodoro() {
          isRunning = !isRunning;
          btn.textContent = isRunning ? 'Pause' : 'Start';
          if (isRunning) {
            timerId = setInterval(tick, 1000);
          } else if (timerId) {
            clearInterval(timerId);
            timerId = null;
  }
};

        window.resetPomodoro = function resetPomodoro() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
          isRunning = false;
          isWorkPhase = true;
          remaining = workSeconds;
          btn.textContent = 'Start';
          updateDisplay();
        };

        updateDisplay();
      })();
    `}},Jt={clock:"Time & Productivity",countdown:"Time & Productivity",pomodoro:"Time & Productivity",simpleList:"Time & Productivity",weather:"Data & Information",quotes:"Data & Information",counter:"Interactive",newButtonGenerator:"Interactive",imageGallery:"Media"},ws=({isOpen:e,onClose:o,widgetDef:r,config:s})=>{const d=(0,h.useMemo)(()=>{if(!e)return"";const m=ms(s);return`${window.location.origin}${window.location.pathname}?embed=1&widget=${r.id}&config=${m}`},[e,s,r]);if(!e)return null;const l=()=>{navigator.clipboard.writeText(d),alert("Link copied! Paste into Notion using /embed")},a=()=>{const m=r.generateHTML?r.generateHTML(s):`<!-- ${r.label} Widget -->`,n=r.generateScript?r.generateScript(s):"",g=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${r.label} Widget</title>
    <style>
      body { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; }
    </style>
</head>
<body>
    ${m}
    <script>${n}<\/script>
</body>
</html>`;navigator.clipboard.writeText(g),alert("HTML Code copied!")};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in",children:(0,t.jsxs)("div",{className:"bg-[#1A1D29] w-full max-w-2xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#0B0E12]",children:[(0,t.jsxs)("h3",{className:"text-white font-bold text-xl font-mono flex items-center gap-2",children:[(0,t.jsx)(fo,{className:"text-purple-500"})," GET WIDGET"]}),(0,t.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-white",children:(0,t.jsx)(Ge,{})})]}),(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:"Embed Link (Recommended)"}),(0,t.jsxs)("div",{className:"bg-[#0B0E12] p-4 rounded-xl border border-gray-800 flex gap-2 items-center",children:[(0,t.jsx)("input",{readOnly:!0,value:d,className:"bg-transparent w-full text-sm text-purple-300 outline-none font-mono truncate"}),(0,t.jsx)("button",{onClick:l,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-colors",children:"Copy Link"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["In Notion, type ",(0,t.jsx)("code",{className:"bg-gray-800 px-1 rounded",children:"/embed"})," and paste this URL. Requires this app to be hosted publicly."]})]}),(0,t.jsxs)("div",{className:"border-t border-white/5 pt-6 space-y-4",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:"Standalone Code"}),(0,t.jsxs)("button",{onClick:a,className:"w-full bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(To,{size:16})," Copy HTML Code"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Copy the full HTML code and save it as a .html file. Host it on GitHub Pages, Netlify, or Vercel."})]})]})]})})},ks=({activeBrandId:e,config:o,activeWidgetId:r,debouncedConfig:s,handleConfigChange:d,brandTheme:l,ActiveWidget:a,showExport:m,setShowExport:n,onCustomizeRequest:g})=>{const[c,u]=(0,h.useState)(800),[b,k]=(0,h.useState)(450),[T,C]=(0,h.useState)(!1),y=(0,h.useRef)(null),x=l||s?.brandThemeSnapshot||o.brandThemeSnapshot,_=(0,h.useMemo)(()=>[{id:"phone",label:"Phone",width:360,height:640},{id:"tablet",label:"Tablet",width:820,height:640},{id:"desktop",label:"Desktop",width:1100,height:640}],[]),w=(f,D)=>{D.preventDefault(),C(f)},N=f=>{u(f.width),k(f.height)};return(0,h.useEffect)(()=>{const f=z=>{if(!T||!y.current)return;const q=y.current.getBoundingClientRect();(T==="horizontal"||T==="both")&&u(Math.max(300,Math.min(1600,z.clientX-q.left-40))),(T==="vertical"||T==="both")&&k(Math.max(200,Math.min(1e3,z.clientY-q.top-40)))},D=()=>{C(!1)};return T&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",D)),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",D)}},[T]),(0,t.jsxs)("div",{ref:y,className:"flex-1 flex flex-col relative h-full",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",style:{background:e==="jazer"?`radial-gradient(circle at 50% 10%, ${P.ui.nebulaPurple} 0%, ${P.colors.nightBlack} 100%)`:"#f5f5f5",boxShadow:e==="jazer"?P.glow:"none"},children:(0,t.jsxs)("div",{className:"shadow-2xl rounded-xl overflow-hidden relative group",style:{width:`${c}px`,height:`${b}px`,maxWidth:"100%",maxHeight:"min(80vh, 720px)",backgroundColor:o.bgColor,border:"2px solid var(--jazer-cosmic-blue)",boxShadow:"var(--jazer-glow-blue), 0 20px 40px rgba(0,0,0,0.4)",transition:T?"none":"all 0.2s ease"},children:[(0,t.jsx)("div",{className:"absolute top-3 left-3 z-20 flex gap-2",children:_.map(f=>(0,t.jsx)("button",{type:"button",onClick:()=>N(f),className:`px-3 py-1 rounded-full text-[11px] uppercase tracking-[0.3em] border transition ${Math.round(c)===f.width&&Math.round(b)===f.height?"border-white text-white bg-white/20":"border-white/20 text-white/70 bg-black/30 hover:border-white/40 hover:text-white"}`,children:f.label},f.id))}),(0,t.jsx)(Xr,{children:(0,t.jsx)(a.Component,{config:s,onConfigChange:d,brand:P,brandTheme:x,onCustomizeRequest:g})},r),(0,t.jsx)("div",{onMouseDown:f=>w("horizontal",f),className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(90deg, transparent, var(--jazer-electric-purple))"},children:(0,t.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-12 rounded-l",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,t.jsx)("div",{onMouseDown:f=>w("vertical",f),className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(180deg, transparent, var(--jazer-electric-purple))"},children:(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-1 w-12 rounded-t",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,t.jsx)("div",{onMouseDown:f=>w("both",f),className:"absolute right-0 bottom-0 w-6 h-6 cursor-nwse-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"var(--jazer-electric-purple)",clipPath:"polygon(100% 0, 100% 100%, 0 100%)",boxShadow:"var(--jazer-glow-purple)"}}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-mono opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(139, 92, 246, 0.9)",color:"var(--jazer-stardust-white)",backdropFilter:"blur(10px)"},children:[c," × ",b]})]})}),(0,t.jsx)(ws,{isOpen:m,onClose:()=>n(!1),widgetDef:a,config:o})]})};function _s({onSelect:e,onBrandGenerator:o,setSearchInputRef:r}){const[s,d]=(0,h.useState)("all"),[l,a]=(0,h.useState)(""),m=(0,h.useRef)(null);(0,h.useEffect)(()=>{r&&m.current&&r(m.current)},[r]);const n=(0,h.useMemo)(()=>Object.values(De).map(x=>({...x,category:Jt[x.id]||"Other"})),[]),g=(0,h.useMemo)(()=>["all",...Array.from(new Set(n.map(x=>x.category)))],[n]),c=["weather","clock","newButtonGenerator"],u=(0,h.useMemo)(()=>n.filter(x=>c.includes(x.id)),[n]),b=(0,h.useMemo)(()=>{const x=l.trim().toLowerCase();return n.filter(_=>{const w=s==="all"||_.category===s,N=!x||[_.label,_.description].filter(Boolean).some(f=>f.toLowerCase().includes(x));return w&&N})},[n,s,l]),k={weather:"Most Advanced",clock:"Fan Favorite",countdown:"New Animation",newButtonGenerator:"Workflow Booster",imageGallery:"Creator Ready",quotes:"API Connected",pomodoro:"Focus Mode"},T=[{label:"Widgets",value:"9",subLabel:"Final list"},{label:"Categories",value:"4",subLabel:"Time, Data, Media, Interactive"},{label:"API Integrations",value:"2",subLabel:"Weather + Quotes"},{label:"Brand Kits",value:"∞",subLabel:"Generator-powered"}],C=[{icon:(0,t.jsx)(_t,{className:"w-5 h-5 text-purple-300"}),title:"Choose a widget",copy:"Clock, Weather, Buttons, and more with presets tuned to Notion."},{icon:(0,t.jsx)(Je,{className:"w-5 h-5 text-cyan-300"}),title:"Apply your brand",copy:"Upload a logo once and sync its palette across every widget."},{icon:(0,t.jsx)(Kt,{className:"w-5 h-5 text-pink-300"}),title:"Export / embed",copy:"Copy the embed link or HTML snippet directly into Notion."}],y=[{quote:"“The builder finally feels as premium as the widgets themselves. I can move from idea to embedded widget in minutes.”",author:"Nara · Product Ops"},{quote:"“Brand kit syncing blew my mind—upload logo, click apply, every widget updates instantly.”",author:"Lewis · Creator"},{quote:"“Favorite part is the Button Generator. Macro + toggle modes mean I can run my workflows without leaving Notion.”",author:"Mika · Studio Lead"}];return(0,t.jsx)("div",{className:"min-h-screen px-4 sm:px-6 lg:px-16 py-8 flex flex-col items-center",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:(0,t.jsxs)("div",{className:"w-full max-w-6xl space-y-14",children:[(0,t.jsxs)("section",{className:"space-y-6 text-center",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[(0,t.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"Final Widget List v1.2"}),(0,t.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"JaZeR Neon Ready"})]}),(0,t.jsx)("div",{className:"inline-flex items-center justify-center p-3 rounded-full animate-pulse-neon mx-auto",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",border:"1px solid var(--jazer-electric-purple)"},children:(0,t.jsx)(Me,{className:"w-8 h-8",style:{color:"var(--jazer-electric-purple)"}})}),(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-black tracking-tight gradient-text neon-text",style:{fontFamily:"Orbitron, sans-serif"},children:"Design-grade Notion Widgets"}),(0,t.jsx)("p",{className:"text-lg md:text-xl max-w-3xl mx-auto leading-relaxed",style:{color:"var(--jazer-soft-slate)"},children:"Shuttle nine premium widgets—clock, weather, pomodoro, button generator, and more—directly into Notion. Every control respects the JaZeR neon system, responsive layouts, and your custom brand kit."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>e("clock"),className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300 w-full sm:w-auto text-center",children:"Start Building"}),(0,t.jsxs)("button",{onClick:o,className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase border border-white/20 text-neutral-200 hover:border-cyan-400 hover:text-white transition flex items-center gap-2 justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300 w-full sm:w-auto",children:[(0,t.jsx)(Je,{className:"w-4 h-4"})," Sync Brand Kit"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:T.map(x=>(0,t.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5",children:[(0,t.jsx)("div",{className:"text-3xl font-black",children:x.value}),(0,t.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-neutral-400 mt-1",children:x.label}),(0,t.jsx)("p",{className:"text-[11px] text-neutral-400 mt-1",children:x.subLabel})]},x.label))})]}),(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Spotlight"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Featured widgets"})]}),(0,t.jsxs)("button",{onClick:()=>e("weather"),className:"px-4 py-2 rounded-full border border-white/15 text-sm text-neutral-200 hover:border-purple-300 hover:text-white transition flex items-center gap-2 self-start sm:self-auto focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:["Explore builder ",(0,t.jsx)(Xt,{className:"w-4 h-4 rotate-180"})]})]}),(0,t.jsx)("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:overflow-visible",children:u.map(x=>(0,t.jsxs)("div",{className:"rounded-2xl p-6 border border-white/10 bg-gradient-to-br from-white/10 to-transparent backdrop-blur min-w-[260px] snap-center md:min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-white/10 text-purple-200",children:x.icon}),k[x.id]&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-[11px] uppercase tracking-widest bg-purple-500/20 border border-purple-400 text-purple-200",children:k[x.id]})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:x.label}),(0,t.jsx)("p",{className:"text-sm text-neutral-300 mb-6",children:x.description||`Create a beautiful ${x.label.toLowerCase()} widget for your Notion pages.`}),(0,t.jsxs)("button",{onClick:()=>e(x.id),className:"w-full py-2 rounded-lg border border-white/15 text-sm font-semibold text-white hover:border-purple-400 transition",children:["Customize ",x.label]})]},x.id))})]}),(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsx)("div",{className:"flex gap-2 w-full overflow-x-auto pb-2 pr-4",style:{WebkitOverflowScrolling:"touch"},role:"tablist","aria-label":"Widget categories",children:g.map(x=>(0,t.jsx)("button",{type:"button",onClick:()=>d(x),className:`px-3 py-1.5 rounded-full text-[11px] uppercase tracking-widest border transition ${s===x?"border-purple-400 text-white bg-purple-500/20":"border-white/15 text-neutral-300 hover:border-purple-300 hover:text-white"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400`,"aria-pressed":s===x,role:"tab",children:x==="all"?"All widgets":x},x))}),(0,t.jsxs)("div",{className:"relative ml-auto",children:[(0,t.jsx)(ct,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,t.jsx)("input",{ref:m,type:"text",value:l,onChange:x=>a(x.target.value),placeholder:"Search widgets...",className:"pl-9 pr-3 py-2 rounded-full bg-white/5 border border-interactive text-sm text-white placeholder:text-neutral-500 focus-ring","aria-label":"Search widgets"})]})]}),(0,t.jsx)("div",{className:"py-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(x=>(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center text-purple-200",children:x.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:x.label}),(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:x.category})]})]}),(0,t.jsx)("p",{className:"text-sm text-neutral-300 flex-1",children:x.description||`Create a ${x.label.toLowerCase()} widget.`}),(0,t.jsxs)("button",{onClick:()=>e(x.id),className:"mt-4 w-full py-2 rounded-lg bg-purple-500/20 border border-purple-400 text-sm font-semibold text-purple-50 hover:bg-purple-500/30 transition",children:["Build ",x.label]})]},x.id))})]}),(0,t.jsx)("section",{className:"p-1 rounded-2xl bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400",children:(0,t.jsxs)("div",{className:"rounded-2xl bg-[#0F111C] p-6 sm:p-8 flex flex-col lg:flex-row gap-8 items-start w-full",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-purple-500/20 border border-purple-300/40",children:(0,t.jsx)(Me,{className:"w-6 h-6 text-purple-200"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,t.jsx)("h3",{className:"text-2xl font-bold",children:"Generate once, sync everywhere"})]})]}),(0,t.jsx)("p",{className:"text-sm text-neutral-200 max-w-2xl",children:"Upload a logo, capture its palette, and notch it into every widget automatically. The generator writes to local storage so your theme loads every time you reopen the builder."}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-neutral-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Fe,{className:"w-4 h-4 text-emerald-400"}),"8+ curated presets per brand"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Fe,{className:"w-4 h-4 text-emerald-400"}),"Auto-applies to light + dark modes"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Fe,{className:"w-4 h-4 text-emerald-400"}),"Palette chips ready for export"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Fe,{className:"w-4 h-4 text-emerald-400"}),"One-click re-launch from builder"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 w-full lg:w-auto",children:[(0,t.jsx)("button",{onClick:o,className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase bg-white text-black hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white",children:"Launch Generator"}),(0,t.jsx)("button",{onClick:()=>e("newButtonGenerator"),className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase border border-white/20 text-white hover:border-cyan-300 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300",children:"Preview With Buttons"})]})]})}),(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Workflow"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"How builders ship faster"})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:C.map(x=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-5 space-y-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:x.icon}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:x.title}),(0,t.jsx)("p",{className:"text-sm text-neutral-300",children:x.copy})]},x.title))})]}),(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Loved by teams"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Feedback from early builders"})]}),(0,t.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(x=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-transparent p-5",children:[(0,t.jsx)("p",{className:"text-sm text-neutral-200 leading-relaxed",children:x.quote}),(0,t.jsx)("p",{className:"mt-4 text-xs uppercase tracking-[0.3em] text-neutral-400",children:x.author})]},x.author))})]}),(0,t.jsx)("footer",{className:"text-center pt-8 text-sm text-neutral-500",children:(0,t.jsxs)("p",{children:["© ",new Date().getFullYear()," JaZeR. Built for the Notion Wiz community."]})})]})})}var Vr=(e,o)=>{if(!o)return e;const r={...e};return r.brandThemeSnapshot={...o,appliedAt:o.appliedAt||new Date().toISOString()},o.backgroundColor&&(r.bgColor=o.backgroundColor,r.backgroundColor!==void 0&&(r.backgroundColor=o.backgroundColor)),o.textColor&&r.textColor!==void 0&&(r.textColor=o.textColor),o.accentColor&&r.accentColor!==void 0&&(r.accentColor=o.accentColor),r.lightMode&&(r.lightMode={...r.lightMode,backgroundColor:o.backgroundColor||r.lightMode.backgroundColor,clockColor:o.clockColor||r.lightMode.clockColor,digitColor:o.digitColor||o.clockColor||r.lightMode.digitColor,textColor:o.textColor||r.lightMode.textColor}),r.darkMode&&(r.darkMode={...r.darkMode,backgroundColor:o.backgroundColor||r.darkMode.backgroundColor,clockColor:o.clockColor||r.darkMode.clockColor,digitColor:o.digitColor||o.clockColor||r.darkMode.digitColor,textColor:o.textColor||r.darkMode.textColor}),o.glow!==void 0&&r.glowEffect!==void 0&&(r.glowEffect=o.glow),o.texture&&r.backgroundTexture!==void 0&&(r.backgroundTexture=o.texture),r},Pt=(e,o,r)=>{if(o==="custom"&&r)return Vr(e,r);if(o==="none"){const l={...e};return delete l.brandThemeSnapshot,l}const s=$r[o];if(!s){const l={...e};return delete l.brandThemeSnapshot,l}const d={...e};return delete d.brandThemeSnapshot,s.fontFamily&&(d.fontFamily=s.fontFamily),s.bgColor&&(d.bgColor=s.bgColor),s.textColor&&(d.textColor=s.textColor),s.accentColor&&(d.accentColor=s.accentColor),o==="jazer"&&(d.glowEffect!==void 0&&(d.glowEffect=!0),d.gradientText!==void 0&&(d.gradientText=!0)),d};function Cs({initialWidgetId:e,onBack:o,globalBrandTheme:r,onBrandThemeUpdate:s,onLaunchBrandGenerator:d}){const l=(0,h.useMemo)(()=>r?Ie(r):null,[r]),[a,m]=(0,h.useState)(e),[n,g]=(0,h.useState)(l?"custom":"none"),[c,u]=(0,h.useState)(()=>{const v=De[e].defaultConfig;return l?Vr(v,l):v}),[b,k]=(0,h.useState)(l),[T,C]=(0,h.useState)({}),[y,x]=(0,h.useState)(""),_=(0,h.useRef)({}),w=(0,h.useRef)(null),N=(0,h.useRef)(null),f=(0,h.useRef)(null),[D,z]=(0,h.useState)(null),[q,ie]=(0,h.useState)(!1),[Z,xe]=(0,h.useState)(st),[te,oe]=(0,h.useState)(!1),[Y,U]=(0,h.useState)(""),[de,ve]=(0,h.useState)("all"),[Ne,qe]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const v=window.localStorage.getItem("notion_wiz_pins");return v?JSON.parse(v):[]}catch{return[]}}),{recentWidgets:E,addRecentWidget:G}=ns(),[ae,fe]=(0,h.useState)(!1),Pe=(0,h.useCallback)(()=>typeof window>"u"?!0:window.innerWidth>=1024,[]),[Be,Ze]=(0,h.useState)(Pe),[Ye,We]=(0,h.useState)(Pe);(0,h.useEffect)(()=>{if(typeof window>"u")return;let v=Pe();const B=()=>{const I=Pe();I!==v&&(v=I,Ze(I),We(I))};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[Pe]);const xt=ps(c,is),ge=b||l,S=!!ge,L=ge?.presetName||ge?.name||"Custom Brand Theme",W=De[a],ne=(0,h.useMemo)(()=>W?.sections?W.sections.map(v=>{const B=W.fields.filter(I=>(I.section||"general")===v.id).length;return{...v,controlCount:B}}).filter(v=>v.controlCount>0):[],[W]);(0,h.useEffect)(()=>{const v=document.createElement("link");return v.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap",v.rel="stylesheet",document.head.appendChild(v),()=>document.head.removeChild(v)},[]),(0,h.useEffect)(()=>{_.current={}},[a]),(0,h.useEffect)(()=>{if(!te)return;const v=B=>{f.current&&(f.current.contains(B.target)||oe(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[te]),(0,h.useEffect)(()=>{if(!(typeof window>"u"))try{localStorage.setItem("notion_wiz_pins",JSON.stringify(Ne))}catch{}},[Ne]);const p=(0,h.useCallback)(v=>{C(B=>({...B,[v]:B[v]===!1}))},[]),j=(0,h.useCallback)(v=>T[v]!==!1,[T]),F=v=>{m(v),xe(st);const B=De[v].defaultConfig;u(Pt(B,n,ge)),fe(!1),U("");const I=De[v];I&&G(v,I.label)},M=v=>{const B=Pt(De[a].defaultConfig,n,ge);JSON.stringify(c)!==JSON.stringify(B)&&!window.confirm("Applying a brand kit will override your current customizations. Continue?")||(g(v),u(I=>Pt(I,v,ge)))},R=(v,B)=>B.split(".").reduce((I,H)=>I?.[H],v),Q=(v,B,I)=>{const H=B.split("."),le=H.pop(),V=H.reduce((ke,ye)=>(ke[ye]||(ke[ye]={}),ke[ye]),v);return V[le]=I,v},X=(0,h.useCallback)((v,B)=>{if(v.includes(".")){u(I=>{const H={...I};return Q(H,v,B),H});return}if(v==="lightMode"||v==="darkMode"){u(I=>({...I,[v]:{...I[v],...B}}));return}u(I=>{let H=B;if(typeof I[v]=="number"&&typeof B=="string"){const le=parseInt(B,10);H=Number.isNaN(le)?I[v]:le}return{...I,[v]:H}})},[]),A=(0,h.useCallback)(v=>{x(v),v.trim()?xe(Number.MAX_SAFE_INTEGER):xe(st)},[]),be=(0,h.useCallback)(v=>{const B=v?Ie(v):null;if(B){k(B),g("custom"),s?.(B);try{localStorage.setItem("jazer_global_brand_theme",JSON.stringify(B)),localStorage.setItem("jazer_global_brand_active","true")}catch{}return}k(null),g(I=>I==="custom"?"none":I),s?.(null);try{localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active")}catch{}},[s]),ce=(0,h.useMemo)(()=>["all","pinned",...Array.from(new Set(Object.values(Jt)))],[]),se=(0,h.useMemo)(()=>{const v=Y.trim().toLowerCase(),B=I=>Ne.indexOf(I);return Object.values(De).map(I=>({...I,category:Jt[I.id]||"Other",isPinned:Ne.includes(I.id)})).filter(I=>v?[I.label,I.description].filter(Boolean).map(H=>String(H).toLowerCase()).some(H=>H.includes(v)):!0).filter(I=>de==="all"?!0:de==="pinned"?I.isPinned:I.category===de).sort((I,H)=>{const le=B(I.id),V=B(H.id);return le!==V?le===-1?1:V===-1?-1:le-V:I.label.localeCompare(H.label)})},[Y,de,Ne]),K=(0,h.useCallback)(v=>{qe(B=>B.includes(v)?B.filter(I=>I!==v):[...B,v])},[]),me=(0,h.useMemo)(()=>[{id:"brandControls",label:"Brand Kit"},{id:"appearanceControls",label:"Surface"},...ne.map(v=>({id:v.id,label:v.label}))],[ne]),{nodes:J,total:we}=(0,h.useMemo)(()=>{if(!W)return{nodes:[],total:0};const v=y.trim().toLowerCase(),B=W.sections?W.sections.map(V=>V.id):[...new Set(W.fields.map(V=>V.section))].filter(Boolean),I=W.fields.filter(V=>!V.section);I.length>0&&!B.includes("general")&&B.unshift("general");const H=V=>v?[V.label,V.name,V.placeholder,V.section].filter(Boolean).map(ke=>String(ke).toLowerCase()).some(ke=>ke.includes(v)):!0,le=B.map(V=>{const ke=V==="general"?I:W.fields.filter(pe=>pe.section===V);if(ke.length===0)return null;let ye=V,_e=null;W.sections?(_e=W.sections.find(pe=>pe.id===V),ye=_e?_e.label:V):ye={time:"Time Display",style:"Clock Style",analog:"Analog Customization",typography:"Typography",background:"Background",interactive:"Interactive Mode",theme:"Preset Themes",appearance:"Appearance Mode",features:"Additional Features",effects:"Visual Effects",event:"Event Setup",units:"Time Units",completion:"Completion",general:"General Settings"}[V]||V;const ze=ye.toLowerCase(),gt=v&&_e?.description?.toLowerCase().includes(v),Le=v&&_e?.notes?.some(pe=>[pe.title,pe.body].filter(Boolean).some(bt=>bt.toLowerCase().includes(v))),Ue=v&&(ze.includes(v)||gt||Le)?ke:ke.filter(H);if(Ue.length===0)return null;const rt=v?!0:j(V);return(0,t.jsxs)("div",{ref:pe=>{pe&&(_.current[V]=pe)},className:`border border-white/10 rounded-lg bg-white/5 overflow-hidden ${D===V?"ring-2 ring-purple-400":""}`,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>p(V),className:"w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold text-white",children:[(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsx)("span",{children:ye}),_e?.description&&(0,t.jsx)("span",{className:"text-[11px] font-normal text-neutral-400",children:_e.description})]}),(0,t.jsx)(Sr,{className:"w-4 h-4 transition-transform",style:{transform:rt?"rotate(180deg)":"rotate(0deg)"}})]}),rt&&(0,t.jsxs)("div",{className:"p-3 space-y-3 border-t border-white/5",children:[_e?.notes?.length>0&&(0,t.jsx)("div",{className:"space-y-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2",children:_e.notes.map(pe=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-white",children:pe.title}),pe.body&&(0,t.jsx)("p",{children:pe.body})]},`${V}-${pe.title}`))}),Ue.map(pe=>{let bt=pe;if(pe.name==="presetTheme"&&b&&a==="clock"){const Mt=[{label:"--- Brand-Based Themes ---",value:"__separator__",disabled:!0},{label:"Brand Monochrome",value:"brand-monochrome"},{label:"Brand Contrast",value:"brand-contrast"},{label:"Brand Vibrant",value:"brand-vibrant"},{label:"Brand Professional",value:"brand-professional"},{label:"Brand Dark",value:"brand-dark"},{label:"Brand Light",value:"brand-light"},{label:"Brand Neon",value:"brand-neon"},{label:"Brand Minimal",value:"brand-minimal"}];bt={...pe,options:[...pe.options,...Mt]}}return(0,t.jsx)(vs,{field:bt,value:pe.name.includes(".")?R(c,pe.name):c[pe.name],onChange:Mt=>X(pe.name,Mt)},pe.name)})]})]},V)}).filter(Boolean);return le.length===0?{nodes:[(0,t.jsx)("div",{className:"text-xs text-neutral-400 italic",children:v?`No settings match "${y}".`:"No configurable settings available."},"empty")],total:0}:{nodes:v?le:le.slice(0,Z),total:le.length}},[W,a,b,c,y,X,D,j,p,Z]),ue=!y.trim()&&we>Z;(0,h.useEffect)(()=>{if(y.trim()||Z>=we)return;const v=typeof window<"u"?window.requestAnimationFrame:null,B=()=>{const I=w.current;I&&I.scrollHeight<=I.clientHeight+40&&xe(H=>Math.min(H+st,we))};if(v)return v(B),()=>{};B()},[y,we,Z]),(0,h.useEffect)(()=>{if(!ue)return;const v=N.current;if(!v)return;const B=w.current||null,I=new IntersectionObserver(H=>{H[0].isIntersecting&&xe(le=>Math.min(le+st,we))},{root:B,threshold:.25});return I.observe(v),()=>I.disconnect()},[ue,we]);const ee=(0,h.useCallback)(v=>!v||!_.current[v]?!1:(_.current[v].scrollIntoView({behavior:"smooth",block:"center"}),C(B=>({...B,[v]:!0})),z(v),setTimeout(()=>{z(B=>B===v?null:B)},1500),!0),[]),Re=(0,h.useCallback)(v=>{!ee(v)&&v?(xe(Number.MAX_SAFE_INTEGER),typeof window<"u"&&window.requestAnimationFrame(()=>{setTimeout(()=>ee(v),80)})):!v&&w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"}),ie(!0),setTimeout(()=>ie(!1),1200)},[ee]);return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row font-sans",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:[!Be&&Ye&&(0,t.jsx)("button",{type:"button",className:"fixed inset-0 bg-black/60 z-30 lg:hidden","aria-label":"Close widget list overlay",onClick:()=>We(!1)}),(0,t.jsxs)("div",{className:`${Be?"relative w-full lg:w-72":"fixed inset-y-0 left-0 w-72 max-w-[85vw] transform transition-transform duration-300 z-40"} flex flex-col h-full min-h-0`,style:{backgroundColor:"var(--jazer-graphite)",borderRight:"1px solid var(--jazer-soft-slate)",transform:Be||Ye?"translateX(0)":"translateX(-100%)"},children:[(0,t.jsxs)("div",{className:"p-4 space-y-3",style:{borderBottom:"1px solid var(--jazer-soft-slate)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-500",children:"Builder"}),(0,t.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2 gradient-text neon-text",children:[(0,t.jsx)(_t,{className:"w-5 h-5",style:{color:"var(--jazer-electric-purple)"}})," ",W?.label||"Widget"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!Be&&(0,t.jsx)("button",{type:"button","aria-label":"Close widget list",onClick:()=>We(!1),className:"p-1 rounded-full border border-white/15 text-neutral-200 hover:border-purple-400 hover:text-white transition",children:(0,t.jsx)(Ge,{className:"w-3 h-3"})}),(0,t.jsxs)("button",{"aria-label":"Navigate back to home",onClick:o,className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-neutral-300 hover:border-purple-400 hover:text-white transition-colors",children:[(0,t.jsx)(Xt,{className:"w-3 h-3"})," Exit"]})]})]}),(0,t.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:"Choose a widget to edit. Use search or pin your frequent favorites for faster access."})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-subtle space-y-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(ct,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,t.jsx)("input",{type:"text",value:Y,onChange:v=>U(v.target.value),placeholder:"Search widgets...",className:"w-full bg-white/5 border-interactive rounded-full py-2 pl-9 pr-9 text-sm text-white placeholder:text-neutral-400 focus-ring transition-all","aria-label":"Search widgets"}),Y&&(0,t.jsx)("button",{onClick:()=>U(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-white transition-colors focus-ring rounded","aria-label":"Clear search",children:(0,t.jsx)(Ge,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-[10px] uppercase tracking-widest text-neutral-500",children:[(0,t.jsxs)("span",{children:[se.length," results"]}),(0,t.jsx)("span",{className:"text-neutral-400",children:"Pin favorites for quick access"})]})]}),(0,t.jsx)("div",{className:"px-4 py-2 border-b border-subtle flex flex-wrap gap-2",children:ce.map(v=>{const B=v==="all"?"All Widgets":v==="pinned"?"Pinned":v,I=de===v,H=v==="pinned"&&Ne.length===0,le={all:_t,pinned:rr,"Time & Productivity":jt,"Data & Information":Co,"Media & Display":Yt,"Interactive & Actions":Qt,Other:uo}[v]||null;return(0,t.jsxs)("button",{type:"button",disabled:H,onClick:()=>ve(v),className:`
                  text-[10px] px-3 py-1.5 rounded-full border transition-all flex items-center gap-1.5
                  ${I?"border-accent text-white bg-purple-500/20 shadow-sm":"border-interactive text-neutral-300 hover:border-emphasis hover:text-white hover:bg-white/5"} 
                  ${H?"opacity-30 cursor-not-allowed":""} 
                  focus-ring
                `,"aria-pressed":I,children:[le&&(0,t.jsx)(le,{className:"w-3 h-3"}),B]},v)})}),(0,t.jsxs)("nav",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-3",children:[E.length>0&&de==="all"&&!Y&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsxs)("h3",{className:"text-[10px] uppercase tracking-wider font-bold text-purple-400 flex items-center gap-1.5",children:[(0,t.jsx)(jt,{className:"w-3 h-3"}),"Recent"]}),(0,t.jsx)("span",{className:"text-[9px] text-neutral-500",children:E.length})]}),(0,t.jsx)("div",{className:"space-y-1.5",children:E.slice(0,3).map(v=>(0,t.jsxs)("button",{type:"button",onClick:()=>F(v.id),className:`
                        w-full px-3 py-2 rounded-lg text-left transition-all flex items-center justify-between group
                        ${a===v.id?"bg-purple-500/15 border border-accent text-white":"bg-white/5 border border-subtle hover:border-interactive hover:bg-white/[0.07] text-neutral-300 hover:text-white"}
                      `,children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-xs font-medium truncate",children:v.label}),(0,t.jsx)("div",{className:"text-[10px] text-neutral-500",children:ls(v.timestamp)})]}),(0,t.jsx)($t,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},v.id))}),(0,t.jsx)("div",{className:"border-t border-subtle pt-2"})]}),se.length===0?(0,t.jsx)("div",{className:"text-xs text-neutral-400 bg-white/5 border-subtle rounded-xl p-4",children:"No widgets match your search. Try a different phrase or reset filters."}):se.map(v=>{const B=v.description||`Customize the ${v.label} widget.`,I=a===v.id;return(0,t.jsxs)("div",{className:`border rounded-xl p-3 flex items-start gap-3 transition-all duration-200 ${I?"border-accent bg-purple-500/15 shadow-lg shadow-purple-900/30":"border-interactive bg-white/5 hover:border-emphasis hover:bg-white/[0.07]"}`,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>F(v.id),className:"flex-1 text-left flex items-start gap-3 focus-ring-inset rounded",children:[(0,t.jsx)("div",{className:`pt-1 px-2 py-1 rounded-lg text-sm transition-colors ${I?"text-purple-300 bg-purple-500/10":"text-neutral-300"}`,children:v.icon}),(0,t.jsxs)("div",{className:"space-y-1 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:v.label}),I&&(0,t.jsx)("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded-full bg-purple-500/20 border border-accent text-purple-200",children:"Active"})]}),(0,t.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug line-clamp-2",children:B}),(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-neutral-500",children:v.category})]})]}),(0,t.jsx)("button",{type:"button","aria-label":v.isPinned?"Unpin widget":"Pin widget",onClick:H=>{H.stopPropagation(),K(v.id)},className:`p-1.5 rounded-full border transition-all focus-ring ${v.isPinned?"border-amber-300 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20":"border-interactive text-neutral-400 hover:border-amber-200 hover:text-amber-200 hover:bg-amber-500/10"}`,children:(0,t.jsx)(rr,{className:"w-3.5 h-3.5",fill:v.isPinned?"#FCD34D":"none"})})]},v.id)})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,t.jsxs)("div",{className:"border-b border-white/10 bg-[#10121A] px-4 py-4 sm:px-6 sm:py-6 space-y-4",children:[!Be&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>We(!0),className:"px-3 py-1.5 rounded-full border border-white/15 text-xs uppercase tracking-[0.3em] flex items-center gap-2 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:[(0,t.jsx)(_t,{className:"w-3 h-3"})," Widgets"]}),(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-500",children:"Preview"})]}),(0,t.jsx)(ks,{activeBrandId:n,config:c,activeWidgetId:a,debouncedConfig:xt,handleConfigChange:X,brandTheme:b,ActiveWidget:W,showExport:ae,setShowExport:fe,onCustomizeRequest:Re})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col border-t border-white/5 bg-[#0F1115] min-h-0",children:[(0,t.jsxs)("div",{className:"lg:sticky lg:top-0 z-10 border-b border-white/10 bg-[#0A0C12]/95 backdrop-blur-md px-4 py-3 flex flex-wrap items-center gap-3",children:[(0,t.jsx)("div",{className:"text-xs font-bold uppercase tracking-[0.4em] text-neutral-500",children:"Configure"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,t.jsxs)("div",{className:"relative",ref:f,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>oe(v=>!v),className:"flex items-center gap-2 px-3 py-1.5 text-[11px] rounded-full border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition","aria-expanded":te,children:[(0,t.jsx)(wr,{className:"w-4 h-4"}),"Sections"]}),te&&(0,t.jsx)("div",{className:"absolute right-0 mt-2 w-60 bg-[#0C0F16] border border-white/10 rounded-xl shadow-lg shadow-black/40 p-2 space-y-1 max-h-72 overflow-y-auto custom-scrollbar",children:me.map(v=>{const B=D===v.id||v.id==="brandControls"&&!D;return(0,t.jsxs)("button",{type:"button",onClick:()=>{Re(v.id),oe(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left text-[12px] transition ${B?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-white/5 text-neutral-200 hover:border-purple-300 hover:text-white"}`,children:[(0,t.jsx)("span",{children:v.label}),B&&(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-purple-200",children:"Active"})]},v.id)})})]}),(0,t.jsxs)("button",{"aria-label":"Get export code",onClick:()=>fe(!0),className:"text-[11px] px-3 py-1.5 rounded-full border border-pink-400/60 text-white bg-pink-500/20 hover:bg-pink-500/30 transition flex items-center gap-1",children:[(0,t.jsx)(Kt,{className:"w-3 h-3"})," Export"]})]})]}),(0,t.jsxs)("div",{ref:w,className:"flex-1 overflow-y-auto px-4 sm:px-6 py-6 space-y-8 transition-all",style:{outline:q?"2px solid var(--jazer-electric-purple)":"none",outlineOffset:q?"2px":"0",overscrollBehavior:"contain",paddingBottom:Be?void 0:"8rem"},children:[(0,t.jsxs)("section",{ref:v=>{v&&(_.current.brandControls=v)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,t.jsx)("h3",{className:"text-base font-semibold text-white",children:"Global Palette"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{"aria-label":"Select brand kit",value:n,onChange:v=>M(v.target.value),className:"bg-[#0B0E12] border border-white/10 rounded-full text-xs text-white px-3 py-1.5",children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"jazer",children:"JaZeR Neon"}),S&&(0,t.jsx)("option",{value:"custom",children:L})]}),d&&(0,t.jsx)("button",{type:"button",onClick:d,className:"text-[11px] px-3 py-1.5 rounded-full border border-cyan-400/60 text-cyan-100 hover:border-cyan-200 transition",children:"Launch Generator"})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[n==="jazer"&&(0,t.jsxs)("div",{className:"p-3 bg-purple-500/10 border border-purple-400/40 rounded-xl text-xs text-purple-100 space-y-1",children:[(0,t.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(Me,{className:"w-3 h-3"})," Official JaZeR Kit"]}),(0,t.jsx)("p",{className:"text-purple-200/80",children:"Orbitron & Montserrat fonts, neon gradient accents, and night-mode canvas."})]}),n==="custom"&&ge&&(0,t.jsxs)("div",{className:"p-3 bg-cyan-500/10 border border-cyan-400/40 rounded-xl text-xs text-cyan-100 space-y-2",children:[(0,t.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(Me,{className:"w-3 h-3"})," ",L]}),(0,t.jsx)("p",{className:"text-cyan-100/80",children:"Widgets are synced with your logo palette."}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Background",color:ge.backgroundColor||ge.background},{label:"Primary",color:ge.clockColor||ge.primary},{label:"Digits",color:ge.digitColor||ge.secondary},{label:"Text",color:ge.textColor||ge.text}].map(({label:v,color:B})=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-10 rounded border border-white/20",style:{backgroundColor:B||"#0B0E12"}}),(0,t.jsx)("div",{className:"mt-1 text-[9px] uppercase text-neutral-400",children:v}),(0,t.jsx)("div",{className:"text-[9px] font-mono text-neutral-300",children:B||"--"})]},v))})]})]}),n==="custom"&&ge?.palette?.length>0&&(0,t.jsxs)("div",{className:"bg-[#0B0E12] border border-white/10 rounded-xl p-3",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase text-neutral-500 mb-2",children:"Palette Swatches"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:ge.palette.map((v,B)=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-10 rounded border border-white/10",style:{backgroundColor:v}}),(0,t.jsx)("div",{className:"text-[8px] text-neutral-400 truncate mt-1",children:v})]},`${v}-${B}`))})]}),n==="jazer"&&(0,t.jsx)(bs,{})]})]}),(0,t.jsxs)("section",{ref:v=>{v&&(_.current.appearanceControls=v)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Surface"}),(0,t.jsx)("h3",{className:"text-base font-semibold text-white",children:"Canvas & Appearance"})]}),c.fontSize!==void 0&&(0,t.jsxs)("div",{className:"text-[11px] text-neutral-400",children:[c.fontSize,"px"]})]}),c.fontSize!==void 0&&(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("div",{className:"flex justify-between",children:(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-400",children:"Font Size"})}),(0,t.jsx)("input",{"aria-label":"Font size slider",type:"range",min:cs,max:ds,value:c.fontSize,onChange:v=>X("fontSize",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-800 rounded-full appearance-none cursor-pointer accent-purple-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Background"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,t.jsx)("input",{"aria-label":"Background color",type:"color",value:c.bgColor,onChange:v=>X("bgColor",v.target.value),className:"w-8 h-8 rounded border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.bgColor})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Text"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,t.jsx)("input",{"aria-label":"Text color",type:"color",value:c.textColor||"#000000",onChange:v=>X("textColor",v.target.value),className:"w-8 h-8 rounded border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.textColor})]})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold text-neutral-400 uppercase",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(ct,{className:"w-3 h-3"})," Quick Find"]}),y&&(0,t.jsx)("button",{type:"button",onClick:()=>A(""),className:"text-[10px] text-neutral-300 hover:text-white transition-colors",children:"Clear"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(ct,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,t.jsx)("input",{type:"text",value:y,onChange:v=>A(v.target.value),placeholder:"Search labels, sections, or controls...",className:"w-full bg-white/5 border border-white/10 rounded-full py-2.5 pl-10 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0"})]}),ne.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ne.map(v=>(0,t.jsxs)("button",{type:"button",onClick:()=>Re(v.id),className:`px-3 py-1.5 rounded-full border text-[11px] ${D===v.id?"border-purple-400 text-white bg-purple-500/20":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"}`,children:[v.label," · ",v.controlCount]},v.id))})]}),(0,t.jsx)(Kr,{onColorsExtracted:v=>{if(!v){be(null),u(Le=>{if(!Le.brandThemeSnapshot)return Le;const Ue={...Le};return delete Ue.brandThemeSnapshot,Ue});return}const B=Ie(v,{appliedAt:new Date().toISOString()});if(!B)return;be(B);const I={...c,brandThemeSnapshot:B},H=B.backgroundColor||B.background,le=B.textColor||B.text,V=B.text||B.textColor||"#0B0E12",ke=B.background||B.backgroundColor||"#F8F9FF",ye=B.clockColor||B.primary||B.primaryColor,_e=B.digitColor||B.secondary||B.secondaryColor||ye,ze=B.accentColor||B.accent||ye,gt=Array.isArray(B.palette)?B.palette:[];if(a==="clock"?(I.lightMode={...I.lightMode,textColor:le,panelColor:H,digitColor:ye,clockColor:ye,backgroundColor:H},I.darkMode={...I.darkMode,textColor:ke,panelColor:V,digitColor:_e,clockColor:ze,backgroundColor:V},I.bgColor=H):a==="countdown"?(I.lightMode={...I.lightMode,textColor:le,panelColor:H,digitColor:ye,backgroundColor:H},I.darkMode={...I.darkMode,textColor:ke,panelColor:V,digitColor:_e,backgroundColor:V},I.bgColor=H):a==="quotes"&&(I.lightMode={...I.lightMode,textColor:le,authorColor:_e,backgroundColor:H},I.darkMode={...I.darkMode,textColor:ke,authorColor:ze,backgroundColor:V},I.bgColor=H),a==="counter")I.lightTextColor=le,I.darkTextColor=V,I.bgColor=H;else if(a==="weather")I.bgColor=H,I.textColor=le,I.accentColor=ze;else if(a==="imageGallery")I.bgColor=H;else if(a==="newButtonGenerator"){const Le=gt.length>0?gt:[ye,ze,le].filter(Boolean);I.buttons&&Array.isArray(I.buttons)&&(I.buttons=I.buttons.map((Ue,rt)=>({...Ue,backgroundColor:Le[rt%Le.length]||ye,textColor:le,outlineColor:ze,hoverBackgroundColor:H,hoverTextColor:Le[rt%Le.length]||ye}))),I.bgColor=H}else a==="simpleList"||a==="pomodoro"?(I.bgColor=H,I.textColor=le,I.accentColor=ze):(I.bgColor=H,I.textColor=le,I.accentColor!==void 0&&(I.accentColor=ze));u(I)}}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,t.jsx)(jo,{className:"w-3 h-3"})," Widget Controls"]}),J,ue&&(0,t.jsx)("div",{ref:N,className:"py-4 text-center text-[11px] text-neutral-400",children:"Keep scrolling to load more controls..."})]}),(0,t.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,t.jsx)(Je,{className:"w-3 h-3"})," Light Mode Colors"]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.lightMode?.textColor||P.colors.graphite,onChange:v=>X("lightMode",{textColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.lightMode?.textColor||P.colors.graphite})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.lightMode?.panelColor||P.colors.stardustWhite,onChange:v=>X("lightMode",{panelColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.lightMode?.panelColor||P.colors.stardustWhite})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.lightMode?.digitColor||P.colors.nightBlack,onChange:v=>X("lightMode",{digitColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.lightMode?.digitColor||P.colors.nightBlack})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,t.jsx)(Je,{className:"w-3 h-3"})," Dark Mode Colors"]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.darkMode?.textColor||P.colors.stardustWhite,onChange:v=>X("darkMode",{textColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.darkMode?.textColor||P.colors.stardustWhite})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.darkMode?.panelColor||P.colors.graphite,onChange:v=>X("darkMode",{panelColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.darkMode?.panelColor||P.colors.graphite})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,t.jsx)("input",{type:"color",value:c.darkMode?.digitColor||P.colors.stardustWhite,onChange:v=>X("darkMode",{digitColor:v.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:c.darkMode?.digitColor||P.colors.stardustWhite})]})]})]}),(0,t.jsx)("hr",{className:"border-neutral-100"}),a==="clock"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"border-neutral-100 my-4"}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["💡 ",(0,t.jsx)("strong",{children:"Advanced Clock Features:"})," Full light/dark mode support, 7+ clock styles, and custom fonts available in the full version."]})]})]}),!Be&&(0,t.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 z-30 flex items-center gap-3 bg-[#0A0C12]/95 border border-white/10 rounded-full px-4 py-2 shadow-lg shadow-black/40 backdrop-blur",children:[(0,t.jsx)("button",{type:"button",onClick:()=>oe(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:"Sections"}),(0,t.jsx)("button",{type:"button",onClick:()=>fe(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-pink-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300",children:"Export"})]})]})]})]})}function js(){const e=(0,h.useMemo)(()=>new URLSearchParams(window.location.search),[]),o=e.get("embed")==="1",r=e.get("widget"),s=e.get("config"),[d,l]=(0,h.useState)("landing"),[a,m]=(0,h.useState)("clock"),[n,g]=(0,h.useState)(()=>xs()),[c,u]=(0,h.useState)("landing"),[b,k]=(0,h.useState)(!1),[T,C]=(0,h.useState)(null),y=z=>{m(z),l("builder")},x=()=>{u(d),l("brand-generator")},_=()=>{l("landing")},w=(0,h.useCallback)(()=>{l(c||"landing")},[c]),N=z=>{g(z?Ie(z):null)};if(Do({"cmd+k":()=>{_()},"cmd+e":()=>{},"cmd+b":()=>{x()},"cmd+/":()=>{T&&T.focus()},"?":z=>{z.target.tagName==="INPUT"||z.target.tagName==="TEXTAREA"||k(!0)},Escape:()=>{k(!1)}},!o),o&&r&&De[r]){const z=De[r];let q=z.defaultConfig||{};s&&(q=hs(s)||q);const ie=gs(q,!1),Z=z.Component;return(0,t.jsx)("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:ie.bg,color:ie.text,fontFamily:"sans-serif",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,t.jsx)("div",{className:"w-full h-full",children:(0,t.jsx)(Z,{config:q,brandTheme:q.brandThemeSnapshot})})})}const f=n?.presetName||n?.name||"Custom Brand Theme",D=n?`${n.presetName||n.name||"custom"}-${n.appliedAt||n.backgroundColor||"base"}`:"none";return(0,t.jsxs)(Oo,{children:[(0,t.jsx)("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap');
        ${$r.jazer.extraCSS}
      `}),(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,t.jsx)(Eo,{currentView:d,onNavigateHome:_,onNavigateBuilder:()=>y(a||"clock"),onNavigateBrand:x,onOpenHelp:()=>k(!0),selectedWidgetId:a,selectedWidgetLabel:De[a]?.label||"",hasBrandTheme:!!n,brandLabel:f}),(0,t.jsx)("div",{className:"flex-1 w-full",children:d==="landing"?(0,t.jsx)(_s,{onSelect:y,onBrandGenerator:x,setSearchInputRef:C}):d==="brand-generator"?(0,t.jsx)(Xr,{children:(0,t.jsx)(ss,{onBack:w,onThemeGenerated:N})}):(0,t.jsx)(Cs,{initialWidgetId:a,onBack:_,globalBrandTheme:n,onBrandThemeUpdate:N,onLaunchBrandGenerator:x},D)}),(0,t.jsx)(Wo,{isOpen:b,onClose:()=>k(!1)})]})]})}var Ns=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches;const Ss=({children:e})=>{const[o,r]=(0,h.useState)(O),[s,d]=(0,h.useState)(()=>Ns()),[l,a]=(0,h.useState)("jazer-neon");(0,h.useEffect)(()=>{if(typeof window<"u"){const b=window.matchMedia("(prefers-color-scheme: dark)"),k=T=>d(T.matches);return b.addEventListener("change",k),()=>b.removeEventListener("change",k)}},[]);const m=(0,h.useCallback)((b,k="custom")=>{r(b),a(k)},[]),n=(0,h.useCallback)(()=>{r(O),a("jazer-neon")},[]),g=(0,h.useCallback)((b,k=O.colors.stardustWhite)=>o?.colors?.[b]||k,[o]),c=(0,h.useMemo)(()=>({...o,isDark:s,activeBrandId:l,isJazerNeon:l==="jazer-neon"}),[o,s,l]),u=(0,h.useMemo)(()=>({theme:c,setTheme:m,resetToJazerNeon:n,getColor:g,activeBrandId:l,baseTheme:O}),[c,m,n,g,l]);return(0,t.jsx)(Mr.Provider,{value:u,children:e})};(0,Mo.createRoot)(document.getElementById("root")).render((0,t.jsx)(h.StrictMode,{children:(0,t.jsx)(Ss,{children:(0,t.jsx)(js,{})})}));
